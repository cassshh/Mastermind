!function(){"use strict";function j(a){return parseFloat(a)||0}function f(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return b.reduce(function(b,c){return b+j(a["border-"+c+"-width"])},0)}function c(b){var e=Math.abs,g=Math.round,h=b.clientWidth,k=b.clientHeight;if(!h&&!k)return u;var p=m(b).getComputedStyle(b),s=function(a){for(var b={},c=0,d=["top","right","bottom","left"];c<d.length;c+=1){var e=d[c],f=a["padding-"+e];b[e]=j(f)}return b}(p),n=s.left+s.right,o=s.top+s.bottom,r=j(p.width),a=j(p.height);if("border-box"===p.boxSizing&&(g(r+n)!==h&&(r-=f(p,"left","right")+n),g(a+o)!==k&&(a-=f(p,"top","bottom")+o)),!function(a){return a===m(a).document.documentElement}(b)){var c=g(r+n)-h,l=g(a+o)-k;1!==e(c)&&(r-=c),1!==e(l)&&(a-=l)}return q(s.left,s.top,r,a)}function b(a){return n?p(a)?function(a){var b=a.getBBox();return q(0,0,b.width,b.height)}(a):c(a):u}function q(a,b,c,d){return{x:a,y:b,width:c,height:d}}var g=String.raw;const e=document.createElement("template");e.innerHTML=g`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      width: 100%;
      flex: 1;
      max-height: 100%;
      background: var(--accent-color, #ed1a59);
      color: var(--primary-color, #212121);
      font-size: 2.75em;
      align-items: center;
      justify-content: center;
      border-radius: 0 0 15px 15px;
      transition: max-height 1s ease, font-size .7s ease-in-out .3s;
    }
  </style>
  <slot></slot>
`,window.customElements.define("mm-toolbar",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(e,"mm-toolbar"),ShadyCSS.styleElement(this)),this.attachShadow({mode:"open"}).appendChild(e.content.cloneNode(!0))}});const t=document.createElement("template");t.innerHTML=g`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex-direction: column;
      flex: 1;
      align-items: center;
      justify-content: center;
    }

    .play {
      color: var(--accent-color, #ed1a59);
      font-size: 2.5em;
      padding: 1em;
      cursor: pointer;
      border: 1px var(--accent-color, #ed1a59) solid;
      border-radius: 15px;
      transition: all .5s ease;
    }

    .hide { 
      opacity: 0;
    }

    .play:hover {
      color: var(--primary-color, #212121);
      background-color: var(--accent-color, #ed1a59);
    }

  </style>
  <span id="playButton" class="play">Play</span>
`,window.customElements.define("mm-play",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(t,"mm-play"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(t.content.cloneNode(!0)),this.play=a.querySelector("#playButton")}setPlayListener(a){this.play.addEventListener("click",a)}hide(){this.play.classList.add("hide")}});const i=document.createElement("template");i.innerHTML=g`
  <style>
    :host {
      background: #343434;
      border-radius: 50%;
      opacity: .2;
      transition: background .3s ease-in-out, opacity .3s ease-in-out;
    }
  </style>
`,window.customElements.define("mm-circle",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(i,"mm-circle"),ShadyCSS.styleElement(this)),this.attachShadow({mode:"open"}).appendChild(i.content.cloneNode(!0))}setSize(a,b,c){const d=`${a>b?b-c:a-c}px`;this.style.width=d,this.style.height=d}setColor(a){this.style.background=a}setValue(a){this.value=a}setSelected(a){this.selected=a,this.setActive(this.selected)}setActive(a){this.style.opacity=a?1:.2}});var s=function(){function a(a,b){var c=-1;return a.some(function(a,d){return a[0]===b&&(c=d,!0)}),c}return"undefined"==typeof Map?function(){function b(){this.__entries__=[]}var c={size:{configurable:!0}};return c.size.get=function(){return this.__entries__.length},b.prototype.get=function(b){var c=a(this.__entries__,b),d=this.__entries__[c];return d&&d[1]},b.prototype.set=function(b,c){var d=a(this.__entries__,b);~d?this.__entries__[d][1]=c:this.__entries__.push([b,c])},b.prototype.delete=function(b){var c=this.__entries__,d=a(c,b);~d&&c.splice(d,1)},b.prototype.has=function(b){return!!~a(this.__entries__,b)},b.prototype.clear=function(){this.__entries__.splice(0)},b.prototype.forEach=function(a,b){void 0===b&&(b=null);for(var c,d=0,e=this.__entries__;d<e.length;d+=1)c=e[d],a.call(b,c[1],c[0])},Object.defineProperties(b.prototype,c),b}():Map}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,d=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(a,b){function c(){f&&(f=!1,a()),g&&e()}function d(){r(c)}function e(){var a=Date.now();if(f){if(a-h<2)return;g=!0}else f=!0,g=!1,setTimeout(d,b);h=a}var f=!1,g=!1,h=0;return e}(this.refresh.bind(this),20)};d.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()},d.prototype.removeObserver=function(a){var b=this.observers_,c=b.indexOf(a);~c&&b.splice(c,1),!b.length&&this.connected_&&this.disconnect_()},d.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},d.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return a.forEach(function(a){return a.broadcastActive()}),0<a.length},d.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},d.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},d.prototype.onTransitionEnd_=function(b){var c=b.propertyName;void 0===c&&(c=""),a.some(function(a){return!!~c.indexOf(a)})&&this.refresh()},d.getInstance=function(){return this.instance_||(this.instance_=new d),this.instance_},d.instance_=null;var h=function(a,b){for(var c,d=0,e=Object.keys(b);d<e.length;d+=1)c=e[d],Object.defineProperty(a,c,{value:b[c],enumerable:!1,writable:!1,configurable:!0});return a},m=function(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView||o},u=q(0,0,0,0),p="undefined"==typeof SVGGraphicsElement?function(a){return a instanceof m(a).SVGElement&&"function"==typeof a.getBBox}:function(a){return a instanceof m(a).SVGGraphicsElement},v=function(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=q(0,0,0,0),this.target=a};v.prototype.isActive=function(){var a=b(this.target);return this.contentRect_=a,a.width!==this.broadcastWidth||a.height!==this.broadcastHeight},v.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a};var w=function(b,d){var f,g,i,j,k,m,a,c=(g=(f=d).x,i=f.y,j=f.width,k=f.height,m="undefined"==typeof DOMRectReadOnly?Object:DOMRectReadOnly,a=Object.create(m.prototype),h(a,{x:g,y:i,width:j,height:k,top:i,right:g+j,bottom:k+i,left:g}),a);h(this,{target:b,contentRect:c})},y=function(a,b,c){if(this.activeObservations_=[],this.observations_=new s,"function"!=typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a,this.controller_=b,this.callbackCtx_=c};y.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof m(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)||(b.set(a,new v(a)),this.controller_.addObserver(this),this.controller_.refresh())}},y.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof m(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)&&(b.delete(a),b.size||this.controller_.removeObserver(this))}},y.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},y.prototype.gatherActive=function(){var a=this;this.clearActive(),this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})},y.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new w(a.target,a.broadcastRect())});this.callback_.call(a,b,a),this.clearActive()}},y.prototype.clearActive=function(){this.activeObservations_.splice(0)},y.prototype.hasActive=function(){return 0<this.activeObservations_.length};var x="undefined"==typeof WeakMap?new s:new WeakMap,B=function(a){if(!(this instanceof B))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var b=d.getInstance(),c=new y(a,b,this);x.set(this,c)};["observe","unobserve","disconnect"].forEach(function(a){B.prototype[a]=function(){return(b=x.get(this))[a].apply(b,arguments);var b}});var C=void 0===o.ResizeObserver?B:o.ResizeObserver;const k=["#FAFAFA","#F44336","#2196F3","#4CAF50","#FFEB3B","#FF9800"],D=document.createElement("template");D.innerHTML=g`
  <style>
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      flex: 1;
      margin: 2px;
      transition: all .7s ease-in-out;
    }

    .transition {
      transition: all .5s ease-in-out, margin 1s ease-in-out;
    }

    .hidden {
      height: 0 !important;
      width: 0 !important;
      opacity: 0;
    }

  </style>
  <mm-circle></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
`,window.customElements.define("mm-board-item",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(D,"mm-board-item"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(D.content.cloneNode(!0)),this.active=!1,this.animating=!1,this.dnd=!1,this.onClick=this.onClick.bind(this),this.circles=a.querySelectorAll("mm-circle"),this.circles.forEach((a,b)=>{a.setValue(b),a.setColor(k[b]),a.classList.contains("hidden")||(a.active=!0)}),new C((a)=>{for(const b of a){const{width:a,height:c}=b.contentRect;this.circles.forEach((b)=>{this.showingCircles||this.animating?(b.setSize(a/1.2,c/1.2,5),b.style.margin="0 2px"):(b.setSize(a,c,5),b.style.margin="0")})}}).observe(this)}setActive(a){return this.active=a,this.active}animate(){this.style.flex=this.active?10:1,this.active?this.showCircles():this.hideCircles()}showCircles(){this.showingCircles=!0,this.circles.forEach((a,b)=>{a.addEventListener("click",this.onClick,!0),a.setActive(!0),a.classList.add("transition"),setTimeout(()=>{a.classList.remove("hidden")},100*b)})}hideCircles(){this.showingCircles&&(this.animating=!0,this.dnd=!0,this.circles.forEach((a,b)=>{a.removeEventListener("click",this.onClick,!0),a.setActive(a.selected),a.active?(this.animating=!1,setTimeout(()=>{a.classList.remove("transition"),this.dnd=!1},600)):setTimeout(()=>{a.classList.add("hidden"),setTimeout(()=>{a.classList.remove("transition")},600)},100*b)}),this.showingCircles=!1)}onClick(a){a.stopPropagation(),this.circles.forEach((b)=>{b.active=b===a.target,b.setSelected(b===a.target)}),this.setActive(!1),this.animate(),this.dispatchEvent(new CustomEvent("selected",{}))}getSelected(){let a=null;return this.circles.forEach((b)=>{b.selected&&(a=b)}),a}});const E=document.createElement("template");E.innerHTML=g`
  <style>
    :host {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex: 0;
      margin: 2px;
      transition: all .5s ease-in-out;
    }

    .keys-row {
      display: flex;
      flex: 0;
      width: 100%;
      align-items: center;
      justify-content: center;
      transition: all .5s ease-in-out;
    }

    .send-container {
      display: flex;
      flex: 0;
      width: 100%;
      transition: all .5s ease-in-out;
    }

    .send {
      display: flex;
      flex: 0;
      height: unset;
      width: 0;
      transition: all .5s ease-in-out;
    }

    #arrow {
      fill: #FAFAFA;
    }

  </style>
  <div class="keys-row">
    <mm-circle></mm-circle>
    <mm-circle></mm-circle>
  </div>
  <div class="send-container">
  <svg class="send" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
    <g id="boxes"> <g id="ui_x5F_spec_x5F_header_copy_3" display="none"> </g> <path fill="none" d="M0,0h24v24H0V0z"/> </g> <g id="arrow"> <g id="ui_x5F_spec_x5F_header_copy_6" display="none"> </g> <path d="M3.4,20.4l17.45-7.48c0.81-0.35,0.81-1.49,0-1.84L3.4,3.6C2.74,3.31,2.01,3.8,2.01,4.51L2,9.12c0,0.5,0.37,0.93,0.87,0.99 L17,12L2.87,13.88C2.37,13.95,2,14.38,2,14.88l0.01,4.61C2.01,20.2,2.74,20.69,3.4,20.4z"/> </g>
  </svg>
  </div>
  <div class="keys-row">
    <mm-circle></mm-circle>
    <mm-circle></mm-circle>
  </div>
`,window.customElements.define("mm-board-result",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(E,"mm-board-result"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(E.content.cloneNode(!0)),this.showResult=!1,this.onClick=this.onClick.bind(this),this.sendContainer=a.querySelector(".send-container"),this.send=a.querySelector(".send"),this.send.addEventListener("click",this.onClick),this.keysRows=a.querySelectorAll(".keys-row"),this.circles=a.querySelectorAll("mm-circle");const b=new C((a)=>{for(const b of a){const{width:a,height:c}=b.contentRect;this.circles.forEach((b)=>{this.showResult&&b.setSize(a,c,5)})}});this.keysRows.forEach((a)=>{b.observe(a)})}showSend(a){a&&!this.showResult?(this.style.flex=1,this.sendContainer.style.flex=1,setTimeout(()=>this.send.style.flex=1,100)):(this.showResult=!0,this.sendContainer.style.justifyContent="flex-end",this.send.style.flex=0,setTimeout(()=>{this.sendContainer.style.flex=0,this.keysRows.forEach((a)=>{a.style.flex=1}),this.circles.forEach((a)=>{a.style.margin="2px"})},150))}setResult({hits:a,pseudoHits:b}){this.setSend(!1),this.keysRows.forEach((a)=>a.style.flex=1),this.circles.forEach((c)=>{0<a--?c.color("red"):0<b--&&c.color("white")})}onClick(){this.showSend(!1),this.dispatchEvent(new CustomEvent("send",{}))}});const A=document.createElement("template");A.innerHTML=g`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
    }

  </style>
  <mm-board-item></mm-board-item>
  <mm-board-item></mm-board-item>
  <mm-board-item></mm-board-item>
  <mm-board-item></mm-board-item>
  <mm-board-result></mm-board-result>
`,window.customElements.define("mm-board-row",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(A,"mm-board-row"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(A.content.cloneNode(!0)),this.onClick=this.onClick.bind(this),this.validateSend=this.validateSend.bind(this),this.validateCode=this.validateCode.bind(this),this.items=a.querySelectorAll("mm-board-item"),this.items.forEach((a)=>{a.addEventListener("click",this.onClick),a.addEventListener("selected",this.validateSend)}),this.result=a.querySelector("mm-board-result"),this.result.addEventListener("send",this.validateCode)}onClick(a){const b=a.target;if(b.active||b.dnd)return;let c=!1;this.items.forEach((a)=>{a.showingCircles&&(c=!0),a.setActive(!1),a.animate()}),b.setActive(!0),setTimeout(()=>{b.animate()},c?600:200)}setActive(a){this.style.flex=a?1.1:1}validateSend(){let a=!0;this.items.forEach((b)=>{b.getSelected()||(a=!1)}),a&&this.result.showSend(!0)}validateCode(){console.log("Start validation")}});const F=document.createElement("template");F.innerHTML=g`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex-direction: column;
      flex: 1;
      align-items: center;
      justify-content: center;
    }

    mm-board-row {
      display: flex;
      flex: 1;
      width: 100%;
      max-width: 600px;
      transition: all .5s ease;
    }
  </style>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
`,window.customElements.define("mm-board",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(F,"mm-board"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(F.content.cloneNode(!0)),this.rows=a.querySelectorAll("mm-board-row"),setTimeout(()=>this.rows[this.rows.length-1].setActive(!0),500)}});const G=document.createElement("template");G.innerHTML=g`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex: 1;
    }

    mm-toolbar.toolbar {
      max-height: 64px;
      font-size: 1.75em;
    }
    
  </style>
  <mm-toolbar class="toolbar">Mastermind</mm-toolbar>
  <!-- <mm-play></mm-play> -->
  <mm-board></mm-board>
`,window.customElements.define("mm-app",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(G,"mm-app"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(G.content.cloneNode(!0)),this.toolbar=a.querySelector("mm-toolbar")}});const z=new class{constructor({solution:a,tries:b=12}){this.solution=a,this.tries=b,this.calc=this.calc,this.try=this.try}try({guess:a=[]}){return Object.assign(this.guess({guess:a}),{tries:--this.tries})}guess({guess:a=[]}){if(a.length!==this.solution.length)return;const b={hits:0,pseudoHits:0},c=this.solution.slice(),d=Array(this.solution.length).fill(0);return a.forEach((a,e)=>{a===this.solution[e]?(b.hits+=1,c[e]=-1):d[a]++}),d.forEach((a,c)=>{0<a&&this.solution.includes(c)&&b.pseudoHits++}),b}}({solution:[3,2,2,0]});console.log(z.try({guess:[2,1,1,0]}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLm1qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbC9kaXN0L1Jlc2l6ZU9ic2VydmVyLmVzLmpzIiwiLi4vLi4vc3JjL2h0bWwubWpzIiwiLi4vLi4vc3JjL21tLXRvb2xiYXIubWpzIiwiLi4vLi4vc3JjL21tLXBsYXkubWpzIiwiLi4vLi4vc3JjL21tLWNpcmNsZS5tanMiLCIuLi8uLi9zcmMvY29uZmlnLm1qcyIsIi4uLy4uL3NyYy9tbS1ib2FyZC1pdGVtLm1qcyIsIi4uLy4uL3NyYy9tbS1ib2FyZC1yZXN1bHQubWpzIiwiLi4vLi4vc3JjL21tLWJvYXJkLXJvdy5tanMiLCIuLi8uLi9zcmMvbW0tYm9hcmQubWpzIiwiLi4vLi4vc3JjL21tLWFwcC5tanMiLCIuLi8uLi9zcmMvYXBwLm1qcyIsIi4uLy4uL3NyYy9tYXN0ZXIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBIGNvbGxlY3Rpb24gb2Ygc2hpbXMgdGhhdCBwcm92aWRlIG1pbmltYWwgZnVuY3Rpb25hbGl0eSBvZiB0aGUgRVM2IGNvbGxlY3Rpb25zLlxyXG4gKlxyXG4gKiBUaGVzZSBpbXBsZW1lbnRhdGlvbnMgYXJlIG5vdCBtZWFudCB0byBiZSB1c2VkIG91dHNpZGUgb2YgdGhlIFJlc2l6ZU9ic2VydmVyXHJcbiAqIG1vZHVsZXMgYXMgdGhleSBjb3ZlciBvbmx5IGEgbGltaXRlZCByYW5nZSBvZiB1c2UgY2FzZXMuXHJcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgcmVxdWlyZS1qc2RvYywgdmFsaWQtanNkb2MgKi9cbnZhciBNYXBTaGltID0gKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIE1hcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIE1hcDtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFJldHVybnMgaW5kZXggaW4gcHJvdmlkZWQgYXJyYXkgdGhhdCBtYXRjaGVzIHRoZSBzcGVjaWZpZWQga2V5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QXJyYXk8QXJyYXk+fSBhcnJcclxuICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SW5kZXgoYXJyLCBrZXkpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gICAgICAgIGFyci5zb21lKGZ1bmN0aW9uIChlbnRyeSwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeVswXSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gaW5kZXg7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJldHVybiAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBhbm9ueW1vdXMoKSB7XG4gICAgICAgICAgICB0aGlzLl9fZW50cmllc19fID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBzaXplOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgICAgICovXG4gICAgICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zaXplLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9fZW50cmllc19fLmxlbmd0aDtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAqIEByZXR1cm5zIHsqfVxyXG4gICAgICAgICAqL1xuICAgICAgICBhbm9ueW1vdXMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4KHRoaXMuX19lbnRyaWVzX18sIGtleSk7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSB0aGlzLl9fZW50cmllc19fW2luZGV4XTtcblxuICAgICAgICAgICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5WzFdO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xuICAgICAgICBhbm9ueW1vdXMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBnZXRJbmRleCh0aGlzLl9fZW50cmllc19fLCBrZXkpO1xuXG4gICAgICAgICAgICBpZiAofmluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2VudHJpZXNfX1tpbmRleF1bMV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2VudHJpZXNfXy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cbiAgICAgICAgYW5vbnltb3VzLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgZW50cmllcyA9IHRoaXMuX19lbnRyaWVzX187XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBnZXRJbmRleChlbnRyaWVzLCBrZXkpO1xuXG4gICAgICAgICAgICBpZiAofmluZGV4KSB7XG4gICAgICAgICAgICAgICAgZW50cmllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXG4gICAgICAgIGFub255bW91cy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuICEhfmdldEluZGV4KHRoaXMuX19lbnRyaWVzX18sIGtleSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXG4gICAgICAgIGFub255bW91cy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9fZW50cmllc19fLnNwbGljZSgwKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW2N0eD1udWxsXVxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xuICAgICAgICBhbm9ueW1vdXMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGN0eCkge1xuICAgICAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIGN0eCA9PT0gdm9pZCAwICkgY3R4ID0gbnVsbDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSB0aGlzJDEuX19lbnRyaWVzX187IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gbGlzdFtpXTtcblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoY3R4LCBlbnRyeVsxXSwgZW50cnlbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBhbm9ueW1vdXMucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgICAgICByZXR1cm4gYW5vbnltb3VzO1xuICAgIH0oKSk7XG59KSgpO1xuXG4vKipcclxuICogRGV0ZWN0cyB3aGV0aGVyIHdpbmRvdyBhbmQgZG9jdW1lbnQgb2JqZWN0cyBhcmUgYXZhaWxhYmxlIGluIGN1cnJlbnQgZW52aXJvbm1lbnQuXHJcbiAqL1xudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ID09PSBkb2N1bWVudDtcblxuLy8gUmV0dXJucyBnbG9iYWwgb2JqZWN0IG9mIGEgY3VycmVudCBlbnZpcm9ubWVudC5cbnZhciBnbG9iYWwkMSA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmIGdsb2JhbC5NYXRoID09PSBNYXRoKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWw7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT09IE1hdGgpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09PSBNYXRoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gICAgcmV0dXJuIEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG59KSgpO1xuXG4vKipcclxuICogQSBzaGltIGZvciB0aGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHdoaWNoIGZhbGxzIGJhY2sgdG8gdGhlIHNldFRpbWVvdXQgaWZcclxuICogZmlyc3Qgb25lIGlzIG5vdCBzdXBwb3J0ZWQuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJlcXVlc3RzJyBpZGVudGlmaWVyLlxyXG4gKi9cbnZhciByZXF1ZXN0QW5pbWF0aW9uRnJhbWUkMSA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gSXQncyByZXF1aXJlZCB0byB1c2UgYSBib3VuZGVkIGZ1bmN0aW9uIGJlY2F1c2UgSUUgc29tZXRpbWVzIHRocm93c1xuICAgICAgICAvLyBhbiBcIkludmFsaWQgY2FsbGluZyBvYmplY3RcIiBlcnJvciBpZiByQUYgaXMgaW52b2tlZCB3aXRob3V0IHRoZSBnbG9iYWxcbiAgICAgICAgLy8gb2JqZWN0IG9uIHRoZSBsZWZ0IGhhbmQgc2lkZS5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKGdsb2JhbCQxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7IHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxiYWNrKERhdGUubm93KCkpOyB9LCAxMDAwIC8gNjApOyB9O1xufSkoKTtcblxuLy8gRGVmaW5lcyBtaW5pbXVtIHRpbWVvdXQgYmVmb3JlIGFkZGluZyBhIHRyYWlsaW5nIGNhbGwuXG52YXIgdHJhaWxpbmdUaW1lb3V0ID0gMjtcblxuLyoqXHJcbiAqIENyZWF0ZXMgYSB3cmFwcGVyIGZ1bmN0aW9uIHdoaWNoIGVuc3VyZXMgdGhhdCBwcm92aWRlZCBjYWxsYmFjayB3aWxsIGJlXHJcbiAqIGludm9rZWQgb25seSBvbmNlIGR1cmluZyB0aGUgc3BlY2lmaWVkIGRlbGF5IHBlcmlvZC5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBiZSBpbnZva2VkIGFmdGVyIHRoZSBkZWxheSBwZXJpb2QuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSAtIERlbGF5IGFmdGVyIHdoaWNoIHRvIGludm9rZSBjYWxsYmFjay5cclxuICogQHJldHVybnMge0Z1bmN0aW9ufVxyXG4gKi9cbnZhciB0aHJvdHRsZSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVsYXkpIHtcbiAgICB2YXIgbGVhZGluZ0NhbGwgPSBmYWxzZSxcbiAgICAgICAgdHJhaWxpbmdDYWxsID0gZmFsc2UsXG4gICAgICAgIGxhc3RDYWxsVGltZSA9IDA7XG5cbiAgICAvKipcclxuICAgICAqIEludm9rZXMgdGhlIG9yaWdpbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIGFuZCBzY2hlZHVsZXMgbmV3IGludm9jYXRpb24gaWZcclxuICAgICAqIHRoZSBcInByb3h5XCIgd2FzIGNhbGxlZCBkdXJpbmcgY3VycmVudCByZXF1ZXN0LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVBlbmRpbmcoKSB7XG4gICAgICAgIGlmIChsZWFkaW5nQ2FsbCkge1xuICAgICAgICAgICAgbGVhZGluZ0NhbGwgPSBmYWxzZTtcblxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFpbGluZ0NhbGwpIHtcbiAgICAgICAgICAgIHByb3h5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIENhbGxiYWNrIGludm9rZWQgYWZ0ZXIgdGhlIHNwZWNpZmllZCBkZWxheS4gSXQgd2lsbCBmdXJ0aGVyIHBvc3Rwb25lXHJcbiAgICAgKiBpbnZvY2F0aW9uIG9mIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBkZWxlZ2F0aW5nIGl0IHRvIHRoZVxyXG4gICAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGltZW91dENhbGxiYWNrKCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUkMShyZXNvbHZlUGVuZGluZyk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBTY2hlZHVsZXMgaW52b2NhdGlvbiBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm94eSgpIHtcbiAgICAgICAgdmFyIHRpbWVTdGFtcCA9IERhdGUubm93KCk7XG5cbiAgICAgICAgaWYgKGxlYWRpbmdDYWxsKSB7XG4gICAgICAgICAgICAvLyBSZWplY3QgaW1tZWRpYXRlbHkgZm9sbG93aW5nIGNhbGxzLlxuICAgICAgICAgICAgaWYgKHRpbWVTdGFtcCAtIGxhc3RDYWxsVGltZSA8IHRyYWlsaW5nVGltZW91dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2NoZWR1bGUgbmV3IGNhbGwgdG8gYmUgaW4gaW52b2tlZCB3aGVuIHRoZSBwZW5kaW5nIG9uZSBpcyByZXNvbHZlZC5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgaW1wb3J0YW50IGZvciBcInRyYW5zaXRpb25zXCIgd2hpY2ggbmV2ZXIgYWN0dWFsbHkgc3RhcnRcbiAgICAgICAgICAgIC8vIGltbWVkaWF0ZWx5IHNvIHRoZXJlIGlzIGEgY2hhbmNlIHRoYXQgd2UgbWlnaHQgbWlzcyBvbmUgaWYgY2hhbmdlXG4gICAgICAgICAgICAvLyBoYXBwZW5zIGFtaWRzIHRoZSBwZW5kaW5nIGludm9jYXRpb24uXG4gICAgICAgICAgICB0cmFpbGluZ0NhbGwgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVhZGluZ0NhbGwgPSB0cnVlO1xuICAgICAgICAgICAgdHJhaWxpbmdDYWxsID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQodGltZW91dENhbGxiYWNrLCBkZWxheSk7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lU3RhbXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3h5O1xufTtcblxuLy8gTWluaW11bSBkZWxheSBiZWZvcmUgaW52b2tpbmcgdGhlIHVwZGF0ZSBvZiBvYnNlcnZlcnMuXG52YXIgUkVGUkVTSF9ERUxBWSA9IDIwO1xuXG4vLyBBIGxpc3Qgb2Ygc3Vic3RyaW5ncyBvZiBDU1MgcHJvcGVydGllcyB1c2VkIHRvIGZpbmQgdHJhbnNpdGlvbiBldmVudHMgdGhhdFxuLy8gbWlnaHQgYWZmZWN0IGRpbWVuc2lvbnMgb2Ygb2JzZXJ2ZWQgZWxlbWVudHMuXG52YXIgdHJhbnNpdGlvbktleXMgPSBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCcsICd3aWR0aCcsICdoZWlnaHQnLCAnc2l6ZScsICd3ZWlnaHQnXTtcblxuLy8gQ2hlY2sgaWYgTXV0YXRpb25PYnNlcnZlciBpcyBhdmFpbGFibGUuXG52YXIgbXV0YXRpb25PYnNlcnZlclN1cHBvcnRlZCA9IHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJztcblxuLyoqXHJcbiAqIFNpbmdsZXRvbiBjb250cm9sbGVyIGNsYXNzIHdoaWNoIGhhbmRsZXMgdXBkYXRlcyBvZiBSZXNpemVPYnNlcnZlciBpbnN0YW5jZXMuXHJcbiAqL1xudmFyIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY29ubmVjdGVkXyA9IGZhbHNlO1xuICAgIHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8gPSBmYWxzZTtcbiAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXyA9IG51bGw7XG4gICAgdGhpcy5vYnNlcnZlcnNfID0gW107XG5cbiAgICB0aGlzLm9uVHJhbnNpdGlvbkVuZF8gPSB0aGlzLm9uVHJhbnNpdGlvbkVuZF8uYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlZnJlc2ggPSB0aHJvdHRsZSh0aGlzLnJlZnJlc2guYmluZCh0aGlzKSwgUkVGUkVTSF9ERUxBWSk7XG59O1xuXG4vKipcclxuICogQWRkcyBvYnNlcnZlciB0byBvYnNlcnZlcnMgbGlzdC5cclxuICpcclxuICogQHBhcmFtIHtSZXNpemVPYnNlcnZlclNQSX0gb2JzZXJ2ZXIgLSBPYnNlcnZlciB0byBiZSBhZGRlZC5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuXG5cbi8qKlxyXG4gKiBIb2xkcyByZWZlcmVuY2UgdG8gdGhlIGNvbnRyb2xsZXIncyBpbnN0YW5jZS5cclxuICpcclxuICogQHByaXZhdGUge1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlcn1cclxuICovXG5cblxuLyoqXHJcbiAqIEtlZXBzIHJlZmVyZW5jZSB0byB0aGUgaW5zdGFuY2Ugb2YgTXV0YXRpb25PYnNlcnZlci5cclxuICpcclxuICogQHByaXZhdGUge011dGF0aW9uT2JzZXJ2ZXJ9XHJcbiAqL1xuXG4vKipcclxuICogSW5kaWNhdGVzIHdoZXRoZXIgRE9NIGxpc3RlbmVycyBoYXZlIGJlZW4gYWRkZWQuXHJcbiAqXHJcbiAqIEBwcml2YXRlIHtib29sZWFufVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUuYWRkT2JzZXJ2ZXIgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICBpZiAoIX50aGlzLm9ic2VydmVyc18uaW5kZXhPZihvYnNlcnZlcikpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnNfLnB1c2gob2JzZXJ2ZXIpO1xuICAgIH1cblxuICAgIC8vIEFkZCBsaXN0ZW5lcnMgaWYgdGhleSBoYXZlbid0IGJlZW4gYWRkZWQgeWV0LlxuICAgIGlmICghdGhpcy5jb25uZWN0ZWRfKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdF8oKTtcbiAgICB9XG59O1xuXG4vKipcclxuICogUmVtb3ZlcyBvYnNlcnZlciBmcm9tIG9ic2VydmVycyBsaXN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyU1BJfSBvYnNlcnZlciAtIE9ic2VydmVyIHRvIGJlIHJlbW92ZWQuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlT2JzZXJ2ZXIgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnNfO1xuICAgIHZhciBpbmRleCA9IG9ic2VydmVycy5pbmRleE9mKG9ic2VydmVyKTtcblxuICAgIC8vIFJlbW92ZSBvYnNlcnZlciBpZiBpdCdzIHByZXNlbnQgaW4gcmVnaXN0cnkuXG4gICAgaWYgKH5pbmRleCkge1xuICAgICAgICBvYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgbGlzdGVuZXJzIGlmIGNvbnRyb2xsZXIgaGFzIG5vIGNvbm5lY3RlZCBvYnNlcnZlcnMuXG4gICAgaWYgKCFvYnNlcnZlcnMubGVuZ3RoICYmIHRoaXMuY29ubmVjdGVkXykge1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RfKCk7XG4gICAgfVxufTtcblxuLyoqXHJcbiAqIEludm9rZXMgdGhlIHVwZGF0ZSBvZiBvYnNlcnZlcnMuIEl0IHdpbGwgY29udGludWUgcnVubmluZyB1cGRhdGVzIGluc29mYXJcclxuICogaXQgZGV0ZWN0cyBjaGFuZ2VzLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNoYW5nZXNEZXRlY3RlZCA9IHRoaXMudXBkYXRlT2JzZXJ2ZXJzXygpO1xuXG4gICAgLy8gQ29udGludWUgcnVubmluZyB1cGRhdGVzIGlmIGNoYW5nZXMgaGF2ZSBiZWVuIGRldGVjdGVkIGFzIHRoZXJlIG1pZ2h0XG4gICAgLy8gYmUgZnV0dXJlIG9uZXMgY2F1c2VkIGJ5IENTUyB0cmFuc2l0aW9ucy5cbiAgICBpZiAoY2hhbmdlc0RldGVjdGVkKSB7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBVcGRhdGVzIGV2ZXJ5IG9ic2VydmVyIGZyb20gb2JzZXJ2ZXJzIGxpc3QgYW5kIG5vdGlmaWVzIHRoZW0gb2YgcXVldWVkXHJcbiAqIGVudHJpZXMuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIFwidHJ1ZVwiIGlmIGFueSBvYnNlcnZlciBoYXMgZGV0ZWN0ZWQgY2hhbmdlcyBpblxyXG4gKiAgZGltZW5zaW9ucyBvZiBpdCdzIGVsZW1lbnRzLlxyXG4gKi9cblJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUudXBkYXRlT2JzZXJ2ZXJzXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBDb2xsZWN0IG9ic2VydmVycyB0aGF0IGhhdmUgYWN0aXZlIG9ic2VydmF0aW9ucy5cbiAgICB2YXIgYWN0aXZlT2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnNfLmZpbHRlcihmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyLmdhdGhlckFjdGl2ZSgpLCBvYnNlcnZlci5oYXNBY3RpdmUoKTtcbiAgICB9KTtcblxuICAgIC8vIERlbGl2ZXIgbm90aWZpY2F0aW9ucyBpbiBhIHNlcGFyYXRlIGN5Y2xlIGluIG9yZGVyIHRvIGF2b2lkIGFueVxuICAgIC8vIGNvbGxpc2lvbnMgYmV0d2VlbiBvYnNlcnZlcnMsIGUuZy4gd2hlbiBtdWx0aXBsZSBpbnN0YW5jZXMgb2ZcbiAgICAvLyBSZXNpemVPYnNlcnZlciBhcmUgdHJhY2tpbmcgdGhlIHNhbWUgZWxlbWVudCBhbmQgdGhlIGNhbGxiYWNrIG9mIG9uZVxuICAgIC8vIG9mIHRoZW0gY2hhbmdlcyBjb250ZW50IGRpbWVuc2lvbnMgb2YgdGhlIG9ic2VydmVkIHRhcmdldC4gU29tZXRpbWVzXG4gICAgLy8gdGhpcyBtYXkgcmVzdWx0IGluIG5vdGlmaWNhdGlvbnMgYmVpbmcgYmxvY2tlZCBmb3IgdGhlIHJlc3Qgb2Ygb2JzZXJ2ZXJzLlxuICAgIGFjdGl2ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZlcikgeyByZXR1cm4gb2JzZXJ2ZXIuYnJvYWRjYXN0QWN0aXZlKCk7IH0pO1xuXG4gICAgcmV0dXJuIGFjdGl2ZU9ic2VydmVycy5sZW5ndGggPiAwO1xufTtcblxuLyoqXHJcbiAqIEluaXRpYWxpemVzIERPTSBsaXN0ZW5lcnMuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUuY29ubmVjdF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gRG8gbm90aGluZyBpZiBydW5uaW5nIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnQgb3IgaWYgbGlzdGVuZXJzXG4gICAgLy8gaGF2ZSBiZWVuIGFscmVhZHkgYWRkZWQuXG4gICAgaWYgKCFpc0Jyb3dzZXIgfHwgdGhpcy5jb25uZWN0ZWRfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTdWJzY3JpcHRpb24gdG8gdGhlIFwiVHJhbnNpdGlvbmVuZFwiIGV2ZW50IGlzIHVzZWQgYXMgYSB3b3JrYXJvdW5kIGZvclxuICAgIC8vIGRlbGF5ZWQgdHJhbnNpdGlvbnMuIFRoaXMgd2F5IGl0J3MgcG9zc2libGUgdG8gY2FwdHVyZSBhdCBsZWFzdCB0aGVcbiAgICAvLyBmaW5hbCBzdGF0ZSBvZiBhbiBlbGVtZW50LlxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm9uVHJhbnNpdGlvbkVuZF8pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVmcmVzaCk7XG5cbiAgICBpZiAobXV0YXRpb25PYnNlcnZlclN1cHBvcnRlZCkge1xuICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMucmVmcmVzaCk7XG5cbiAgICAgICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8ub2JzZXJ2ZShkb2N1bWVudCwge1xuICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICAgICAgICBzdWJ0cmVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHRoaXMucmVmcmVzaCk7XG5cbiAgICAgICAgdGhpcy5tdXRhdGlvbkV2ZW50c0FkZGVkXyA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5jb25uZWN0ZWRfID0gdHJ1ZTtcbn07XG5cbi8qKlxyXG4gKiBSZW1vdmVzIERPTSBsaXN0ZW5lcnMuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUuZGlzY29ubmVjdF8gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gRG8gbm90aGluZyBpZiBydW5uaW5nIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnQgb3IgaWYgbGlzdGVuZXJzXG4gICAgLy8gaGF2ZSBiZWVuIGFscmVhZHkgcmVtb3ZlZC5cbiAgICBpZiAoIWlzQnJvd3NlciB8fCAhdGhpcy5jb25uZWN0ZWRfKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5vblRyYW5zaXRpb25FbmRfKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZWZyZXNoKTtcblxuICAgIGlmICh0aGlzLm11dGF0aW9uc09ic2VydmVyXykge1xuICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXy5kaXNjb25uZWN0KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8pIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NU3VidHJlZU1vZGlmaWVkJywgdGhpcy5yZWZyZXNoKTtcbiAgICB9XG5cbiAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXyA9IG51bGw7XG4gICAgdGhpcy5tdXRhdGlvbkV2ZW50c0FkZGVkXyA9IGZhbHNlO1xuICAgIHRoaXMuY29ubmVjdGVkXyA9IGZhbHNlO1xufTtcblxuLyoqXHJcbiAqIFwiVHJhbnNpdGlvbmVuZFwiIGV2ZW50IGhhbmRsZXIuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkV2ZW50fSBldmVudFxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uVHJhbnNpdGlvbkVuZF8gPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSByZWYucHJvcGVydHlOYW1lOyBpZiAoIHByb3BlcnR5TmFtZSA9PT0gdm9pZCAwICkgcHJvcGVydHlOYW1lID0gJyc7XG5cbiAgICAvLyBEZXRlY3Qgd2hldGhlciB0cmFuc2l0aW9uIG1heSBhZmZlY3QgZGltZW5zaW9ucyBvZiBhbiBlbGVtZW50LlxuICAgIHZhciBpc1JlZmxvd1Byb3BlcnR5ID0gdHJhbnNpdGlvbktleXMuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiAhIX5wcm9wZXJ0eU5hbWUuaW5kZXhPZihrZXkpO1xuICAgIH0pO1xuXG4gICAgaWYgKGlzUmVmbG93UHJvcGVydHkpIHtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxufTtcblxuLyoqXHJcbiAqIFJldHVybnMgaW5zdGFuY2Ugb2YgdGhlIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5cclxuICpcclxuICogQHJldHVybnMge1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlcn1cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmluc3RhbmNlXykge1xuICAgICAgICB0aGlzLmluc3RhbmNlXyA9IG5ldyBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZV87XG59O1xuXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuaW5zdGFuY2VfID0gbnVsbDtcblxuLyoqXHJcbiAqIERlZmluZXMgbm9uLXdyaXRhYmxlL2VudW1lcmFibGUgcHJvcGVydGllcyBvZiB0aGUgcHJvdmlkZWQgdGFyZ2V0IG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCAtIE9iamVjdCBmb3Igd2hpY2ggdG8gZGVmaW5lIHByb3BlcnRpZXMuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyAtIFByb3BlcnRpZXMgdG8gYmUgZGVmaW5lZC5cclxuICogQHJldHVybnMge09iamVjdH0gVGFyZ2V0IG9iamVjdC5cclxuICovXG52YXIgZGVmaW5lQ29uZmlndXJhYmxlID0gKGZ1bmN0aW9uICh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBPYmplY3Qua2V5cyhwcm9wcyk7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHZhciBrZXkgPSBsaXN0W2ldO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICAgICAgICAgICAgdmFsdWU6IHByb3BzW2tleV0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xufSk7XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBnbG9iYWwgb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCBwcm92aWRlZCBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XHJcbiAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAqL1xudmFyIGdldFdpbmRvd09mID0gKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAvLyBBc3N1bWUgdGhhdCB0aGUgZWxlbWVudCBpcyBhbiBpbnN0YW5jZSBvZiBOb2RlLCB3aGljaCBtZWFucyB0aGF0IGl0XG4gICAgLy8gaGFzIHRoZSBcIm93bmVyRG9jdW1lbnRcIiBwcm9wZXJ0eSBmcm9tIHdoaWNoIHdlIGNhbiByZXRyaWV2ZSBhXG4gICAgLy8gY29ycmVzcG9uZGluZyBnbG9iYWwgb2JqZWN0LlxuICAgIHZhciBvd25lckdsb2JhbCA9IHRhcmdldCAmJiB0YXJnZXQub3duZXJEb2N1bWVudCAmJiB0YXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcblxuICAgIC8vIFJldHVybiB0aGUgbG9jYWwgZ2xvYmFsIG9iamVjdCBpZiBpdCdzIG5vdCBwb3NzaWJsZSBleHRyYWN0IG9uZSBmcm9tXG4gICAgLy8gcHJvdmlkZWQgZWxlbWVudC5cbiAgICByZXR1cm4gb3duZXJHbG9iYWwgfHwgZ2xvYmFsJDE7XG59KTtcblxuLy8gUGxhY2Vob2xkZXIgb2YgYW4gZW1wdHkgY29udGVudCByZWN0YW5nbGUuXG52YXIgZW1wdHlSZWN0ID0gY3JlYXRlUmVjdEluaXQoMCwgMCwgMCwgMCk7XG5cbi8qKlxyXG4gKiBDb252ZXJ0cyBwcm92aWRlZCBzdHJpbmcgdG8gYSBudW1iZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gdmFsdWVcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXG5mdW5jdGlvbiB0b0Zsb2F0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XG59XG5cbi8qKlxyXG4gKiBFeHRyYWN0cyBib3JkZXJzIHNpemUgZnJvbSBwcm92aWRlZCBzdHlsZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gc3R5bGVzXHJcbiAqIEBwYXJhbSB7Li4uc3RyaW5nfSBwb3NpdGlvbnMgLSBCb3JkZXJzIHBvc2l0aW9ucyAodG9wLCByaWdodCwgLi4uKVxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cbmZ1bmN0aW9uIGdldEJvcmRlcnNTaXplKHN0eWxlcykge1xuICAgIHZhciBwb3NpdGlvbnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCBsZW4tLSA+IDAgKSBwb3NpdGlvbnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICByZXR1cm4gcG9zaXRpb25zLnJlZHVjZShmdW5jdGlvbiAoc2l6ZSwgcG9zaXRpb24pIHtcbiAgICAgICAgdmFyIHZhbHVlID0gc3R5bGVzWydib3JkZXItJyArIHBvc2l0aW9uICsgJy13aWR0aCddO1xuXG4gICAgICAgIHJldHVybiBzaXplICsgdG9GbG9hdCh2YWx1ZSk7XG4gICAgfSwgMCk7XG59XG5cbi8qKlxyXG4gKiBFeHRyYWN0cyBwYWRkaW5ncyBzaXplcyBmcm9tIHByb3ZpZGVkIHN0eWxlcy5cclxuICpcclxuICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXNcclxuICogQHJldHVybnMge09iamVjdH0gUGFkZGluZ3MgYm94LlxyXG4gKi9cbmZ1bmN0aW9uIGdldFBhZGRpbmdzKHN0eWxlcykge1xuICAgIHZhciBwb3NpdGlvbnMgPSBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddO1xuICAgIHZhciBwYWRkaW5ncyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxpc3QgPSBwb3NpdGlvbnM7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGxpc3RbaV07XG5cbiAgICAgICAgdmFyIHZhbHVlID0gc3R5bGVzWydwYWRkaW5nLScgKyBwb3NpdGlvbl07XG5cbiAgICAgICAgcGFkZGluZ3NbcG9zaXRpb25dID0gdG9GbG9hdCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhZGRpbmdzO1xufVxuXG4vKipcclxuICogQ2FsY3VsYXRlcyBjb250ZW50IHJlY3RhbmdsZSBvZiBwcm92aWRlZCBTVkcgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtTVkdHcmFwaGljc0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgY29udGVudCByZWN0YW5nbGUgb2Ygd2hpY2ggbmVlZHNcclxuICogICAgICB0byBiZSBjYWxjdWxhdGVkLlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0U1ZHQ29udGVudFJlY3QodGFyZ2V0KSB7XG4gICAgdmFyIGJib3ggPSB0YXJnZXQuZ2V0QkJveCgpO1xuXG4gICAgcmV0dXJuIGNyZWF0ZVJlY3RJbml0KDAsIDAsIGJib3gud2lkdGgsIGJib3guaGVpZ2h0KTtcbn1cblxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgY29udGVudCByZWN0YW5nbGUgb2YgcHJvdmlkZWQgSFRNTEVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgZm9yIHdoaWNoIHRvIGNhbGN1bGF0ZSB0aGUgY29udGVudCByZWN0YW5nbGUuXHJcbiAqIEByZXR1cm5zIHtET01SZWN0SW5pdH1cclxuICovXG5mdW5jdGlvbiBnZXRIVE1MRWxlbWVudENvbnRlbnRSZWN0KHRhcmdldCkge1xuICAgIC8vIENsaWVudCB3aWR0aCAmIGhlaWdodCBwcm9wZXJ0aWVzIGNhbid0IGJlXG4gICAgLy8gdXNlZCBleGNsdXNpdmVseSBhcyB0aGV5IHByb3ZpZGUgcm91bmRlZCB2YWx1ZXMuXG4gICAgdmFyIGNsaWVudFdpZHRoID0gdGFyZ2V0LmNsaWVudFdpZHRoO1xuICAgIHZhciBjbGllbnRIZWlnaHQgPSB0YXJnZXQuY2xpZW50SGVpZ2h0O1xuXG4gICAgLy8gQnkgdGhpcyBjb25kaXRpb24gd2UgY2FuIGNhdGNoIGFsbCBub24tcmVwbGFjZWQgaW5saW5lLCBoaWRkZW4gYW5kXG4gICAgLy8gZGV0YWNoZWQgZWxlbWVudHMuIFRob3VnaCBlbGVtZW50cyB3aXRoIHdpZHRoICYgaGVpZ2h0IHByb3BlcnRpZXMgbGVzc1xuICAgIC8vIHRoYW4gMC41IHdpbGwgYmUgZGlzY2FyZGVkIGFzIHdlbGwuXG4gICAgLy9cbiAgICAvLyBXaXRob3V0IGl0IHdlIHdvdWxkIG5lZWQgdG8gaW1wbGVtZW50IHNlcGFyYXRlIG1ldGhvZHMgZm9yIGVhY2ggb2ZcbiAgICAvLyB0aG9zZSBjYXNlcyBhbmQgaXQncyBub3QgcG9zc2libGUgdG8gcGVyZm9ybSBhIHByZWNpc2UgYW5kIHBlcmZvcm1hbmNlXG4gICAgLy8gZWZmZWN0aXZlIHRlc3QgZm9yIGhpZGRlbiBlbGVtZW50cy4gRS5nLiBldmVuIGpRdWVyeSdzICc6dmlzaWJsZScgZmlsdGVyXG4gICAgLy8gZ2l2ZXMgd3JvbmcgcmVzdWx0cyBmb3IgZWxlbWVudHMgd2l0aCB3aWR0aCAmIGhlaWdodCBsZXNzIHRoYW4gMC41LlxuICAgIGlmICghY2xpZW50V2lkdGggJiYgIWNsaWVudEhlaWdodCkge1xuICAgICAgICByZXR1cm4gZW1wdHlSZWN0O1xuICAgIH1cblxuICAgIHZhciBzdHlsZXMgPSBnZXRXaW5kb3dPZih0YXJnZXQpLmdldENvbXB1dGVkU3R5bGUodGFyZ2V0KTtcbiAgICB2YXIgcGFkZGluZ3MgPSBnZXRQYWRkaW5ncyhzdHlsZXMpO1xuICAgIHZhciBob3JpelBhZCA9IHBhZGRpbmdzLmxlZnQgKyBwYWRkaW5ncy5yaWdodDtcbiAgICB2YXIgdmVydFBhZCA9IHBhZGRpbmdzLnRvcCArIHBhZGRpbmdzLmJvdHRvbTtcblxuICAgIC8vIENvbXB1dGVkIHN0eWxlcyBvZiB3aWR0aCAmIGhlaWdodCBhcmUgYmVpbmcgdXNlZCBiZWNhdXNlIHRoZXkgYXJlIHRoZVxuICAgIC8vIG9ubHkgZGltZW5zaW9ucyBhdmFpbGFibGUgdG8gSlMgdGhhdCBjb250YWluIG5vbi1yb3VuZGVkIHZhbHVlcy4gSXQgY291bGRcbiAgICAvLyBiZSBwb3NzaWJsZSB0byB1dGlsaXplIHRoZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaWYgb25seSBpdCdzIGRhdGEgd2Fzbid0XG4gICAgLy8gYWZmZWN0ZWQgYnkgQ1NTIHRyYW5zZm9ybWF0aW9ucyBsZXQgYWxvbmUgcGFkZGluZ3MsIGJvcmRlcnMgYW5kIHNjcm9sbCBiYXJzLlxuICAgIHZhciB3aWR0aCA9IHRvRmxvYXQoc3R5bGVzLndpZHRoKSxcbiAgICAgICAgaGVpZ2h0ID0gdG9GbG9hdChzdHlsZXMuaGVpZ2h0KTtcblxuICAgIC8vIFdpZHRoICYgaGVpZ2h0IGluY2x1ZGUgcGFkZGluZ3MgYW5kIGJvcmRlcnMgd2hlbiB0aGUgJ2JvcmRlci1ib3gnIGJveFxuICAgIC8vIG1vZGVsIGlzIGFwcGxpZWQgKGV4Y2VwdCBmb3IgSUUpLlxuICAgIGlmIChzdHlsZXMuYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcbiAgICAgICAgLy8gRm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIHJlcXVpcmVkIHRvIGhhbmRsZSBJbnRlcm5ldCBFeHBsb3JlciB3aGljaFxuICAgICAgICAvLyBkb2Vzbid0IGluY2x1ZGUgcGFkZGluZ3MgYW5kIGJvcmRlcnMgdG8gY29tcHV0ZWQgQ1NTIGRpbWVuc2lvbnMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIGNhbiBzYXkgdGhhdCBpZiBDU1MgZGltZW5zaW9ucyArIHBhZGRpbmdzIGFyZSBlcXVhbCB0byB0aGUgXCJjbGllbnRcIlxuICAgICAgICAvLyBwcm9wZXJ0aWVzIHRoZW4gaXQncyBlaXRoZXIgSUUsIGFuZCB0aHVzIHdlIGRvbid0IG5lZWQgdG8gc3VidHJhY3RcbiAgICAgICAgLy8gYW55dGhpbmcsIG9yIGFuIGVsZW1lbnQgbWVyZWx5IGRvZXNuJ3QgaGF2ZSBwYWRkaW5ncy9ib3JkZXJzIHN0eWxlcy5cbiAgICAgICAgaWYgKE1hdGgucm91bmQod2lkdGggKyBob3JpelBhZCkgIT09IGNsaWVudFdpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCAtPSBnZXRCb3JkZXJzU2l6ZShzdHlsZXMsICdsZWZ0JywgJ3JpZ2h0JykgKyBob3JpelBhZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChNYXRoLnJvdW5kKGhlaWdodCArIHZlcnRQYWQpICE9PSBjbGllbnRIZWlnaHQpIHtcbiAgICAgICAgICAgIGhlaWdodCAtPSBnZXRCb3JkZXJzU2l6ZShzdHlsZXMsICd0b3AnLCAnYm90dG9tJykgKyB2ZXJ0UGFkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRm9sbG93aW5nIHN0ZXBzIGNhbid0IGJlIGFwcGxpZWQgdG8gdGhlIGRvY3VtZW50J3Mgcm9vdCBlbGVtZW50IGFzIGl0c1xuICAgIC8vIGNsaWVudFtXaWR0aC9IZWlnaHRdIHByb3BlcnRpZXMgcmVwcmVzZW50IHZpZXdwb3J0IGFyZWEgb2YgdGhlIHdpbmRvdy5cbiAgICAvLyBCZXNpZGVzLCBpdCdzIGFzIHdlbGwgbm90IG5lY2Vzc2FyeSBhcyB0aGUgPGh0bWw+IGl0c2VsZiBuZWl0aGVyIGhhc1xuICAgIC8vIHJlbmRlcmVkIHNjcm9sbCBiYXJzIG5vciBpdCBjYW4gYmUgY2xpcHBlZC5cbiAgICBpZiAoIWlzRG9jdW1lbnRFbGVtZW50KHRhcmdldCkpIHtcbiAgICAgICAgLy8gSW4gc29tZSBicm93c2VycyAob25seSBpbiBGaXJlZm94LCBhY3R1YWxseSkgQ1NTIHdpZHRoICYgaGVpZ2h0XG4gICAgICAgIC8vIGluY2x1ZGUgc2Nyb2xsIGJhcnMgc2l6ZSB3aGljaCBjYW4gYmUgcmVtb3ZlZCBhdCB0aGlzIHN0ZXAgYXMgc2Nyb2xsXG4gICAgICAgIC8vIGJhcnMgYXJlIHRoZSBvbmx5IGRpZmZlcmVuY2UgYmV0d2VlbiByb3VuZGVkIGRpbWVuc2lvbnMgKyBwYWRkaW5nc1xuICAgICAgICAvLyBhbmQgXCJjbGllbnRcIiBwcm9wZXJ0aWVzLCB0aG91Z2ggdGhhdCBpcyBub3QgYWx3YXlzIHRydWUgaW4gQ2hyb21lLlxuICAgICAgICB2YXIgdmVydFNjcm9sbGJhciA9IE1hdGgucm91bmQod2lkdGggKyBob3JpelBhZCkgLSBjbGllbnRXaWR0aDtcbiAgICAgICAgdmFyIGhvcml6U2Nyb2xsYmFyID0gTWF0aC5yb3VuZChoZWlnaHQgKyB2ZXJ0UGFkKSAtIGNsaWVudEhlaWdodDtcblxuICAgICAgICAvLyBDaHJvbWUgaGFzIGEgcmF0aGVyIHdlaXJkIHJvdW5kaW5nIG9mIFwiY2xpZW50XCIgcHJvcGVydGllcy5cbiAgICAgICAgLy8gRS5nLiBmb3IgYW4gZWxlbWVudCB3aXRoIGNvbnRlbnQgd2lkdGggb2YgMzE0LjJweCBpdCBzb21ldGltZXMgZ2l2ZXNcbiAgICAgICAgLy8gdGhlIGNsaWVudCB3aWR0aCBvZiAzMTVweCBhbmQgZm9yIHRoZSB3aWR0aCBvZiAzMTQuN3B4IGl0IG1heSBnaXZlXG4gICAgICAgIC8vIDMxNHB4LiBBbmQgaXQgZG9lc24ndCBoYXBwZW4gYWxsIHRoZSB0aW1lLiBTbyBqdXN0IGlnbm9yZSB0aGlzIGRlbHRhXG4gICAgICAgIC8vIGFzIGEgbm9uLXJlbGV2YW50LlxuICAgICAgICBpZiAoTWF0aC5hYnModmVydFNjcm9sbGJhcikgIT09IDEpIHtcbiAgICAgICAgICAgIHdpZHRoIC09IHZlcnRTY3JvbGxiYXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTWF0aC5hYnMoaG9yaXpTY3JvbGxiYXIpICE9PSAxKSB7XG4gICAgICAgICAgICBoZWlnaHQgLT0gaG9yaXpTY3JvbGxiYXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlUmVjdEluaXQocGFkZGluZ3MubGVmdCwgcGFkZGluZ3MudG9wLCB3aWR0aCwgaGVpZ2h0KTtcbn1cblxuLyoqXHJcbiAqIENoZWNrcyB3aGV0aGVyIHByb3ZpZGVkIGVsZW1lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgdGhlIFNWR0dyYXBoaWNzRWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIGJlIGNoZWNrZWQuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cbnZhciBpc1NWR0dyYXBoaWNzRWxlbWVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgLy8gU29tZSBicm93c2VycywgbmFtZWx5IElFIGFuZCBFZGdlLCBkb24ndCBoYXZlIHRoZSBTVkdHcmFwaGljc0VsZW1lbnRcbiAgICAvLyBpbnRlcmZhY2UuXG4gICAgaWYgKHR5cGVvZiBTVkdHcmFwaGljc0VsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7IHJldHVybiB0YXJnZXQgaW5zdGFuY2VvZiBnZXRXaW5kb3dPZih0YXJnZXQpLlNWR0dyYXBoaWNzRWxlbWVudDsgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBpdCdzIHNvLCB0aGVuIGNoZWNrIHRoYXQgZWxlbWVudCBpcyBhdCBsZWFzdCBhbiBpbnN0YW5jZSBvZiB0aGVcbiAgICAvLyBTVkdFbGVtZW50IGFuZCB0aGF0IGl0IGhhcyB0aGUgXCJnZXRCQm94XCIgbWV0aG9kLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leHRyYS1wYXJlbnNcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5TVkdFbGVtZW50ICYmIHR5cGVvZiB0YXJnZXQuZ2V0QkJveCA9PT0gJ2Z1bmN0aW9uJzsgfTtcbn0pKCk7XG5cbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBwcm92aWRlZCBlbGVtZW50IGlzIGEgZG9jdW1lbnQgZWxlbWVudCAoPGh0bWw+KS5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIGJlIGNoZWNrZWQuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cbmZ1bmN0aW9uIGlzRG9jdW1lbnRFbGVtZW50KHRhcmdldCkge1xuICAgIHJldHVybiB0YXJnZXQgPT09IGdldFdpbmRvd09mKHRhcmdldCkuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xufVxuXG4vKipcclxuICogQ2FsY3VsYXRlcyBhbiBhcHByb3ByaWF0ZSBjb250ZW50IHJlY3RhbmdsZSBmb3IgcHJvdmlkZWQgaHRtbCBvciBzdmcgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHdoaWNoIG5lZWRzIHRvIGJlIGNhbGN1bGF0ZWQuXHJcbiAqIEByZXR1cm5zIHtET01SZWN0SW5pdH1cclxuICovXG5mdW5jdGlvbiBnZXRDb250ZW50UmVjdCh0YXJnZXQpIHtcbiAgICBpZiAoIWlzQnJvd3Nlcikge1xuICAgICAgICByZXR1cm4gZW1wdHlSZWN0O1xuICAgIH1cblxuICAgIGlmIChpc1NWR0dyYXBoaWNzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiBnZXRTVkdDb250ZW50UmVjdCh0YXJnZXQpO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRIVE1MRWxlbWVudENvbnRlbnRSZWN0KHRhcmdldCk7XG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIHJlY3RhbmdsZSB3aXRoIGFuIGludGVyZmFjZSBvZiB0aGUgRE9NUmVjdFJlYWRPbmx5LlxyXG4gKiBTcGVjOiBodHRwczovL2RyYWZ0cy5meHRmLm9yZy9nZW9tZXRyeS8jZG9tcmVjdHJlYWRvbmx5XHJcbiAqXHJcbiAqIEBwYXJhbSB7RE9NUmVjdEluaXR9IHJlY3RJbml0IC0gT2JqZWN0IHdpdGggcmVjdGFuZ2xlJ3MgeC95IGNvb3JkaW5hdGVzIGFuZCBkaW1lbnNpb25zLlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdFJlYWRPbmx5fVxyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlYWRPbmx5UmVjdChyZWYpIHtcbiAgICB2YXIgeCA9IHJlZi54O1xuICAgIHZhciB5ID0gcmVmLnk7XG4gICAgdmFyIHdpZHRoID0gcmVmLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSByZWYuaGVpZ2h0O1xuXG4gICAgLy8gSWYgRE9NUmVjdFJlYWRPbmx5IGlzIGF2YWlsYWJsZSB1c2UgaXQgYXMgYSBwcm90b3R5cGUgZm9yIHRoZSByZWN0YW5nbGUuXG4gICAgdmFyIENvbnN0ciA9IHR5cGVvZiBET01SZWN0UmVhZE9ubHkgIT09ICd1bmRlZmluZWQnID8gRE9NUmVjdFJlYWRPbmx5IDogT2JqZWN0O1xuICAgIHZhciByZWN0ID0gT2JqZWN0LmNyZWF0ZShDb25zdHIucHJvdG90eXBlKTtcblxuICAgIC8vIFJlY3RhbmdsZSdzIHByb3BlcnRpZXMgYXJlIG5vdCB3cml0YWJsZSBhbmQgbm9uLWVudW1lcmFibGUuXG4gICAgZGVmaW5lQ29uZmlndXJhYmxlKHJlY3QsIHtcbiAgICAgICAgeDogeCwgeTogeSwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgdG9wOiB5LFxuICAgICAgICByaWdodDogeCArIHdpZHRoLFxuICAgICAgICBib3R0b206IGhlaWdodCArIHksXG4gICAgICAgIGxlZnQ6IHhcbiAgICB9KTtcblxuICAgIHJldHVybiByZWN0O1xufVxuXG4vKipcclxuICogQ3JlYXRlcyBET01SZWN0SW5pdCBvYmplY3QgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGRpbWVuc2lvbnMgYW5kIHRoZSB4L3kgY29vcmRpbmF0ZXMuXHJcbiAqIFNwZWM6IGh0dHBzOi8vZHJhZnRzLmZ4dGYub3JnL2dlb21ldHJ5LyNkaWN0ZGVmLWRvbXJlY3Rpbml0XHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gWCBjb29yZGluYXRlLlxyXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFkgY29vcmRpbmF0ZS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gUmVjdGFuZ2xlJ3Mgd2lkdGguXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBSZWN0YW5nbGUncyBoZWlnaHQuXHJcbiAqIEByZXR1cm5zIHtET01SZWN0SW5pdH1cclxuICovXG5mdW5jdGlvbiBjcmVhdGVSZWN0SW5pdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgcmV0dXJuIHsgeDogeCwgeTogeSwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xufVxuXG4vKipcclxuICogQ2xhc3MgdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgY29tcHV0YXRpb25zIG9mIHRoZSBjb250ZW50IHJlY3RhbmdsZSBvZlxyXG4gKiBwcm92aWRlZCBET00gZWxlbWVudCBhbmQgZm9yIGtlZXBpbmcgdHJhY2sgb2YgaXQncyBjaGFuZ2VzLlxyXG4gKi9cbnZhciBSZXNpemVPYnNlcnZhdGlvbiA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHRoaXMuYnJvYWRjYXN0V2lkdGggPSAwO1xuICAgIHRoaXMuYnJvYWRjYXN0SGVpZ2h0ID0gMDtcbiAgICB0aGlzLmNvbnRlbnRSZWN0XyA9IGNyZWF0ZVJlY3RJbml0KDAsIDAsIDAsIDApO1xuXG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG59O1xuXG4vKipcclxuICogVXBkYXRlcyBjb250ZW50IHJlY3RhbmdsZSBhbmQgdGVsbHMgd2hldGhlciBpdCdzIHdpZHRoIG9yIGhlaWdodCBwcm9wZXJ0aWVzXHJcbiAqIGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdCBicm9hZGNhc3QuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cblxuXG4vKipcclxuICogUmVmZXJlbmNlIHRvIHRoZSBsYXN0IG9ic2VydmVkIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZSB7RE9NUmVjdEluaXR9XHJcbiAqL1xuXG5cbi8qKlxyXG4gKiBCcm9hZGNhc3RlZCB3aWR0aCBvZiBjb250ZW50IHJlY3RhbmdsZS5cclxuICpcclxuICogQHR5cGUge251bWJlcn1cclxuICovXG5SZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlY3QgPSBnZXRDb250ZW50UmVjdCh0aGlzLnRhcmdldCk7XG5cbiAgICB0aGlzLmNvbnRlbnRSZWN0XyA9IHJlY3Q7XG5cbiAgICByZXR1cm4gcmVjdC53aWR0aCAhPT0gdGhpcy5icm9hZGNhc3RXaWR0aCB8fCByZWN0LmhlaWdodCAhPT0gdGhpcy5icm9hZGNhc3RIZWlnaHQ7XG59O1xuXG4vKipcclxuICogVXBkYXRlcyAnYnJvYWRjYXN0V2lkdGgnIGFuZCAnYnJvYWRjYXN0SGVpZ2h0JyBwcm9wZXJ0aWVzIHdpdGggYSBkYXRhXHJcbiAqIGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydGllcyBvZiB0aGUgbGFzdCBvYnNlcnZlZCBjb250ZW50IHJlY3RhbmdsZS5cclxuICpcclxuICogQHJldHVybnMge0RPTVJlY3RJbml0fSBMYXN0IG9ic2VydmVkIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gKi9cblJlc2l6ZU9ic2VydmF0aW9uLnByb3RvdHlwZS5icm9hZGNhc3RSZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZWN0ID0gdGhpcy5jb250ZW50UmVjdF87XG5cbiAgICB0aGlzLmJyb2FkY2FzdFdpZHRoID0gcmVjdC53aWR0aDtcbiAgICB0aGlzLmJyb2FkY2FzdEhlaWdodCA9IHJlY3QuaGVpZ2h0O1xuXG4gICAgcmV0dXJuIHJlY3Q7XG59O1xuXG52YXIgUmVzaXplT2JzZXJ2ZXJFbnRyeSA9IGZ1bmN0aW9uKHRhcmdldCwgcmVjdEluaXQpIHtcbiAgICB2YXIgY29udGVudFJlY3QgPSBjcmVhdGVSZWFkT25seVJlY3QocmVjdEluaXQpO1xuXG4gICAgLy8gQWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpY2F0aW9uIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBub3Qgd3JpdGFibGVcbiAgICAvLyBhbmQgYXJlIGFsc28gbm90IGVudW1lcmFibGUgaW4gdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbi5cbiAgICAvL1xuICAgIC8vIFByb3BlcnR5IGFjY2Vzc29ycyBhcmUgbm90IGJlaW5nIHVzZWQgYXMgdGhleSdkIHJlcXVpcmUgdG8gZGVmaW5lIGFcbiAgICAvLyBwcml2YXRlIFdlYWtNYXAgc3RvcmFnZSB3aGljaCBtYXkgY2F1c2UgbWVtb3J5IGxlYWtzIGluIGJyb3dzZXJzIHRoYXRcbiAgICAvLyBkb24ndCBzdXBwb3J0IHRoaXMgdHlwZSBvZiBjb2xsZWN0aW9ucy5cbiAgICBkZWZpbmVDb25maWd1cmFibGUodGhpcywgeyB0YXJnZXQ6IHRhcmdldCwgY29udGVudFJlY3Q6IGNvbnRlbnRSZWN0IH0pO1xufTtcblxudmFyIFJlc2l6ZU9ic2VydmVyU1BJID0gZnVuY3Rpb24oY2FsbGJhY2ssIGNvbnRyb2xsZXIsIGNhbGxiYWNrQ3R4KSB7XG4gICAgdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfID0gW107XG4gICAgdGhpcy5vYnNlcnZhdGlvbnNfID0gbmV3IE1hcFNoaW0oKTtcblxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNhbGxiYWNrIHByb3ZpZGVkIGFzIHBhcmFtZXRlciAxIGlzIG5vdCBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHRoaXMuY2FsbGJhY2tfID0gY2FsbGJhY2s7XG4gICAgdGhpcy5jb250cm9sbGVyXyA9IGNvbnRyb2xsZXI7XG4gICAgdGhpcy5jYWxsYmFja0N0eF8gPSBjYWxsYmFja0N0eDtcbn07XG5cbi8qKlxyXG4gKiBTdGFydHMgb2JzZXJ2aW5nIHByb3ZpZGVkIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBiZSBvYnNlcnZlZC5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuXG5cbi8qKlxyXG4gKiBSZWdpc3RyeSBvZiB0aGUgUmVzaXplT2JzZXJ2YXRpb24gaW5zdGFuY2VzLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZSB7TWFwPEVsZW1lbnQsIFJlc2l6ZU9ic2VydmF0aW9uPn1cclxuICovXG5cblxuLyoqXHJcbiAqIFB1YmxpYyBSZXNpemVPYnNlcnZlciBpbnN0YW5jZSB3aGljaCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgY2FsbGJhY2tcclxuICogZnVuY3Rpb24gYW5kIHVzZWQgYXMgYSB2YWx1ZSBvZiBpdCdzIFwidGhpc1wiIGJpbmRpbmcuXHJcbiAqXHJcbiAqIEBwcml2YXRlIHtSZXNpemVPYnNlcnZlcn1cclxuICovXG5cbi8qKlxyXG4gKiBDb2xsZWN0aW9uIG9mIHJlc2l6ZSBvYnNlcnZhdGlvbnMgdGhhdCBoYXZlIGRldGVjdGVkIGNoYW5nZXMgaW4gZGltZW5zaW9uc1xyXG4gKiBvZiBlbGVtZW50cy5cclxuICpcclxuICogQHByaXZhdGUge0FycmF5PFJlc2l6ZU9ic2VydmF0aW9uPn1cclxuICovXG5SZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LicpO1xuICAgIH1cblxuICAgIC8vIERvIG5vdGhpbmcgaWYgY3VycmVudCBlbnZpcm9ubWVudCBkb2Vzbid0IGhhdmUgdGhlIEVsZW1lbnQgaW50ZXJmYWNlLlxuICAgIGlmICh0eXBlb2YgRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgIShFbGVtZW50IGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5FbGVtZW50KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJhbWV0ZXIgMSBpcyBub3Qgb2YgdHlwZSBcIkVsZW1lbnRcIi4nKTtcbiAgICB9XG5cbiAgICB2YXIgb2JzZXJ2YXRpb25zID0gdGhpcy5vYnNlcnZhdGlvbnNfO1xuXG4gICAgLy8gRG8gbm90aGluZyBpZiBlbGVtZW50IGlzIGFscmVhZHkgYmVpbmcgb2JzZXJ2ZWQuXG4gICAgaWYgKG9ic2VydmF0aW9ucy5oYXModGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb2JzZXJ2YXRpb25zLnNldCh0YXJnZXQsIG5ldyBSZXNpemVPYnNlcnZhdGlvbih0YXJnZXQpKTtcblxuICAgIHRoaXMuY29udHJvbGxlcl8uYWRkT2JzZXJ2ZXIodGhpcyk7XG5cbiAgICAvLyBGb3JjZSB0aGUgdXBkYXRlIG9mIG9ic2VydmF0aW9ucy5cbiAgICB0aGlzLmNvbnRyb2xsZXJfLnJlZnJlc2goKTtcbn07XG5cbi8qKlxyXG4gKiBTdG9wcyBvYnNlcnZpbmcgcHJvdmlkZWQgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIHN0b3Agb2JzZXJ2aW5nLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUudW5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCcxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuJyk7XG4gICAgfVxuXG4gICAgLy8gRG8gbm90aGluZyBpZiBjdXJyZW50IGVudmlyb25tZW50IGRvZXNuJ3QgaGF2ZSB0aGUgRWxlbWVudCBpbnRlcmZhY2UuXG4gICAgaWYgKHR5cGVvZiBFbGVtZW50ID09PSAndW5kZWZpbmVkJyB8fCAhKEVsZW1lbnQgaW5zdGFuY2VvZiBPYmplY3QpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBnZXRXaW5kb3dPZih0YXJnZXQpLkVsZW1lbnQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlIFwiRWxlbWVudFwiLicpO1xuICAgIH1cblxuICAgIHZhciBvYnNlcnZhdGlvbnMgPSB0aGlzLm9ic2VydmF0aW9uc187XG5cbiAgICAvLyBEbyBub3RoaW5nIGlmIGVsZW1lbnQgaXMgbm90IGJlaW5nIG9ic2VydmVkLlxuICAgIGlmICghb2JzZXJ2YXRpb25zLmhhcyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvYnNlcnZhdGlvbnMuZGVsZXRlKHRhcmdldCk7XG5cbiAgICBpZiAoIW9ic2VydmF0aW9ucy5zaXplKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlcl8ucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XG4gICAgfVxufTtcblxuLyoqXHJcbiAqIFN0b3BzIG9ic2VydmluZyBhbGwgZWxlbWVudHMuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5kaXNjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY2xlYXJBY3RpdmUoKTtcbiAgICB0aGlzLm9ic2VydmF0aW9uc18uY2xlYXIoKTtcbiAgICB0aGlzLmNvbnRyb2xsZXJfLnJlbW92ZU9ic2VydmVyKHRoaXMpO1xufTtcblxuLyoqXHJcbiAqIENvbGxlY3RzIG9ic2VydmF0aW9uIGluc3RhbmNlcyB0aGUgYXNzb2NpYXRlZCBlbGVtZW50IG9mIHdoaWNoIGhhcyBjaGFuZ2VkXHJcbiAqIGl0J3MgY29udGVudCByZWN0YW5nbGUuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5nYXRoZXJBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdGhpcy5jbGVhckFjdGl2ZSgpO1xuXG4gICAgdGhpcy5vYnNlcnZhdGlvbnNfLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmF0aW9uKSB7XG4gICAgICAgIGlmIChvYnNlcnZhdGlvbi5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICB0aGlzJDEuYWN0aXZlT2JzZXJ2YXRpb25zXy5wdXNoKG9ic2VydmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuLyoqXHJcbiAqIEludm9rZXMgaW5pdGlhbCBjYWxsYmFjayBmdW5jdGlvbiB3aXRoIGEgbGlzdCBvZiBSZXNpemVPYnNlcnZlckVudHJ5XHJcbiAqIGluc3RhbmNlcyBjb2xsZWN0ZWQgZnJvbSBhY3RpdmUgcmVzaXplIG9ic2VydmF0aW9ucy5cclxuICpcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLmJyb2FkY2FzdEFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBEbyBub3RoaW5nIGlmIG9ic2VydmVyIGRvZXNuJ3QgaGF2ZSBhY3RpdmUgb2JzZXJ2YXRpb25zLlxuICAgIGlmICghdGhpcy5oYXNBY3RpdmUoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGN0eCA9IHRoaXMuY2FsbGJhY2tDdHhfO1xuXG4gICAgLy8gQ3JlYXRlIFJlc2l6ZU9ic2VydmVyRW50cnkgaW5zdGFuY2UgZm9yIGV2ZXJ5IGFjdGl2ZSBvYnNlcnZhdGlvbi5cbiAgICB2YXIgZW50cmllcyA9IHRoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXy5tYXAoZnVuY3Rpb24gKG9ic2VydmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzaXplT2JzZXJ2ZXJFbnRyeShvYnNlcnZhdGlvbi50YXJnZXQsIG9ic2VydmF0aW9uLmJyb2FkY2FzdFJlY3QoKSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNhbGxiYWNrXy5jYWxsKGN0eCwgZW50cmllcywgY3R4KTtcbiAgICB0aGlzLmNsZWFyQWN0aXZlKCk7XG59O1xuXG4vKipcclxuICogQ2xlYXJzIHRoZSBjb2xsZWN0aW9uIG9mIGFjdGl2ZSBvYnNlcnZhdGlvbnMuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5jbGVhckFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18uc3BsaWNlKDApO1xufTtcblxuLyoqXHJcbiAqIFRlbGxzIHdoZXRoZXIgb2JzZXJ2ZXIgaGFzIGFjdGl2ZSBvYnNlcnZhdGlvbnMuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5oYXNBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXy5sZW5ndGggPiAwO1xufTtcblxuLy8gUmVnaXN0cnkgb2YgaW50ZXJuYWwgb2JzZXJ2ZXJzLiBJZiBXZWFrTWFwIGlzIG5vdCBhdmFpbGFibGUgdXNlIGN1cnJlbnQgc2hpbVxuLy8gZm9yIHRoZSBNYXAgY29sbGVjdGlvbiBhcyBpdCBoYXMgYWxsIHJlcXVpcmVkIG1ldGhvZHMgYW5kIGJlY2F1c2UgV2Vha01hcFxuLy8gY2FuJ3QgYmUgZnVsbHkgcG9seWZpbGxlZCBhbnl3YXkuXG52YXIgb2JzZXJ2ZXJzID0gdHlwZW9mIFdlYWtNYXAgIT09ICd1bmRlZmluZWQnID8gbmV3IFdlYWtNYXAoKSA6IG5ldyBNYXBTaGltKCk7XG5cbi8qKlxyXG4gKiBSZXNpemVPYnNlcnZlciBBUEkuIEVuY2Fwc3VsYXRlcyB0aGUgUmVzaXplT2JzZXJ2ZXIgU1BJIGltcGxlbWVudGF0aW9uXHJcbiAqIGV4cG9zaW5nIG9ubHkgdGhvc2UgbWV0aG9kcyBhbmQgcHJvcGVydGllcyB0aGF0IGFyZSBkZWZpbmVkIGluIHRoZSBzcGVjLlxyXG4gKi9cbnZhciBSZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlc2l6ZU9ic2VydmVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCcxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuJyk7XG4gICAgfVxuXG4gICAgdmFyIGNvbnRyb2xsZXIgPSBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXJTUEkoY2FsbGJhY2ssIGNvbnRyb2xsZXIsIHRoaXMpO1xuXG4gICAgb2JzZXJ2ZXJzLnNldCh0aGlzLCBvYnNlcnZlcik7XG59O1xuXG4vLyBFeHBvc2UgcHVibGljIG1ldGhvZHMgb2YgUmVzaXplT2JzZXJ2ZXIuXG5bJ29ic2VydmUnLCAndW5vYnNlcnZlJywgJ2Rpc2Nvbm5lY3QnXS5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICBSZXNpemVPYnNlcnZlci5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIChyZWYgPSBvYnNlcnZlcnMuZ2V0KHRoaXMpKVttZXRob2RdLmFwcGx5KHJlZiwgYXJndW1lbnRzKTtcbiAgICAgICAgdmFyIHJlZjtcbiAgICB9O1xufSk7XG5cbnZhciBpbmRleCA9IChmdW5jdGlvbiAoKSB7XG4gICAgLy8gRXhwb3J0IGV4aXN0aW5nIGltcGxlbWVudGF0aW9uIGlmIGF2YWlsYWJsZS5cbiAgICBpZiAodHlwZW9mIGdsb2JhbCQxLlJlc2l6ZU9ic2VydmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZ2xvYmFsJDEuUmVzaXplT2JzZXJ2ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyO1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgaW5kZXg7XG4iLCIvLyBIYWNrIHRvIGdldCBodG1sIHN5bnRheCBoaWdobGlnaHRpbmcgd2l0aGluIHRlbXBsYXRlIGxpdGVyYWxzXG5leHBvcnQgZGVmYXVsdCBTdHJpbmcucmF3O1xuIiwiaW1wb3J0IGh0bWwgZnJvbSAnLi9odG1sLm1qcyc7XG5cbmNvbnN0IHRtcGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xudG1wbC5pbm5lckhUTUwgPSBodG1sYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgICBkaXNwbGF5OiAtbW96LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgZmxleDogMTtcbiAgICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hY2NlbnQtY29sb3IsICNlZDFhNTkpO1xuICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IsICMyMTIxMjEpO1xuICAgICAgZm9udC1zaXplOiAyLjc1ZW07XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBib3JkZXItcmFkaXVzOiAwIDAgMTVweCAxNXB4O1xuICAgICAgdHJhbnNpdGlvbjogbWF4LWhlaWdodCAxcyBlYXNlLCBmb250LXNpemUgLjdzIGVhc2UtaW4tb3V0IC4zcztcbiAgICB9XG4gIDwvc3R5bGU+XG4gIDxzbG90Pjwvc2xvdD5cbmA7XG5cbmNsYXNzIE1tVG9vbGJhciBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAodHlwZW9mIFNoYWR5Q1NTICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodG1wbCwgJ21tLXRvb2xiYXInKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggYSBzaGFkb3cgcm9vdCB0byB0aGUgZWxlbWVudC5cbiAgICBsZXQgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gIH1cbn1cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21tLXRvb2xiYXInLCBNbVRvb2xiYXIpO1xuIiwiaW1wb3J0IGh0bWwgZnJvbSAnLi9odG1sLm1qcyc7XG5cbmNvbnN0IHRtcGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xudG1wbC5pbm5lckhUTUwgPSBodG1sYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgICBkaXNwbGF5OiAtbW96LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBmbGV4OiAxO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIH1cblxuICAgIC5wbGF5IHtcbiAgICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IsICNlZDFhNTkpO1xuICAgICAgZm9udC1zaXplOiAyLjVlbTtcbiAgICAgIHBhZGRpbmc6IDFlbTtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIGJvcmRlcjogMXB4IHZhcigtLWFjY2VudC1jb2xvciwgI2VkMWE1OSkgc29saWQ7XG4gICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgICAgdHJhbnNpdGlvbjogYWxsIC41cyBlYXNlO1xuICAgIH1cblxuICAgIC5oaWRlIHsgXG4gICAgICBvcGFjaXR5OiAwO1xuICAgIH1cblxuICAgIC5wbGF5OmhvdmVyIHtcbiAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yLCAjMjEyMTIxKTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWFjY2VudC1jb2xvciwgI2VkMWE1OSk7XG4gICAgfVxuXG4gIDwvc3R5bGU+XG4gIDxzcGFuIGlkPVwicGxheUJ1dHRvblwiIGNsYXNzPVwicGxheVwiPlBsYXk8L3NwYW4+XG5gO1xuXG5jbGFzcyBNbVBsYXkgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1wbGF5Jyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgdGhpcy5wbGF5ID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjcGxheUJ1dHRvbicpO1xuICB9XG5cbiAgc2V0UGxheUxpc3RlbmVyKGMpIHtcbiAgICB0aGlzLnBsYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjKTtcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5wbGF5LmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcbiAgfVxufVxud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbW0tcGxheScsIE1tUGxheSk7XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG50bXBsLmlubmVySFRNTCA9IGh0bWxgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICBiYWNrZ3JvdW5kOiAjMzQzNDM0O1xuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgb3BhY2l0eTogLjI7XG4gICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIC4zcyBlYXNlLWluLW91dCwgb3BhY2l0eSAuM3MgZWFzZS1pbi1vdXQ7XG4gICAgfVxuICA8L3N0eWxlPlxuYDtcblxuY2xhc3MgTW1DaXJjbGUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1jaXJjbGUnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggYSBzaGFkb3cgcm9vdCB0byB0aGUgZWxlbWVudC5cbiAgICBsZXQgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gIH1cblxuICBzZXRTaXplKHdpZHRoLCBoZWlnaHQsIHNwYWNpbmcpIHtcbiAgICBjb25zdCBzaXplID0gYCR7d2lkdGggPiBoZWlnaHQgPyBoZWlnaHQgLSBzcGFjaW5nIDogd2lkdGggLSBzcGFjaW5nfXB4YDtcbiAgICB0aGlzLnN0eWxlLndpZHRoID0gc2l6ZTtcbiAgICB0aGlzLnN0eWxlLmhlaWdodCA9IHNpemU7XG4gIH1cblxuICBzZXRDb2xvcihjb2xvcikge1xuICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cblxuICBzZXRTZWxlY3RlZChib29sKSB7XG4gICAgdGhpcy5zZWxlY3RlZCA9IGJvb2w7XG4gICAgdGhpcy5zZXRBY3RpdmUodGhpcy5zZWxlY3RlZCk7XG4gIH1cblxuICBzZXRBY3RpdmUoYm9vbCkge1xuICAgIHRoaXMuc3R5bGUub3BhY2l0eSA9IGJvb2wgPyAxIDogMC4yO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1jaXJjbGUnLCBNbUNpcmNsZSk7XG4iLCJjb25zdCBjb2xvcnMgPSBbXG4gICcjRkFGQUZBJyxcbiAgJyNGNDQzMzYnLFxuICAnIzIxOTZGMycsXG4gICcjNENBRjUwJyxcbiAgJyNGRkVCM0InLFxuICAnI0ZGOTgwMCdcbl07XG5cbmNvbnN0IHRyaWVzID0gMTI7XG5cbmV4cG9ydCB7IGNvbG9ycywgdHJpZXMgfTtcbiIsImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5tanMnO1xuaW1wb3J0ICcuL21tLWNpcmNsZS5tanMnO1xuaW1wb3J0IFJlc2l6ZU9ic2VydmVyIGZyb20gJy4vLi4vbm9kZV9tb2R1bGVzL3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbC9kaXN0L1Jlc2l6ZU9ic2VydmVyLmVzLmpzJztcbmltcG9ydCB7IGNvbG9ycyB9IGZyb20gJy4vY29uZmlnLm1qcyc7XG5cbmNvbnN0IHRtcGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xudG1wbC5pbm5lckhUTUwgPSBodG1sYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGZsZXg6IDE7XG4gICAgICBtYXJnaW46IDJweDtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAuN3MgZWFzZS1pbi1vdXQ7XG4gICAgfVxuXG4gICAgLnRyYW5zaXRpb24ge1xuICAgICAgdHJhbnNpdGlvbjogYWxsIC41cyBlYXNlLWluLW91dCwgbWFyZ2luIDFzIGVhc2UtaW4tb3V0O1xuICAgIH1cblxuICAgIC5oaWRkZW4ge1xuICAgICAgaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gICAgICB3aWR0aDogMCAhaW1wb3J0YW50O1xuICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG5cbiAgPC9zdHlsZT5cbiAgPG1tLWNpcmNsZT48L21tLWNpcmNsZT5cbiAgPG1tLWNpcmNsZSBjbGFzcz1cImhpZGRlblwiPjwvbW0tY2lyY2xlPlxuICA8bW0tY2lyY2xlIGNsYXNzPVwiaGlkZGVuXCI+PC9tbS1jaXJjbGU+XG4gIDxtbS1jaXJjbGUgY2xhc3M9XCJoaWRkZW5cIj48L21tLWNpcmNsZT5cbiAgPG1tLWNpcmNsZSBjbGFzcz1cImhpZGRlblwiPjwvbW0tY2lyY2xlPlxuICA8bW0tY2lyY2xlIGNsYXNzPVwiaGlkZGVuXCI+PC9tbS1jaXJjbGU+XG5gO1xuXG5jbGFzcyBNbUJvYXJkSXRlbSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAodHlwZW9mIFNoYWR5Q1NTICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodG1wbCwgJ21tLWJvYXJkLWl0ZW0nKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggYSBzaGFkb3cgcm9vdCB0byB0aGUgZWxlbWVudC5cbiAgICBsZXQgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5kbmQgPSBmYWxzZTtcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcblxuICAgIHRoaXMuY2lyY2xlcyA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnbW0tY2lyY2xlJyk7XG4gICAgdGhpcy5jaXJjbGVzLmZvckVhY2goKGMsIGkpID0+IHtcbiAgICAgIGMuc2V0VmFsdWUoaSk7XG4gICAgICBjLnNldENvbG9yKGNvbG9yc1tpXSk7XG4gICAgICBpZiAoIWMuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKSkgYy5hY3RpdmUgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgcm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBlbnRyeS5jb250ZW50UmVjdDtcbiAgICAgICAgdGhpcy5jaXJjbGVzLmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuc2hvd2luZ0NpcmNsZXMgfHwgdGhpcy5hbmltYXRpbmcpIHtcbiAgICAgICAgICAgIGMuc2V0U2l6ZSh3aWR0aCAvIDEuMiwgaGVpZ2h0IC8gMS4yLCA1KTtcbiAgICAgICAgICAgIGMuc3R5bGUubWFyZ2luID0gJzAgMnB4JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYy5zZXRTaXplKHdpZHRoLCBoZWlnaHQsIDUpO1xuICAgICAgICAgICAgYy5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByby5vYnNlcnZlKHRoaXMpO1xuICB9XG5cbiAgc2V0QWN0aXZlKGJvb2wpIHtcbiAgICB0aGlzLmFjdGl2ZSA9IGJvb2w7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICB9XG5cbiAgYW5pbWF0ZSgpIHtcbiAgICB0aGlzLnN0eWxlLmZsZXggPSB0aGlzLmFjdGl2ZSA/IDEwIDogMTtcbiAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgIHRoaXMuc2hvd0NpcmNsZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oaWRlQ2lyY2xlcygpO1xuICAgIH1cbiAgfVxuXG4gIHNob3dDaXJjbGVzKCkge1xuICAgIHRoaXMuc2hvd2luZ0NpcmNsZXMgPSB0cnVlO1xuICAgIHRoaXMuY2lyY2xlcy5mb3JFYWNoKChjLCBpKSA9PiB7XG4gICAgICBjLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrLCB0cnVlKTtcbiAgICAgIGMuc2V0QWN0aXZlKHRydWUpO1xuICAgICAgYy5jbGFzc0xpc3QuYWRkKCd0cmFuc2l0aW9uJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgIH0sIDEwMCAqIGkpO1xuICAgIH0pO1xuICB9XG5cbiAgaGlkZUNpcmNsZXMoKSB7XG4gICAgaWYgKCF0aGlzLnNob3dpbmdDaXJjbGVzKSByZXR1cm47XG4gICAgdGhpcy5hbmltYXRpbmcgPSB0cnVlO1xuICAgIHRoaXMuZG5kID0gdHJ1ZTtcbiAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaCgoYywgaSkgPT4ge1xuICAgICAgYy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljaywgdHJ1ZSk7XG4gICAgICBjLnNldEFjdGl2ZShjLnNlbGVjdGVkKTtcbiAgICAgIGlmICghYy5hY3RpdmUpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgYy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGMuY2xhc3NMaXN0LnJlbW92ZSgndHJhbnNpdGlvbicpO1xuICAgICAgICAgIH0sIDYwMCk7XG4gICAgICAgIH0sIDEwMCAqIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgYy5jbGFzc0xpc3QucmVtb3ZlKCd0cmFuc2l0aW9uJyk7XG4gICAgICAgICAgdGhpcy5kbmQgPSBmYWxzZTtcbiAgICAgICAgfSwgNjAwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNob3dpbmdDaXJjbGVzID0gZmFsc2U7XG4gIH1cblxuICBvbkNsaWNrKGUpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuY2lyY2xlcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgYy5hY3RpdmUgPSBjID09PSBlLnRhcmdldDtcbiAgICAgIGMuc2V0U2VsZWN0ZWQoYyA9PT0gZS50YXJnZXQpO1xuICAgIH0pO1xuICAgIHRoaXMuc2V0QWN0aXZlKGZhbHNlKTtcbiAgICB0aGlzLmFuaW1hdGUoKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzZWxlY3RlZCcsIHt9KSk7XG4gIH1cblxuICBnZXRTZWxlY3RlZCgpIHtcbiAgICBsZXQgc2VsZWN0ZWQgPSBudWxsO1xuICAgIHRoaXMuY2lyY2xlcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgaWYgKGMuc2VsZWN0ZWQpIHNlbGVjdGVkID0gYztcbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZWN0ZWQ7XG4gIH1cbn1cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21tLWJvYXJkLWl0ZW0nLCBNbUJvYXJkSXRlbSk7XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcbmltcG9ydCAnLi9tbS1jaXJjbGUubWpzJztcbmltcG9ydCBSZXNpemVPYnNlcnZlciBmcm9tICcuLy4uL25vZGVfbW9kdWxlcy9yZXNpemUtb2JzZXJ2ZXItcG9seWZpbGwvZGlzdC9SZXNpemVPYnNlcnZlci5lcy5qcyc7XG5cbmNvbnN0IHRtcGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xudG1wbC5pbm5lckhUTUwgPSBodG1sYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBmbGV4OiAwO1xuICAgICAgbWFyZ2luOiAycHg7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgLjVzIGVhc2UtaW4tb3V0O1xuICAgIH1cblxuICAgIC5rZXlzLXJvdyB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleDogMDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgdHJhbnNpdGlvbjogYWxsIC41cyBlYXNlLWluLW91dDtcbiAgICB9XG5cbiAgICAuc2VuZC1jb250YWluZXIge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXg6IDA7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAuNXMgZWFzZS1pbi1vdXQ7XG4gICAgfVxuXG4gICAgLnNlbmQge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXg6IDA7XG4gICAgICBoZWlnaHQ6IHVuc2V0O1xuICAgICAgd2lkdGg6IDA7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgLjVzIGVhc2UtaW4tb3V0O1xuICAgIH1cblxuICAgICNhcnJvdyB7XG4gICAgICBmaWxsOiAjRkFGQUZBO1xuICAgIH1cblxuICA8L3N0eWxlPlxuICA8ZGl2IGNsYXNzPVwia2V5cy1yb3dcIj5cbiAgICA8bW0tY2lyY2xlPjwvbW0tY2lyY2xlPlxuICAgIDxtbS1jaXJjbGU+PC9tbS1jaXJjbGU+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwic2VuZC1jb250YWluZXJcIj5cbiAgPHN2ZyBjbGFzcz1cInNlbmRcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMjQgMjRcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxuICAgIDxnIGlkPVwiYm94ZXNcIj4gPGcgaWQ9XCJ1aV94NUZfc3BlY194NUZfaGVhZGVyX2NvcHlfM1wiIGRpc3BsYXk9XCJub25lXCI+IDwvZz4gPHBhdGggZmlsbD1cIm5vbmVcIiBkPVwiTTAsMGgyNHYyNEgwVjB6XCIvPiA8L2c+IDxnIGlkPVwiYXJyb3dcIj4gPGcgaWQ9XCJ1aV94NUZfc3BlY194NUZfaGVhZGVyX2NvcHlfNlwiIGRpc3BsYXk9XCJub25lXCI+IDwvZz4gPHBhdGggZD1cIk0zLjQsMjAuNGwxNy40NS03LjQ4YzAuODEtMC4zNSwwLjgxLTEuNDksMC0xLjg0TDMuNCwzLjZDMi43NCwzLjMxLDIuMDEsMy44LDIuMDEsNC41MUwyLDkuMTJjMCwwLjUsMC4zNywwLjkzLDAuODcsMC45OSBMMTcsMTJMMi44NywxMy44OEMyLjM3LDEzLjk1LDIsMTQuMzgsMiwxNC44OGwwLjAxLDQuNjFDMi4wMSwyMC4yLDIuNzQsMjAuNjksMy40LDIwLjR6XCIvPiA8L2c+XG4gIDwvc3ZnPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cImtleXMtcm93XCI+XG4gICAgPG1tLWNpcmNsZT48L21tLWNpcmNsZT5cbiAgICA8bW0tY2lyY2xlPjwvbW0tY2lyY2xlPlxuICA8L2Rpdj5cbmA7XG5cbmNsYXNzIE1tQm9hcmRSZXN1bHQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1ib2FyZC1yZXN1bHQnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggYSBzaGFkb3cgcm9vdCB0byB0aGUgZWxlbWVudC5cbiAgICBsZXQgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgICB0aGlzLnNob3dSZXN1bHQgPSBmYWxzZTtcblxuICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5zZW5kQ29udGFpbmVyID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcuc2VuZC1jb250YWluZXInKTtcbiAgICB0aGlzLnNlbmQgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5zZW5kJyk7XG4gICAgdGhpcy5zZW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrKTtcblxuICAgIHRoaXMua2V5c1Jvd3MgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJy5rZXlzLXJvdycpO1xuXG4gICAgdGhpcy5jaXJjbGVzID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCdtbS1jaXJjbGUnKTtcblxuICAgIGNvbnN0IHJvID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZW50cnkuY29udGVudFJlY3Q7XG4gICAgICAgIHRoaXMuY2lyY2xlcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnNob3dSZXN1bHQpIGMuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0LCA1KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5rZXlzUm93cy5mb3JFYWNoKHIgPT4ge1xuICAgICAgcm8ub2JzZXJ2ZShyKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNob3dTZW5kKGJvb2wpIHtcbiAgICBpZiAoYm9vbCAmJiAhdGhpcy5zaG93UmVzdWx0KSB7XG4gICAgICB0aGlzLnN0eWxlLmZsZXggPSAxO1xuICAgICAgdGhpcy5zZW5kQ29udGFpbmVyLnN0eWxlLmZsZXggPSAxO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiAodGhpcy5zZW5kLnN0eWxlLmZsZXggPSAxKSwgMTAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaG93UmVzdWx0ID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2VuZENvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdmbGV4LWVuZCc7XG4gICAgICB0aGlzLnNlbmQuc3R5bGUuZmxleCA9IDA7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zZW5kQ29udGFpbmVyLnN0eWxlLmZsZXggPSAwO1xuICAgICAgICB0aGlzLmtleXNSb3dzLmZvckVhY2gociA9PiB7XG4gICAgICAgICAgci5zdHlsZS5mbGV4ID0gMTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2lyY2xlcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgIGMuc3R5bGUubWFyZ2luID0gJzJweCc7XG4gICAgICAgIH0pO1xuICAgICAgfSwgMTUwKTtcbiAgICB9XG4gIH1cblxuICBzZXRSZXN1bHQoeyBoaXRzLCBwc2V1ZG9IaXRzIH0pIHtcbiAgICB0aGlzLnNldFNlbmQoZmFsc2UpO1xuICAgIHRoaXMua2V5c1Jvd3MuZm9yRWFjaChyID0+IChyLnN0eWxlLmZsZXggPSAxKSk7XG4gICAgdGhpcy5jaXJjbGVzLmZvckVhY2goYyA9PiB7XG4gICAgICBpZiAoaGl0cy0tID4gMCkgYy5jb2xvcigncmVkJyk7XG4gICAgICBlbHNlIGlmIChwc2V1ZG9IaXRzLS0gPiAwKSBjLmNvbG9yKCd3aGl0ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH0pO1xuICB9XG5cbiAgb25DbGljaygpIHtcbiAgICB0aGlzLnNob3dTZW5kKGZhbHNlKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzZW5kJywge30pKTtcbiAgfVxufVxud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbW0tYm9hcmQtcmVzdWx0JywgTW1Cb2FyZFJlc3VsdCk7XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcbmltcG9ydCAnLi9tbS1ib2FyZC1pdGVtLm1qcyc7XG5pbXBvcnQgJy4vbW0tYm9hcmQtcmVzdWx0Lm1qcyc7XG5cbmNvbnN0IHRtcGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xudG1wbC5pbm5lckhUTUwgPSBodG1sYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgICBkaXNwbGF5OiAtbW96LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICB9XG5cbiAgPC9zdHlsZT5cbiAgPG1tLWJvYXJkLWl0ZW0+PC9tbS1ib2FyZC1pdGVtPlxuICA8bW0tYm9hcmQtaXRlbT48L21tLWJvYXJkLWl0ZW0+XG4gIDxtbS1ib2FyZC1pdGVtPjwvbW0tYm9hcmQtaXRlbT5cbiAgPG1tLWJvYXJkLWl0ZW0+PC9tbS1ib2FyZC1pdGVtPlxuICA8bW0tYm9hcmQtcmVzdWx0PjwvbW0tYm9hcmQtcmVzdWx0PlxuYDtcblxuY2xhc3MgTW1Cb2FyZFJvdyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAodHlwZW9mIFNoYWR5Q1NTICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodG1wbCwgJ21tLWJvYXJkLXJvdycpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5zdHlsZUVsZW1lbnQodGhpcyk7XG4gICAgfVxuICAgIC8vIEF0dGFjaCBhIHNoYWRvdyByb290IHRvIHRoZSBlbGVtZW50LlxuICAgIGxldCBzaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0bXBsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcblxuICAgIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMudmFsaWRhdGVTZW5kID0gdGhpcy52YWxpZGF0ZVNlbmQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnZhbGlkYXRlQ29kZSA9IHRoaXMudmFsaWRhdGVDb2RlLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLml0ZW1zID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCdtbS1ib2FyZC1pdGVtJyk7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKGkgPT4ge1xuICAgICAgaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gICAgICBpLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVkJywgdGhpcy52YWxpZGF0ZVNlbmQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5yZXN1bHQgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ21tLWJvYXJkLXJlc3VsdCcpO1xuICAgIHRoaXMucmVzdWx0LmFkZEV2ZW50TGlzdGVuZXIoJ3NlbmQnLCB0aGlzLnZhbGlkYXRlQ29kZSk7XG5cbiAgICAvKiB0aGlzLnJlc3VsdCA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignbW0tYm9hcmQtcmVzdWx0Jyk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnJlc3VsdC5zZXRSZXN1bHQoe1xuICAgICAgICBoaXRzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKSxcbiAgICAgICAgcHNldWRvSGl0czogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMylcbiAgICAgIH0pO1xuICAgIH0sIDUwKTsgKi9cbiAgfVxuXG4gIG9uQ2xpY2soZSkge1xuICAgIGNvbnN0IGkgPSBlLnRhcmdldDtcbiAgICBpZiAoaS5hY3RpdmUgfHwgaS5kbmQpIHJldHVybjtcbiAgICBsZXQgd2FpdCA9IGZhbHNlO1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpID0+IHtcbiAgICAgIGlmIChpLnNob3dpbmdDaXJjbGVzKSB3YWl0ID0gdHJ1ZTtcbiAgICAgIGkuc2V0QWN0aXZlKGZhbHNlKTtcbiAgICAgIGkuYW5pbWF0ZSgpO1xuICAgIH0pO1xuICAgIGkuc2V0QWN0aXZlKHRydWUpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaS5hbmltYXRlKCk7XG4gICAgfSwgd2FpdCA/IDYwMCA6IDIwMCk7XG4gIH1cblxuICBzZXRBY3RpdmUoYm9vbCkge1xuICAgIHRoaXMuc3R5bGUuZmxleCA9IGJvb2wgPyAxLjEgOiAxO1xuICB9XG5cbiAgdmFsaWRhdGVTZW5kKCkge1xuICAgIGxldCBhbGxTZWxlY3RlZCA9IHRydWU7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKGkgPT4ge1xuICAgICAgaWYgKCFpLmdldFNlbGVjdGVkKCkpIGFsbFNlbGVjdGVkID0gZmFsc2U7XG4gICAgfSk7XG4gICAgaWYgKGFsbFNlbGVjdGVkKSB0aGlzLnJlc3VsdC5zaG93U2VuZCh0cnVlKTtcbiAgfVxuXG4gIHZhbGlkYXRlQ29kZSgpIHtcbiAgICBjb25zb2xlLmxvZygnU3RhcnQgdmFsaWRhdGlvbicpO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1ib2FyZC1yb3cnLCBNbUJvYXJkUm93KTtcbiIsImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5tanMnO1xuaW1wb3J0ICcuL21tLWJvYXJkLXJvdy5tanMnO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbnRtcGwuaW5uZXJIVE1MID0gaHRtbGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgICAgZGlzcGxheTogLW1vei1ib3g7XG4gICAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgZmxleDogMTtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB9XG5cbiAgICBtbS1ib2FyZC1yb3cge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXg6IDE7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIG1heC13aWR0aDogNjAwcHg7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgLjVzIGVhc2U7XG4gICAgfVxuICA8L3N0eWxlPlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuICA8bW0tYm9hcmQtcm93PjwvbW0tYm9hcmQtcm93PlxuYDtcblxuY2xhc3MgTW1Cb2FyZCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAodHlwZW9mIFNoYWR5Q1NTICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodG1wbCwgJ21tLWJvYXJkJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgdGhpcy5yb3dzID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCdtbS1ib2FyZC1yb3cnKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMucm93c1t0aGlzLnJvd3MubGVuZ3RoIC0gMV0uc2V0QWN0aXZlKHRydWUpLCA1MDApO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1ib2FyZCcsIE1tQm9hcmQpO1xuIiwiaW1wb3J0IGh0bWwgZnJvbSAnLi9odG1sLm1qcyc7XG5pbXBvcnQgJy4vbW0tdG9vbGJhci5tanMnO1xuaW1wb3J0ICcuL21tLXBsYXkubWpzJztcbmltcG9ydCAnLi9tbS1ib2FyZC5tanMnO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbnRtcGwuaW5uZXJIVE1MID0gaHRtbGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgICAgZGlzcGxheTogLW1vei1ib3g7XG4gICAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4OiAxO1xuICAgIH1cblxuICAgIG1tLXRvb2xiYXIudG9vbGJhciB7XG4gICAgICBtYXgtaGVpZ2h0OiA2NHB4O1xuICAgICAgZm9udC1zaXplOiAxLjc1ZW07XG4gICAgfVxuICAgIFxuICA8L3N0eWxlPlxuICA8bW0tdG9vbGJhciBjbGFzcz1cInRvb2xiYXJcIj5NYXN0ZXJtaW5kPC9tbS10b29sYmFyPlxuICA8IS0tIDxtbS1wbGF5PjwvbW0tcGxheT4gLS0+XG4gIDxtbS1ib2FyZD48L21tLWJvYXJkPlxuYDtcblxuY2xhc3MgTW1BcHAgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1hcHAnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggYSBzaGFkb3cgcm9vdCB0byB0aGUgZWxlbWVudC5cbiAgICBsZXQgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgICB0aGlzLnRvb2xiYXIgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ21tLXRvb2xiYXInKTtcbiAgICAvLyB0aGlzLnBsYXkgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ21tLXBsYXknKTtcbiAgICAvLyB0aGlzLnBsYXkuc2V0UGxheUxpc3RlbmVyKCgpID0+IHtcbiAgICAvLyAgIHRoaXMudG9vbGJhci5jbGFzc0xpc3QuYWRkKCd0b29sYmFyJyk7XG4gICAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHRoaXMucGxheS5oaWRlKCksIDUwMCk7XG4gICAgLy8gfSk7XG4gIH1cbn1cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21tLWFwcCcsIE1tQXBwKTtcbiIsImltcG9ydCAnLi9tbS1hcHAubWpzJztcbmltcG9ydCBNYXN0ZXIgZnJvbSAnLi9tYXN0ZXIubWpzJztcblxuLy8gaGl0ICB8IHBzZXVkb1xuY29uc3QgYzEgPSBbMywgMiwgMiwgMF07XG5jb25zdCBjMiA9IFsyLCAxLCAxLCAwXTtcbi8vIDEgIHwgMVxuXG5jb25zdCBtYXN0ZXIgPSBuZXcgTWFzdGVyKHsgc29sdXRpb246IGMxIH0pO1xuLy8gY29uc29sZS5sb2cobWFzdGVyLmd1ZXNzKHsgZ3Vlc3M6IGMyIH0pKTtcbmNvbnNvbGUubG9nKG1hc3Rlci50cnkoeyBndWVzczogYzIgfSkpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFzdGVyIHtcbiAgY29uc3RydWN0b3IoeyBzb2x1dGlvbiwgdHJpZXMgPSAxMiB9KSB7XG4gICAgdGhpcy5zb2x1dGlvbiA9IHNvbHV0aW9uO1xuICAgIHRoaXMudHJpZXMgPSB0cmllcztcbiAgICB0aGlzLmNhbGMgPSB0aGlzLmNhbGM7XG4gICAgdGhpcy50cnkgPSB0aGlzLnRyeTtcbiAgfVxuXG4gIHRyeSh7IGd1ZXNzID0gW10gfSkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHRoaXMuZ3Vlc3MoeyBndWVzcyB9KSwgeyB0cmllczogLS10aGlzLnRyaWVzIH0pO1xuICB9XG5cbiAgZ3Vlc3MoeyBndWVzcyA9IFtdIH0pIHtcbiAgICBpZiAoZ3Vlc3MubGVuZ3RoICE9PSB0aGlzLnNvbHV0aW9uLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgb2JqID0geyBoaXRzOiAwLCBwc2V1ZG9IaXRzOiAwIH07XG4gICAgY29uc3Qgc29sdXRpb24gPSB0aGlzLnNvbHV0aW9uLnNsaWNlKCk7IC8vIENvcHlcbiAgICBjb25zdCBmcmVxID0gbmV3IEFycmF5KHRoaXMuc29sdXRpb24ubGVuZ3RoKS5maWxsKDApO1xuXG4gICAgZ3Vlc3MuZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgaWYgKHYgPT09IHRoaXMuc29sdXRpb25baV0pIHtcbiAgICAgICAgb2JqLmhpdHMgKz0gMTtcbiAgICAgICAgc29sdXRpb25baV0gPSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyZXFbdl0rKztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZyZXEuZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgaWYgKHYgPiAwICYmIHRoaXMuc29sdXRpb24uaW5jbHVkZXMoaSkpIG9iai5wc2V1ZG9IaXRzKys7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG59XG4iXSwibmFtZXMiOlsicGFyc2VGbG9hdCIsInBvc2l0aW9ucyIsImxlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInJlZHVjZSIsInNpemUiLCJ0b0Zsb2F0Iiwic3R5bGVzIiwiTWF0aCIsImFicyIsInJvdW5kIiwiY2xpZW50V2lkdGgiLCJ0YXJnZXQiLCJjbGllbnRIZWlnaHQiLCJnZXRXaW5kb3dPZiIsImdldENvbXB1dGVkU3R5bGUiLCJwYWRkaW5ncyIsImkiLCJsaXN0IiwicG9zaXRpb24iLCJ2YWx1ZSIsImdldFBhZGRpbmdzIiwiaG9yaXpQYWQiLCJsZWZ0IiwicmlnaHQiLCJ2ZXJ0UGFkIiwidG9wIiwiYm90dG9tIiwid2lkdGgiLCJoZWlnaHQiLCJib3hTaXppbmciLCJnZXRCb3JkZXJzU2l6ZSIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiaXNEb2N1bWVudEVsZW1lbnQiLCJ2ZXJ0U2Nyb2xsYmFyIiwiaG9yaXpTY3JvbGxiYXIiLCJjcmVhdGVSZWN0SW5pdCIsImlzQnJvd3NlciIsImlzU1ZHR3JhcGhpY3NFbGVtZW50IiwiYmJveCIsImdldEJCb3giLCJnZXRTVkdDb250ZW50UmVjdCIsImdldEhUTUxFbGVtZW50Q29udGVudFJlY3QiLCJ4IiwieSIsIlN0cmluZyIsInJhdyIsInRtcGwiLCJpbm5lckhUTUwiLCJodG1sIiwid2luZG93IiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJIVE1MRWxlbWVudCIsIlNoYWR5Q1NTIiwicHJlcGFyZVRlbXBsYXRlIiwic3R5bGVFbGVtZW50IiwidGhpcyIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJhcHBlbmRDaGlsZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJzaGFkb3dSb290IiwicGxheSIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwic2VsZWN0ZWQiLCJzZXRBY3RpdmUiLCJvcGFjaXR5IiwiYm9vbCIsIk1hcFNoaW0iLCJyZXN1bHQiLCJhcnIiLCJzb21lIiwiZW50cnkiLCJNYXAiLCJfX2VudHJpZXNfXyIsInByb3RvdHlwZUFjY2Vzc29ycyIsImNvbmZpZ3VyYWJsZSIsImdldCIsImFub255bW91cyIsInByb3RvdHlwZSIsImluZGV4IiwiZ2V0SW5kZXgiLCJzZXQiLCJwdXNoIiwiZGVsZXRlIiwiZW50cmllcyIsInNwbGljZSIsImhhcyIsImNsZWFyIiwiZm9yRWFjaCIsImN0eCIsImNhbGxiYWNrIiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnRpZXMiLCJnbG9iYWwkMSIsImdsb2JhbCIsInNlbGYiLCJGdW5jdGlvbiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSQxIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsInNldFRpbWVvdXQiLCJEYXRlIiwibm93IiwidHJhbnNpdGlvbktleXMiLCJtdXRhdGlvbk9ic2VydmVyU3VwcG9ydGVkIiwiTXV0YXRpb25PYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciIsImNvbm5lY3RlZF8iLCJtdXRhdGlvbkV2ZW50c0FkZGVkXyIsIm11dGF0aW9uc09ic2VydmVyXyIsIm9ic2VydmVyc18iLCJvblRyYW5zaXRpb25FbmRfIiwicmVmcmVzaCIsImxlYWRpbmdDYWxsIiwidHJhaWxpbmdDYWxsIiwicHJveHkiLCJ0aW1lU3RhbXAiLCJsYXN0Q2FsbFRpbWUiLCJ0aHJvdHRsZSIsImFkZE9ic2VydmVyIiwiaW5kZXhPZiIsImNvbm5lY3RfIiwicmVtb3ZlT2JzZXJ2ZXIiLCJvYnNlcnZlcnMiLCJkaXNjb25uZWN0XyIsInVwZGF0ZU9ic2VydmVyc18iLCJhY3RpdmVPYnNlcnZlcnMiLCJmaWx0ZXIiLCJvYnNlcnZlciIsImdhdGhlckFjdGl2ZSIsImhhc0FjdGl2ZSIsImJyb2FkY2FzdEFjdGl2ZSIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwiY2hpbGRMaXN0IiwiY2hhcmFjdGVyRGF0YSIsInN1YnRyZWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzY29ubmVjdCIsInByb3BlcnR5TmFtZSIsInJlZiIsImdldEluc3RhbmNlIiwiaW5zdGFuY2VfIiwiZGVmaW5lQ29uZmlndXJhYmxlIiwia2V5cyIsImRlZmluZVByb3BlcnR5IiwicHJvcHMiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJlbXB0eVJlY3QiLCJTVkdHcmFwaGljc0VsZW1lbnQiLCJTVkdFbGVtZW50IiwiUmVzaXplT2JzZXJ2YXRpb24iLCJicm9hZGNhc3RXaWR0aCIsImJyb2FkY2FzdEhlaWdodCIsImNvbnRlbnRSZWN0XyIsImlzQWN0aXZlIiwicmVjdCIsImdldENvbnRlbnRSZWN0IiwiYnJvYWRjYXN0UmVjdCIsIlJlc2l6ZU9ic2VydmVyRW50cnkiLCJDb25zdHIiLCJjb250ZW50UmVjdCIsIkRPTVJlY3RSZWFkT25seSIsImNyZWF0ZSIsIlJlc2l6ZU9ic2VydmVyU1BJIiwiYWN0aXZlT2JzZXJ2YXRpb25zXyIsIm9ic2VydmF0aW9uc18iLCJUeXBlRXJyb3IiLCJjYWxsYmFja18iLCJjb250cm9sbGVyXyIsImNhbGxiYWNrQ3R4XyIsIkVsZW1lbnQiLCJvYnNlcnZhdGlvbnMiLCJ1bm9ic2VydmUiLCJjbGVhckFjdGl2ZSIsInRoaXMkMSIsIm9ic2VydmF0aW9uIiwibWFwIiwiV2Vha01hcCIsIlJlc2l6ZU9ic2VydmVyIiwiY29udHJvbGxlciIsImFwcGx5IiwiY29sb3JzIiwiY3JlYXRlRWxlbWVudCIsImFjdGl2ZSIsImFuaW1hdGluZyIsImRuZCIsIm9uQ2xpY2siLCJjaXJjbGVzIiwicXVlcnlTZWxlY3RvckFsbCIsInNldFZhbHVlIiwic2V0Q29sb3IiLCJjIiwiY29udGFpbnMiLCJzaG93aW5nQ2lyY2xlcyIsInNldFNpemUiLCJtYXJnaW4iLCJmbGV4Iiwic2hvd0NpcmNsZXMiLCJoaWRlQ2lyY2xlcyIsInJlbW92ZSIsInN0b3BQcm9wYWdhdGlvbiIsImUiLCJzZXRTZWxlY3RlZCIsImFuaW1hdGUiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJzaG93UmVzdWx0Iiwic2VuZENvbnRhaW5lciIsInNlbmQiLCJrZXlzUm93cyIsInJvIiwiciIsImp1c3RpZnlDb250ZW50IiwiaGl0cyIsInBzZXVkb0hpdHMiLCJzZXRTZW5kIiwiY29sb3IiLCJzaG93U2VuZCIsInZhbGlkYXRlU2VuZCIsInZhbGlkYXRlQ29kZSIsIml0ZW1zIiwid2FpdCIsImFsbFNlbGVjdGVkIiwiZ2V0U2VsZWN0ZWQiLCJsb2ciLCJyb3dzIiwidG9vbGJhciIsIm1hc3RlciIsInNvbHV0aW9uIiwidHJpZXMiLCJjYWxjIiwidHJ5IiwiZ3Vlc3MiLCJhc3NpZ24iLCJvYmoiLCJzbGljZSIsImZyZXEiLCJBcnJheSIsImZpbGwiLCJ2IiwiaW5jbHVkZXMiLCJjb25zb2xlIl0sIm1hcHBpbmdzIjoieUJBaWdCQSxjQUNJLE1BQU9BLGdCQUFxQixDQVVoQyxlQUVJLElBREEsR0FBSUMsS0FBSixDQUFvQkMsRUFBTUMsVUFBVUMsTUFBVkQsQ0FBbUIsQ0FDN0MsQ0FBZ0IsQ0FBUkQsSUFBUixFQUFvQkQsS0FBbUJFLFVBQVdELEVBQU0sQ0FBakJDLENBQW5CRixDQUVwQixNQUFPQSxHQUFVSSxNQUFWSixDQUFpQixjQUdwQixNQUFPSyxHQUFPQyxFQUZGQyxFQUFPLFlBQXVCLFFBQTlCQSxDQUVFRCxFQUhYTixDQUlKLENBSklBLENBK0NYLHFCQWlFWVEsS0FBS0MsTUExQkxELEtBQUtFLE1BcENUQyxFQUFjQyxFQUFPRCxZQUNyQkUsRUFBZUQsRUFB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
