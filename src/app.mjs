!function(){"use strict";function j(a){return parseFloat(a)||0}function f(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return b.reduce(function(b,c){return b+j(a["border-"+c+"-width"])},0)}function c(b){var e=Math.abs,g=Math.round,h=b.clientWidth,k=b.clientHeight;if(!h&&!k)return u;var p=m(b).getComputedStyle(b),o=function(a){for(var b={},c=0,d=["top","right","bottom","left"];c<d.length;c+=1){var e=d[c],f=a["padding-"+e];b[e]=j(f)}return b}(p),r=o.left+o.right,i=o.top+o.bottom,s=j(p.width),a=j(p.height);if("border-box"===p.boxSizing&&(g(s+r)!==h&&(s-=f(p,"left","right")+r),g(a+i)!==k&&(a-=f(p,"top","bottom")+i)),!function(a){return a===m(a).document.documentElement}(b)){var c=g(s+r)-h,l=g(a+i)-k;1!==e(c)&&(s-=c),1!==e(l)&&(a-=l)}return q(o.left,o.top,s,a)}function b(a){return r?p(a)?function(a){var b=a.getBBox();return q(0,0,b.width,b.height)}(a):c(a):u}function q(a,b,c,d){return{x:a,y:b,width:c,height:d}}var w=String.raw;const e=document.createElement("template");e.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      width: 100%;
      flex: 1;
      max-height: 100%;
      background: var(--accent-color, #ed1a59);
      color: var(--primary-color, #212121);
      font-size: 2.75em;
      align-items: center;
      justify-content: center;
      border-radius: 0 0 15px 15px;
      transition: max-height 1s ease, font-size .7s ease-in-out .3s;
    }
  </style>
  <slot></slot>
`,window.customElements.define("mm-toolbar",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(e,"mm-toolbar"),ShadyCSS.styleElement(this)),this.attachShadow({mode:"open"}).appendChild(e.content.cloneNode(!0))}});const t=document.createElement("template");t.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex-direction: column;
      flex: 1;
      align-items: center;
      justify-content: center;
    }

    .play {
      color: var(--accent-color, #ed1a59);
      font-size: 2.5em;
      padding: 1em;
      cursor: pointer;
      border: 1px var(--accent-color, #ed1a59) solid;
      border-radius: 15px;
      transition: all .5s ease;
    }

    .hide { 
      opacity: 0;
    }

    .play:hover {
      color: var(--primary-color, #212121);
      background-color: var(--accent-color, #ed1a59);
    }

  </style>
  <span id="playButton" class="play">Play</span>
`,window.customElements.define("mm-play",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(t,"mm-play"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(t.content.cloneNode(!0)),this.play=a.querySelector("#playButton")}setPlayListener(a){this.play.addEventListener("click",a)}hide(){this.play.classList.add("hide")}});const n=document.createElement("template");n.innerHTML=w`
  <style>
    :host {
      background: #343434;
      border-radius: 50%;
      transform: background;
    }
  </style>
`,window.customElements.define("mm-circle",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(n,"mm-circle"),ShadyCSS.styleElement(this)),this.attachShadow({mode:"open"}).appendChild(n.content.cloneNode(!0))}size(a,b,c){const d=`${a>b?b-c:a-c}px`;this.style.width=d,this.style.height=d}color(a){this.style.background=a}});var o=function(){function a(a,b){var c=-1;return a.some(function(a,d){return a[0]===b&&(c=d,!0)}),c}return"undefined"==typeof Map?function(){function b(){this.__entries__=[]}var c={size:{configurable:!0}};return c.size.get=function(){return this.__entries__.length},b.prototype.get=function(b){var c=a(this.__entries__,b),d=this.__entries__[c];return d&&d[1]},b.prototype.set=function(b,c){var d=a(this.__entries__,b);~d?this.__entries__[d][1]=c:this.__entries__.push([b,c])},b.prototype.delete=function(b){var c=this.__entries__,d=a(c,b);~d&&c.splice(d,1)},b.prototype.has=function(b){return!!~a(this.__entries__,b)},b.prototype.clear=function(){this.__entries__.splice(0)},b.prototype.forEach=function(a,b){void 0===b&&(b=null);for(var c,d=0,e=this.__entries__;d<e.length;d+=1)c=e[d],a.call(b,c[1],c[0])},Object.defineProperties(b.prototype,c),b}():Map}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,d=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(a,b){function c(){f&&(f=!1,a()),g&&e()}function d(){s(c)}function e(){var a=Date.now();if(f){if(a-h<2)return;g=!0}else f=!0,g=!1,setTimeout(d,b);h=a}var f=!1,g=!1,h=0;return e}(this.refresh.bind(this),20)};d.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()},d.prototype.removeObserver=function(a){var b=this.observers_,c=b.indexOf(a);~c&&b.splice(c,1),!b.length&&this.connected_&&this.disconnect_()},d.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},d.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return a.forEach(function(a){return a.broadcastActive()}),0<a.length},d.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},d.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},d.prototype.onTransitionEnd_=function(b){var c=b.propertyName;void 0===c&&(c=""),a.some(function(a){return!!~c.indexOf(a)})&&this.refresh()},d.getInstance=function(){return this.instance_||(this.instance_=new d),this.instance_},d.instance_=null;var h=function(a,b){for(var c,d=0,e=Object.keys(b);d<e.length;d+=1)c=e[d],Object.defineProperty(a,c,{value:b[c],enumerable:!1,writable:!1,configurable:!0});return a},m=function(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView||i},u=q(0,0,0,0),p="undefined"==typeof SVGGraphicsElement?function(a){return a instanceof m(a).SVGElement&&"function"==typeof a.getBBox}:function(a){return a instanceof m(a).SVGGraphicsElement},v=function(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=q(0,0,0,0),this.target=a};v.prototype.isActive=function(){var a=b(this.target);return this.contentRect_=a,a.width!==this.broadcastWidth||a.height!==this.broadcastHeight},v.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a};var g=function(b,d){var f,g,j,k,m,n,a,c=(g=(f=d).x,j=f.y,k=f.width,m=f.height,n="undefined"==typeof DOMRectReadOnly?Object:DOMRectReadOnly,a=Object.create(n.prototype),h(a,{x:g,y:j,width:k,height:m,top:j,right:g+k,bottom:m+j,left:g}),a);h(this,{target:b,contentRect:c})},x=function(a,b,c){if(this.activeObservations_=[],this.observations_=new o,"function"!=typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a,this.controller_=b,this.callbackCtx_=c};x.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof m(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)||(b.set(a,new v(a)),this.controller_.addObserver(this),this.controller_.refresh())}},x.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof m(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)&&(b.delete(a),b.size||this.controller_.removeObserver(this))}},x.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},x.prototype.gatherActive=function(){var a=this;this.clearActive(),this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})},x.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new g(a.target,a.broadcastRect())});this.callback_.call(a,b,a),this.clearActive()}},x.prototype.clearActive=function(){this.activeObservations_.splice(0)},x.prototype.hasActive=function(){return 0<this.activeObservations_.length};var y="undefined"==typeof WeakMap?new o:new WeakMap,z=function(a){if(!(this instanceof z))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var b=d.getInstance(),c=new x(a,b,this);y.set(this,c)};["observe","unobserve","disconnect"].forEach(function(a){z.prototype[a]=function(){return(b=y.get(this))[a].apply(b,arguments);var b}});var B=void 0===i.ResizeObserver?z:i.ResizeObserver;const k=document.createElement("template");k.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
    }

    .container {
      display: flex;
      align-items: center;
      justify-content: center;
      flex: 1;
      margin: 2px;
      transition: all 1s ease-in-out;
    }

    .keys {
      display: flex;
      flex-direction: column;
    }

    .keys-row {
      display: flex;
      align-items: center;
      width: 100%;
    }

    .key {
      margin: 2px;
    }

  </style>
  <div class="container">
    <mm-circle></mm-circle>
  </div>
  <div class="container">
    <mm-circle></mm-circle>
  </div>
  <div class="container">
    <mm-circle></mm-circle>
  </div>
  <div class="container">
    <mm-circle></mm-circle>
  </div>
  <div class="container keys">
    <div class="keys-row">
      <mm-circle class="key"></mm-circle>
      <mm-circle class="key"></mm-circle>
    </div>
    <div class="keys-row">
      <mm-circle class="key"></mm-circle>
      <mm-circle class="key"></mm-circle>
    </div>
  </div>
`,window.customElements.define("mm-board-row",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(k,"mm-board-row"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(k.content.cloneNode(!0));const b=a.querySelectorAll(".container");this.circles=a.querySelectorAll("mm-circle:not(.key)"),this.keys=a.querySelectorAll("mm-circle.key");const c=new B((a)=>{for(const b of a){const{width:a,height:c}=b.contentRect;b.target.querySelectorAll("mm-circle").forEach((b)=>{let d=!1;b.classList.contains("key")&&(d=!0),b.size(d?a/2:a,d?c/2:c,5)})}});b.forEach((a)=>c.observe(a))}});const D=document.createElement("template");D.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex-direction: column;
      flex: 1;
      align-items: center;
      justify-content: center;
    }

    mm-board-row {
      display: flex;
      flex: 1;
      width: 100%;
      max-width: 600px;
    }
  </style>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
`,window.customElements.define("mm-board",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(D,"mm-board"),ShadyCSS.styleElement(this)),this.attachShadow({mode:"open"}).appendChild(D.content.cloneNode(!0))}});const E=document.createElement("template");E.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex: 1;
    }

    mm-toolbar.toolbar {
      max-height: 64px;
      font-size: 1.75em;
    }
    
  </style>
  <mm-toolbar class="toolbar">Mastermind</mm-toolbar>
  <!-- <mm-play></mm-play> -->
  <mm-board></mm-board>
`,window.customElements.define("mm-app",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(E,"mm-app"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(E.content.cloneNode(!0)),this.toolbar=a.querySelector("mm-toolbar")}});const C=new class{constructor({solution:a,tries:b=12}){this.solution=a,this.tries=b,this.calc=this.calc,this.try=this.try}try({guess:a=[]}){return Object.assign(this.guess({guess:a}),{tries:--this.tries})}guess({guess:a=[]}){if(a.length!==this.solution.length)return;const b={hits:0,pseudoHits:0},c=this.solution.slice(),d=Array(this.solution.length).fill(0);return a.forEach((a,e)=>{a===this.solution[e]?(b.hits+=1,c[e]=-1):d[a]++}),d.forEach((a,c)=>{0<a&&this.solution.includes(c)&&b.pseudoHits++}),b}}({solution:[3,2,2,0]});console.log(C.try({guess:[2,1,1,0]}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLm1qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbC9kaXN0L1Jlc2l6ZU9ic2VydmVyLmVzLmpzIiwiLi4vLi4vc3JjL2h0bWwubWpzIiwiLi4vLi4vc3JjL21tLXRvb2xiYXIubWpzIiwiLi4vLi4vc3JjL21tLXBsYXkubWpzIiwiLi4vLi4vc3JjL21tLWNpcmNsZS5tanMiLCIuLi8uLi9zcmMvbW0tYm9hcmQtcm93Lm1qcyIsIi4uLy4uL3NyYy9tbS1ib2FyZC5tanMiLCIuLi8uLi9zcmMvbW0tYXBwLm1qcyIsIi4uLy4uL3NyYy9hcHAubWpzIiwiLi4vLi4vc3JjL21hc3Rlci5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEEgY29sbGVjdGlvbiBvZiBzaGltcyB0aGF0IHByb3ZpZGUgbWluaW1hbCBmdW5jdGlvbmFsaXR5IG9mIHRoZSBFUzYgY29sbGVjdGlvbnMuXHJcbiAqXHJcbiAqIFRoZXNlIGltcGxlbWVudGF0aW9ucyBhcmUgbm90IG1lYW50IHRvIGJlIHVzZWQgb3V0c2lkZSBvZiB0aGUgUmVzaXplT2JzZXJ2ZXJcclxuICogbW9kdWxlcyBhcyB0aGV5IGNvdmVyIG9ubHkgYSBsaW1pdGVkIHJhbmdlIG9mIHVzZSBjYXNlcy5cclxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSByZXF1aXJlLWpzZG9jLCB2YWxpZC1qc2RvYyAqL1xudmFyIE1hcFNoaW0gPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgTWFwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gTWFwO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBpbmRleCBpbiBwcm92aWRlZCBhcnJheSB0aGF0IG1hdGNoZXMgdGhlIHNwZWNpZmllZCBrZXkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtBcnJheTxBcnJheT59IGFyclxyXG4gICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJbmRleChhcnIsIGtleSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgICAgICAgYXJyLnNvbWUoZnVuY3Rpb24gKGVudHJ5LCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKGVudHJ5WzBdID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBpbmRleDtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGFub255bW91cygpIHtcbiAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX18gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHNpemU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAgICAgKi9cbiAgICAgICAgcHJvdG90eXBlQWNjZXNzb3JzLnNpemUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX19lbnRyaWVzX18ubGVuZ3RoO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgICAgICogQHJldHVybnMgeyp9XHJcbiAgICAgICAgICovXG4gICAgICAgIGFub255bW91cy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXgodGhpcy5fX2VudHJpZXNfXywga2V5KTtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IHRoaXMuX19lbnRyaWVzX19baW5kZXhdO1xuXG4gICAgICAgICAgICByZXR1cm4gZW50cnkgJiYgZW50cnlbMV07XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlXHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXG4gICAgICAgIGFub255bW91cy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4KHRoaXMuX19lbnRyaWVzX18sIGtleSk7XG5cbiAgICAgICAgICAgIGlmICh+aW5kZXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fZW50cmllc19fW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fZW50cmllc19fLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xuICAgICAgICBhbm9ueW1vdXMucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5fX2VudHJpZXNfXztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGdldEluZGV4KGVudHJpZXMsIGtleSk7XG5cbiAgICAgICAgICAgIGlmICh+aW5kZXgpIHtcbiAgICAgICAgICAgICAgICBlbnRyaWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cbiAgICAgICAgYW5vbnltb3VzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gISF+Z2V0SW5kZXgodGhpcy5fX2VudHJpZXNfXywga2V5KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cbiAgICAgICAgYW5vbnltb3VzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX18uc3BsaWNlKDApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbY3R4PW51bGxdXHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXG4gICAgICAgIGFub255bW91cy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgY3R4KSB7XG4gICAgICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcbiAgICAgICAgICAgIGlmICggY3R4ID09PSB2b2lkIDAgKSBjdHggPSBudWxsO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGlzdCA9IHRoaXMkMS5fX2VudHJpZXNfXzsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBsaXN0W2ldO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChjdHgsIGVudHJ5WzFdLCBlbnRyeVswXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIGFub255bW91cy5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgICAgIHJldHVybiBhbm9ueW1vdXM7XG4gICAgfSgpKTtcbn0pKCk7XG5cbi8qKlxyXG4gKiBEZXRlY3RzIHdoZXRoZXIgd2luZG93IGFuZCBkb2N1bWVudCBvYmplY3RzIGFyZSBhdmFpbGFibGUgaW4gY3VycmVudCBlbnZpcm9ubWVudC5cclxuICovXG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgPT09IGRvY3VtZW50O1xuXG4vLyBSZXR1cm5zIGdsb2JhbCBvYmplY3Qgb2YgYSBjdXJyZW50IGVudmlyb25tZW50LlxudmFyIGdsb2JhbCQxID0gKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsLk1hdGggPT09IE1hdGgpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PT0gTWF0aCkge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT09IE1hdGgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcbiAgICByZXR1cm4gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbn0pKCk7XG5cbi8qKlxyXG4gKiBBIHNoaW0gZm9yIHRoZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgd2hpY2ggZmFsbHMgYmFjayB0byB0aGUgc2V0VGltZW91dCBpZlxyXG4gKiBmaXJzdCBvbmUgaXMgbm90IHN1cHBvcnRlZC5cclxuICpcclxuICogQHJldHVybnMge251bWJlcn0gUmVxdWVzdHMnIGlkZW50aWZpZXIuXHJcbiAqL1xudmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSQxID0gKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBJdCdzIHJlcXVpcmVkIHRvIHVzZSBhIGJvdW5kZWQgZnVuY3Rpb24gYmVjYXVzZSBJRSBzb21ldGltZXMgdGhyb3dzXG4gICAgICAgIC8vIGFuIFwiSW52YWxpZCBjYWxsaW5nIG9iamVjdFwiIGVycm9yIGlmIHJBRiBpcyBpbnZva2VkIHdpdGhvdXQgdGhlIGdsb2JhbFxuICAgICAgICAvLyBvYmplY3Qgb24gdGhlIGxlZnQgaGFuZCBzaWRlLlxuICAgICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQoZ2xvYmFsJDEpO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2spIHsgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FsbGJhY2soRGF0ZS5ub3coKSk7IH0sIDEwMDAgLyA2MCk7IH07XG59KSgpO1xuXG4vLyBEZWZpbmVzIG1pbmltdW0gdGltZW91dCBiZWZvcmUgYWRkaW5nIGEgdHJhaWxpbmcgY2FsbC5cbnZhciB0cmFpbGluZ1RpbWVvdXQgPSAyO1xuXG4vKipcclxuICogQ3JlYXRlcyBhIHdyYXBwZXIgZnVuY3Rpb24gd2hpY2ggZW5zdXJlcyB0aGF0IHByb3ZpZGVkIGNhbGxiYWNrIHdpbGwgYmVcclxuICogaW52b2tlZCBvbmx5IG9uY2UgZHVyaW5nIHRoZSBzcGVjaWZpZWQgZGVsYXkgcGVyaW9kLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGJlIGludm9rZWQgYWZ0ZXIgdGhlIGRlbGF5IHBlcmlvZC5cclxuICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5IC0gRGVsYXkgYWZ0ZXIgd2hpY2ggdG8gaW52b2tlIGNhbGxiYWNrLlxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XHJcbiAqL1xudmFyIHRocm90dGxlID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBkZWxheSkge1xuICAgIHZhciBsZWFkaW5nQ2FsbCA9IGZhbHNlLFxuICAgICAgICB0cmFpbGluZ0NhbGwgPSBmYWxzZSxcbiAgICAgICAgbGFzdENhbGxUaW1lID0gMDtcblxuICAgIC8qKlxyXG4gICAgICogSW52b2tlcyB0aGUgb3JpZ2luYWwgY2FsbGJhY2sgZnVuY3Rpb24gYW5kIHNjaGVkdWxlcyBuZXcgaW52b2NhdGlvbiBpZlxyXG4gICAgICogdGhlIFwicHJveHlcIiB3YXMgY2FsbGVkIGR1cmluZyBjdXJyZW50IHJlcXVlc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXNvbHZlUGVuZGluZygpIHtcbiAgICAgICAgaWYgKGxlYWRpbmdDYWxsKSB7XG4gICAgICAgICAgICBsZWFkaW5nQ2FsbCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWlsaW5nQ2FsbCkge1xuICAgICAgICAgICAgcHJveHkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogQ2FsbGJhY2sgaW52b2tlZCBhZnRlciB0aGUgc3BlY2lmaWVkIGRlbGF5LiBJdCB3aWxsIGZ1cnRoZXIgcG9zdHBvbmVcclxuICAgICAqIGludm9jYXRpb24gb2YgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIGRlbGVnYXRpbmcgaXQgdG8gdGhlXHJcbiAgICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lb3V0Q2FsbGJhY2soKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSQxKHJlc29sdmVQZW5kaW5nKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFNjaGVkdWxlcyBpbnZvY2F0aW9uIG9mIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHByb3h5KCkge1xuICAgICAgICB2YXIgdGltZVN0YW1wID0gRGF0ZS5ub3coKTtcblxuICAgICAgICBpZiAobGVhZGluZ0NhbGwpIHtcbiAgICAgICAgICAgIC8vIFJlamVjdCBpbW1lZGlhdGVseSBmb2xsb3dpbmcgY2FsbHMuXG4gICAgICAgICAgICBpZiAodGltZVN0YW1wIC0gbGFzdENhbGxUaW1lIDwgdHJhaWxpbmdUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTY2hlZHVsZSBuZXcgY2FsbCB0byBiZSBpbiBpbnZva2VkIHdoZW4gdGhlIHBlbmRpbmcgb25lIGlzIHJlc29sdmVkLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBpbXBvcnRhbnQgZm9yIFwidHJhbnNpdGlvbnNcIiB3aGljaCBuZXZlciBhY3R1YWxseSBzdGFydFxuICAgICAgICAgICAgLy8gaW1tZWRpYXRlbHkgc28gdGhlcmUgaXMgYSBjaGFuY2UgdGhhdCB3ZSBtaWdodCBtaXNzIG9uZSBpZiBjaGFuZ2VcbiAgICAgICAgICAgIC8vIGhhcHBlbnMgYW1pZHMgdGhlIHBlbmRpbmcgaW52b2NhdGlvbi5cbiAgICAgICAgICAgIHRyYWlsaW5nQ2FsbCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZWFkaW5nQ2FsbCA9IHRydWU7XG4gICAgICAgICAgICB0cmFpbGluZ0NhbGwgPSBmYWxzZTtcblxuICAgICAgICAgICAgc2V0VGltZW91dCh0aW1lb3V0Q2FsbGJhY2ssIGRlbGF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxhc3RDYWxsVGltZSA9IHRpbWVTdGFtcDtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJveHk7XG59O1xuXG4vLyBNaW5pbXVtIGRlbGF5IGJlZm9yZSBpbnZva2luZyB0aGUgdXBkYXRlIG9mIG9ic2VydmVycy5cbnZhciBSRUZSRVNIX0RFTEFZID0gMjA7XG5cbi8vIEEgbGlzdCBvZiBzdWJzdHJpbmdzIG9mIENTUyBwcm9wZXJ0aWVzIHVzZWQgdG8gZmluZCB0cmFuc2l0aW9uIGV2ZW50cyB0aGF0XG4vLyBtaWdodCBhZmZlY3QgZGltZW5zaW9ucyBvZiBvYnNlcnZlZCBlbGVtZW50cy5cbnZhciB0cmFuc2l0aW9uS2V5cyA9IFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0JywgJ3dpZHRoJywgJ2hlaWdodCcsICdzaXplJywgJ3dlaWdodCddO1xuXG4vLyBDaGVjayBpZiBNdXRhdGlvbk9ic2VydmVyIGlzIGF2YWlsYWJsZS5cbnZhciBtdXRhdGlvbk9ic2VydmVyU3VwcG9ydGVkID0gdHlwZW9mIE11dGF0aW9uT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnO1xuXG4vKipcclxuICogU2luZ2xldG9uIGNvbnRyb2xsZXIgY2xhc3Mgd2hpY2ggaGFuZGxlcyB1cGRhdGVzIG9mIFJlc2l6ZU9ic2VydmVyIGluc3RhbmNlcy5cclxuICovXG52YXIgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jb25uZWN0ZWRfID0gZmFsc2U7XG4gICAgdGhpcy5tdXRhdGlvbkV2ZW50c0FkZGVkXyA9IGZhbHNlO1xuICAgIHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfID0gbnVsbDtcbiAgICB0aGlzLm9ic2VydmVyc18gPSBbXTtcblxuICAgIHRoaXMub25UcmFuc2l0aW9uRW5kXyA9IHRoaXMub25UcmFuc2l0aW9uRW5kXy5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVmcmVzaCA9IHRocm90dGxlKHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpLCBSRUZSRVNIX0RFTEFZKTtcbn07XG5cbi8qKlxyXG4gKiBBZGRzIG9ic2VydmVyIHRvIG9ic2VydmVycyBsaXN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge1Jlc2l6ZU9ic2VydmVyU1BJfSBvYnNlcnZlciAtIE9ic2VydmVyIHRvIGJlIGFkZGVkLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5cblxuLyoqXHJcbiAqIEhvbGRzIHJlZmVyZW5jZSB0byB0aGUgY29udHJvbGxlcidzIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZSB7UmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyfVxyXG4gKi9cblxuXG4vKipcclxuICogS2VlcHMgcmVmZXJlbmNlIHRvIHRoZSBpbnN0YW5jZSBvZiBNdXRhdGlvbk9ic2VydmVyLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZSB7TXV0YXRpb25PYnNlcnZlcn1cclxuICovXG5cbi8qKlxyXG4gKiBJbmRpY2F0ZXMgd2hldGhlciBET00gbGlzdGVuZXJzIGhhdmUgYmVlbiBhZGRlZC5cclxuICpcclxuICogQHByaXZhdGUge2Jvb2xlYW59XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5hZGRPYnNlcnZlciA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgIGlmICghfnRoaXMub2JzZXJ2ZXJzXy5pbmRleE9mKG9ic2VydmVyKSkge1xuICAgICAgICB0aGlzLm9ic2VydmVyc18ucHVzaChvYnNlcnZlcik7XG4gICAgfVxuXG4gICAgLy8gQWRkIGxpc3RlbmVycyBpZiB0aGV5IGhhdmVuJ3QgYmVlbiBhZGRlZCB5ZXQuXG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZF8pIHtcbiAgICAgICAgdGhpcy5jb25uZWN0XygpO1xuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBSZW1vdmVzIG9ic2VydmVyIGZyb20gb2JzZXJ2ZXJzIGxpc3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVzaXplT2JzZXJ2ZXJTUEl9IG9ic2VydmVyIC0gT2JzZXJ2ZXIgdG8gYmUgcmVtb3ZlZC5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVPYnNlcnZlciA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVyc187XG4gICAgdmFyIGluZGV4ID0gb2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpO1xuXG4gICAgLy8gUmVtb3ZlIG9ic2VydmVyIGlmIGl0J3MgcHJlc2VudCBpbiByZWdpc3RyeS5cbiAgICBpZiAofmluZGV4KSB7XG4gICAgICAgIG9ic2VydmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBsaXN0ZW5lcnMgaWYgY29udHJvbGxlciBoYXMgbm8gY29ubmVjdGVkIG9ic2VydmVycy5cbiAgICBpZiAoIW9ic2VydmVycy5sZW5ndGggJiYgdGhpcy5jb25uZWN0ZWRfKSB7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdF8oKTtcbiAgICB9XG59O1xuXG4vKipcclxuICogSW52b2tlcyB0aGUgdXBkYXRlIG9mIG9ic2VydmVycy4gSXQgd2lsbCBjb250aW51ZSBydW5uaW5nIHVwZGF0ZXMgaW5zb2ZhclxyXG4gKiBpdCBkZXRlY3RzIGNoYW5nZXMuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2hhbmdlc0RldGVjdGVkID0gdGhpcy51cGRhdGVPYnNlcnZlcnNfKCk7XG5cbiAgICAvLyBDb250aW51ZSBydW5uaW5nIHVwZGF0ZXMgaWYgY2hhbmdlcyBoYXZlIGJlZW4gZGV0ZWN0ZWQgYXMgdGhlcmUgbWlnaHRcbiAgICAvLyBiZSBmdXR1cmUgb25lcyBjYXVzZWQgYnkgQ1NTIHRyYW5zaXRpb25zLlxuICAgIGlmIChjaGFuZ2VzRGV0ZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxufTtcblxuLyoqXHJcbiAqIFVwZGF0ZXMgZXZlcnkgb2JzZXJ2ZXIgZnJvbSBvYnNlcnZlcnMgbGlzdCBhbmQgbm90aWZpZXMgdGhlbSBvZiBxdWV1ZWRcclxuICogZW50cmllcy5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgXCJ0cnVlXCIgaWYgYW55IG9ic2VydmVyIGhhcyBkZXRlY3RlZCBjaGFuZ2VzIGluXHJcbiAqICBkaW1lbnNpb25zIG9mIGl0J3MgZWxlbWVudHMuXHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS51cGRhdGVPYnNlcnZlcnNfID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIENvbGxlY3Qgb2JzZXJ2ZXJzIHRoYXQgaGF2ZSBhY3RpdmUgb2JzZXJ2YXRpb25zLlxuICAgIHZhciBhY3RpdmVPYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVyc18uZmlsdGVyKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuZ2F0aGVyQWN0aXZlKCksIG9ic2VydmVyLmhhc0FjdGl2ZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gRGVsaXZlciBub3RpZmljYXRpb25zIGluIGEgc2VwYXJhdGUgY3ljbGUgaW4gb3JkZXIgdG8gYXZvaWQgYW55XG4gICAgLy8gY29sbGlzaW9ucyBiZXR3ZWVuIG9ic2VydmVycywgZS5nLiB3aGVuIG11bHRpcGxlIGluc3RhbmNlcyBvZlxuICAgIC8vIFJlc2l6ZU9ic2VydmVyIGFyZSB0cmFja2luZyB0aGUgc2FtZSBlbGVtZW50IGFuZCB0aGUgY2FsbGJhY2sgb2Ygb25lXG4gICAgLy8gb2YgdGhlbSBjaGFuZ2VzIGNvbnRlbnQgZGltZW5zaW9ucyBvZiB0aGUgb2JzZXJ2ZWQgdGFyZ2V0LiBTb21ldGltZXNcbiAgICAvLyB0aGlzIG1heSByZXN1bHQgaW4gbm90aWZpY2F0aW9ucyBiZWluZyBibG9ja2VkIGZvciB0aGUgcmVzdCBvZiBvYnNlcnZlcnMuXG4gICAgYWN0aXZlT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmVyKSB7IHJldHVybiBvYnNlcnZlci5icm9hZGNhc3RBY3RpdmUoKTsgfSk7XG5cbiAgICByZXR1cm4gYWN0aXZlT2JzZXJ2ZXJzLmxlbmd0aCA+IDA7XG59O1xuXG4vKipcclxuICogSW5pdGlhbGl6ZXMgRE9NIGxpc3RlbmVycy5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5jb25uZWN0XyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBEbyBub3RoaW5nIGlmIHJ1bm5pbmcgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudCBvciBpZiBsaXN0ZW5lcnNcbiAgICAvLyBoYXZlIGJlZW4gYWxyZWFkeSBhZGRlZC5cbiAgICBpZiAoIWlzQnJvd3NlciB8fCB0aGlzLmNvbm5lY3RlZF8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFN1YnNjcmlwdGlvbiB0byB0aGUgXCJUcmFuc2l0aW9uZW5kXCIgZXZlbnQgaXMgdXNlZCBhcyBhIHdvcmthcm91bmQgZm9yXG4gICAgLy8gZGVsYXllZCB0cmFuc2l0aW9ucy4gVGhpcyB3YXkgaXQncyBwb3NzaWJsZSB0byBjYXB0dXJlIGF0IGxlYXN0IHRoZVxuICAgIC8vIGZpbmFsIHN0YXRlIG9mIGFuIGVsZW1lbnQuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMub25UcmFuc2l0aW9uRW5kXyk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZWZyZXNoKTtcblxuICAgIGlmIChtdXRhdGlvbk9ic2VydmVyU3VwcG9ydGVkKSB7XG4gICAgICAgIHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5yZWZyZXNoKTtcblxuICAgICAgICB0aGlzLm11dGF0aW9uc09ic2VydmVyXy5vYnNlcnZlKGRvY3VtZW50LCB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICAgICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NU3VidHJlZU1vZGlmaWVkJywgdGhpcy5yZWZyZXNoKTtcblxuICAgICAgICB0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbm5lY3RlZF8gPSB0cnVlO1xufTtcblxuLyoqXHJcbiAqIFJlbW92ZXMgRE9NIGxpc3RlbmVycy5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5kaXNjb25uZWN0XyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBEbyBub3RoaW5nIGlmIHJ1bm5pbmcgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudCBvciBpZiBsaXN0ZW5lcnNcbiAgICAvLyBoYXZlIGJlZW4gYWxyZWFkeSByZW1vdmVkLlxuICAgIGlmICghaXNCcm93c2VyIHx8ICF0aGlzLmNvbm5lY3RlZF8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm9uVHJhbnNpdGlvbkVuZF8pO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlZnJlc2gpO1xuXG4gICAgaWYgKHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfKSB7XG4gICAgICAgIHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tdXRhdGlvbkV2ZW50c0FkZGVkXykge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdET01TdWJ0cmVlTW9kaWZpZWQnLCB0aGlzLnJlZnJlc2gpO1xuICAgIH1cblxuICAgIHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfID0gbnVsbDtcbiAgICB0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfID0gZmFsc2U7XG4gICAgdGhpcy5jb25uZWN0ZWRfID0gZmFsc2U7XG59O1xuXG4vKipcclxuICogXCJUcmFuc2l0aW9uZW5kXCIgZXZlbnQgaGFuZGxlci5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHtUcmFuc2l0aW9uRXZlbnR9IGV2ZW50XHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5wcm90b3R5cGUub25UcmFuc2l0aW9uRW5kXyA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IHJlZi5wcm9wZXJ0eU5hbWU7IGlmICggcHJvcGVydHlOYW1lID09PSB2b2lkIDAgKSBwcm9wZXJ0eU5hbWUgPSAnJztcblxuICAgIC8vIERldGVjdCB3aGV0aGVyIHRyYW5zaXRpb24gbWF5IGFmZmVjdCBkaW1lbnNpb25zIG9mIGFuIGVsZW1lbnQuXG4gICAgdmFyIGlzUmVmbG93UHJvcGVydHkgPSB0cmFuc2l0aW9uS2V5cy5zb21lKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuICEhfnByb3BlcnR5TmFtZS5pbmRleE9mKGtleSk7XG4gICAgfSk7XG5cbiAgICBpZiAoaXNSZWZsb3dQcm9wZXJ0eSkge1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG59O1xuXG4vKipcclxuICogUmV0dXJucyBpbnN0YW5jZSBvZiB0aGUgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuaW5zdGFuY2VfKSB7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VfID0gbmV3IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlcigpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmluc3RhbmNlXztcbn07XG5cblJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5pbnN0YW5jZV8gPSBudWxsO1xuXG4vKipcclxuICogRGVmaW5lcyBub24td3JpdGFibGUvZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIHRoZSBwcm92aWRlZCB0YXJnZXQgb2JqZWN0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IC0gT2JqZWN0IGZvciB3aGljaCB0byBkZWZpbmUgcHJvcGVydGllcy5cclxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIC0gUHJvcGVydGllcyB0byBiZSBkZWZpbmVkLlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUYXJnZXQgb2JqZWN0LlxyXG4gKi9cbnZhciBkZWZpbmVDb25maWd1cmFibGUgPSAoZnVuY3Rpb24gKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGlzdCA9IE9iamVjdC5rZXlzKHByb3BzKTsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIGtleSA9IGxpc3RbaV07XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gICAgICAgICAgICB2YWx1ZTogcHJvcHNba2V5XSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG59KTtcblxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGdsb2JhbCBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHByb3ZpZGVkIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcclxuICogQHJldHVybnMge09iamVjdH1cclxuICovXG52YXIgZ2V0V2luZG93T2YgPSAoZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIC8vIEFzc3VtZSB0aGF0IHRoZSBlbGVtZW50IGlzIGFuIGluc3RhbmNlIG9mIE5vZGUsIHdoaWNoIG1lYW5zIHRoYXQgaXRcbiAgICAvLyBoYXMgdGhlIFwib3duZXJEb2N1bWVudFwiIHByb3BlcnR5IGZyb20gd2hpY2ggd2UgY2FuIHJldHJpZXZlIGFcbiAgICAvLyBjb3JyZXNwb25kaW5nIGdsb2JhbCBvYmplY3QuXG4gICAgdmFyIG93bmVyR2xvYmFsID0gdGFyZ2V0ICYmIHRhcmdldC5vd25lckRvY3VtZW50ICYmIHRhcmdldC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG4gICAgLy8gUmV0dXJuIHRoZSBsb2NhbCBnbG9iYWwgb2JqZWN0IGlmIGl0J3Mgbm90IHBvc3NpYmxlIGV4dHJhY3Qgb25lIGZyb21cbiAgICAvLyBwcm92aWRlZCBlbGVtZW50LlxuICAgIHJldHVybiBvd25lckdsb2JhbCB8fCBnbG9iYWwkMTtcbn0pO1xuXG4vLyBQbGFjZWhvbGRlciBvZiBhbiBlbXB0eSBjb250ZW50IHJlY3RhbmdsZS5cbnZhciBlbXB0eVJlY3QgPSBjcmVhdGVSZWN0SW5pdCgwLCAwLCAwLCAwKTtcblxuLyoqXHJcbiAqIENvbnZlcnRzIHByb3ZpZGVkIHN0cmluZyB0byBhIG51bWJlci5cclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cbmZ1bmN0aW9uIHRvRmxvYXQodmFsdWUpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMDtcbn1cblxuLyoqXHJcbiAqIEV4dHJhY3RzIGJvcmRlcnMgc2l6ZSBmcm9tIHByb3ZpZGVkIHN0eWxlcy5cclxuICpcclxuICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXNcclxuICogQHBhcmFtIHsuLi5zdHJpbmd9IHBvc2l0aW9ucyAtIEJvcmRlcnMgcG9zaXRpb25zICh0b3AsIHJpZ2h0LCAuLi4pXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzKSB7XG4gICAgdmFyIHBvc2l0aW9ucyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoIGxlbi0tID4gMCApIHBvc2l0aW9uc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgIHJldHVybiBwb3NpdGlvbnMucmVkdWNlKGZ1bmN0aW9uIChzaXplLCBwb3NpdGlvbikge1xuICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZXNbJ2JvcmRlci0nICsgcG9zaXRpb24gKyAnLXdpZHRoJ107XG5cbiAgICAgICAgcmV0dXJuIHNpemUgKyB0b0Zsb2F0KHZhbHVlKTtcbiAgICB9LCAwKTtcbn1cblxuLyoqXHJcbiAqIEV4dHJhY3RzIHBhZGRpbmdzIHNpemVzIGZyb20gcHJvdmlkZWQgc3R5bGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0NTU1N0eWxlRGVjbGFyYXRpb259IHN0eWxlc1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBQYWRkaW5ncyBib3guXHJcbiAqL1xuZnVuY3Rpb24gZ2V0UGFkZGluZ3Moc3R5bGVzKSB7XG4gICAgdmFyIHBvc2l0aW9ucyA9IFsndG9wJywgJ3JpZ2h0JywgJ2JvdHRvbScsICdsZWZ0J107XG4gICAgdmFyIHBhZGRpbmdzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGlzdCA9IHBvc2l0aW9uczsgaSA8IGxpc3QubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gbGlzdFtpXTtcblxuICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZXNbJ3BhZGRpbmctJyArIHBvc2l0aW9uXTtcblxuICAgICAgICBwYWRkaW5nc1twb3NpdGlvbl0gPSB0b0Zsb2F0KHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFkZGluZ3M7XG59XG5cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHByb3ZpZGVkIFNWRyBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge1NWR0dyYXBoaWNzRWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCBjb250ZW50IHJlY3RhbmdsZSBvZiB3aGljaCBuZWVkc1xyXG4gKiAgICAgIHRvIGJlIGNhbGN1bGF0ZWQuXHJcbiAqIEByZXR1cm5zIHtET01SZWN0SW5pdH1cclxuICovXG5mdW5jdGlvbiBnZXRTVkdDb250ZW50UmVjdCh0YXJnZXQpIHtcbiAgICB2YXIgYmJveCA9IHRhcmdldC5nZXRCQm94KCk7XG5cbiAgICByZXR1cm4gY3JlYXRlUmVjdEluaXQoMCwgMCwgYmJveC53aWR0aCwgYmJveC5oZWlnaHQpO1xufVxuXG4vKipcclxuICogQ2FsY3VsYXRlcyBjb250ZW50IHJlY3RhbmdsZSBvZiBwcm92aWRlZCBIVE1MRWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCBmb3Igd2hpY2ggdG8gY2FsY3VsYXRlIHRoZSBjb250ZW50IHJlY3RhbmdsZS5cclxuICogQHJldHVybnMge0RPTVJlY3RJbml0fVxyXG4gKi9cbmZ1bmN0aW9uIGdldEhUTUxFbGVtZW50Q29udGVudFJlY3QodGFyZ2V0KSB7XG4gICAgLy8gQ2xpZW50IHdpZHRoICYgaGVpZ2h0IHByb3BlcnRpZXMgY2FuJ3QgYmVcbiAgICAvLyB1c2VkIGV4Y2x1c2l2ZWx5IGFzIHRoZXkgcHJvdmlkZSByb3VuZGVkIHZhbHVlcy5cbiAgICB2YXIgY2xpZW50V2lkdGggPSB0YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgdmFyIGNsaWVudEhlaWdodCA9IHRhcmdldC5jbGllbnRIZWlnaHQ7XG5cbiAgICAvLyBCeSB0aGlzIGNvbmRpdGlvbiB3ZSBjYW4gY2F0Y2ggYWxsIG5vbi1yZXBsYWNlZCBpbmxpbmUsIGhpZGRlbiBhbmRcbiAgICAvLyBkZXRhY2hlZCBlbGVtZW50cy4gVGhvdWdoIGVsZW1lbnRzIHdpdGggd2lkdGggJiBoZWlnaHQgcHJvcGVydGllcyBsZXNzXG4gICAgLy8gdGhhbiAwLjUgd2lsbCBiZSBkaXNjYXJkZWQgYXMgd2VsbC5cbiAgICAvL1xuICAgIC8vIFdpdGhvdXQgaXQgd2Ugd291bGQgbmVlZCB0byBpbXBsZW1lbnQgc2VwYXJhdGUgbWV0aG9kcyBmb3IgZWFjaCBvZlxuICAgIC8vIHRob3NlIGNhc2VzIGFuZCBpdCdzIG5vdCBwb3NzaWJsZSB0byBwZXJmb3JtIGEgcHJlY2lzZSBhbmQgcGVyZm9ybWFuY2VcbiAgICAvLyBlZmZlY3RpdmUgdGVzdCBmb3IgaGlkZGVuIGVsZW1lbnRzLiBFLmcuIGV2ZW4galF1ZXJ5J3MgJzp2aXNpYmxlJyBmaWx0ZXJcbiAgICAvLyBnaXZlcyB3cm9uZyByZXN1bHRzIGZvciBlbGVtZW50cyB3aXRoIHdpZHRoICYgaGVpZ2h0IGxlc3MgdGhhbiAwLjUuXG4gICAgaWYgKCFjbGllbnRXaWR0aCAmJiAhY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBlbXB0eVJlY3Q7XG4gICAgfVxuXG4gICAgdmFyIHN0eWxlcyA9IGdldFdpbmRvd09mKHRhcmdldCkuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuICAgIHZhciBwYWRkaW5ncyA9IGdldFBhZGRpbmdzKHN0eWxlcyk7XG4gICAgdmFyIGhvcml6UGFkID0gcGFkZGluZ3MubGVmdCArIHBhZGRpbmdzLnJpZ2h0O1xuICAgIHZhciB2ZXJ0UGFkID0gcGFkZGluZ3MudG9wICsgcGFkZGluZ3MuYm90dG9tO1xuXG4gICAgLy8gQ29tcHV0ZWQgc3R5bGVzIG9mIHdpZHRoICYgaGVpZ2h0IGFyZSBiZWluZyB1c2VkIGJlY2F1c2UgdGhleSBhcmUgdGhlXG4gICAgLy8gb25seSBkaW1lbnNpb25zIGF2YWlsYWJsZSB0byBKUyB0aGF0IGNvbnRhaW4gbm9uLXJvdW5kZWQgdmFsdWVzLiBJdCBjb3VsZFxuICAgIC8vIGJlIHBvc3NpYmxlIHRvIHV0aWxpemUgdGhlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpZiBvbmx5IGl0J3MgZGF0YSB3YXNuJ3RcbiAgICAvLyBhZmZlY3RlZCBieSBDU1MgdHJhbnNmb3JtYXRpb25zIGxldCBhbG9uZSBwYWRkaW5ncywgYm9yZGVycyBhbmQgc2Nyb2xsIGJhcnMuXG4gICAgdmFyIHdpZHRoID0gdG9GbG9hdChzdHlsZXMud2lkdGgpLFxuICAgICAgICBoZWlnaHQgPSB0b0Zsb2F0KHN0eWxlcy5oZWlnaHQpO1xuXG4gICAgLy8gV2lkdGggJiBoZWlnaHQgaW5jbHVkZSBwYWRkaW5ncyBhbmQgYm9yZGVycyB3aGVuIHRoZSAnYm9yZGVyLWJveCcgYm94XG4gICAgLy8gbW9kZWwgaXMgYXBwbGllZCAoZXhjZXB0IGZvciBJRSkuXG4gICAgaWYgKHN0eWxlcy5ib3hTaXppbmcgPT09ICdib3JkZXItYm94Jykge1xuICAgICAgICAvLyBGb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgcmVxdWlyZWQgdG8gaGFuZGxlIEludGVybmV0IEV4cGxvcmVyIHdoaWNoXG4gICAgICAgIC8vIGRvZXNuJ3QgaW5jbHVkZSBwYWRkaW5ncyBhbmQgYm9yZGVycyB0byBjb21wdXRlZCBDU1MgZGltZW5zaW9ucy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2UgY2FuIHNheSB0aGF0IGlmIENTUyBkaW1lbnNpb25zICsgcGFkZGluZ3MgYXJlIGVxdWFsIHRvIHRoZSBcImNsaWVudFwiXG4gICAgICAgIC8vIHByb3BlcnRpZXMgdGhlbiBpdCdzIGVpdGhlciBJRSwgYW5kIHRodXMgd2UgZG9uJ3QgbmVlZCB0byBzdWJ0cmFjdFxuICAgICAgICAvLyBhbnl0aGluZywgb3IgYW4gZWxlbWVudCBtZXJlbHkgZG9lc24ndCBoYXZlIHBhZGRpbmdzL2JvcmRlcnMgc3R5bGVzLlxuICAgICAgICBpZiAoTWF0aC5yb3VuZCh3aWR0aCArIGhvcml6UGFkKSAhPT0gY2xpZW50V2lkdGgpIHtcbiAgICAgICAgICAgIHdpZHRoIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ2xlZnQnLCAncmlnaHQnKSArIGhvcml6UGFkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE1hdGgucm91bmQoaGVpZ2h0ICsgdmVydFBhZCkgIT09IGNsaWVudEhlaWdodCkge1xuICAgICAgICAgICAgaGVpZ2h0IC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3RvcCcsICdib3R0b20nKSArIHZlcnRQYWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGb2xsb3dpbmcgc3RlcHMgY2FuJ3QgYmUgYXBwbGllZCB0byB0aGUgZG9jdW1lbnQncyByb290IGVsZW1lbnQgYXMgaXRzXG4gICAgLy8gY2xpZW50W1dpZHRoL0hlaWdodF0gcHJvcGVydGllcyByZXByZXNlbnQgdmlld3BvcnQgYXJlYSBvZiB0aGUgd2luZG93LlxuICAgIC8vIEJlc2lkZXMsIGl0J3MgYXMgd2VsbCBub3QgbmVjZXNzYXJ5IGFzIHRoZSA8aHRtbD4gaXRzZWxmIG5laXRoZXIgaGFzXG4gICAgLy8gcmVuZGVyZWQgc2Nyb2xsIGJhcnMgbm9yIGl0IGNhbiBiZSBjbGlwcGVkLlxuICAgIGlmICghaXNEb2N1bWVudEVsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICAvLyBJbiBzb21lIGJyb3dzZXJzIChvbmx5IGluIEZpcmVmb3gsIGFjdHVhbGx5KSBDU1Mgd2lkdGggJiBoZWlnaHRcbiAgICAgICAgLy8gaW5jbHVkZSBzY3JvbGwgYmFycyBzaXplIHdoaWNoIGNhbiBiZSByZW1vdmVkIGF0IHRoaXMgc3RlcCBhcyBzY3JvbGxcbiAgICAgICAgLy8gYmFycyBhcmUgdGhlIG9ubHkgZGlmZmVyZW5jZSBiZXR3ZWVuIHJvdW5kZWQgZGltZW5zaW9ucyArIHBhZGRpbmdzXG4gICAgICAgIC8vIGFuZCBcImNsaWVudFwiIHByb3BlcnRpZXMsIHRob3VnaCB0aGF0IGlzIG5vdCBhbHdheXMgdHJ1ZSBpbiBDaHJvbWUuXG4gICAgICAgIHZhciB2ZXJ0U2Nyb2xsYmFyID0gTWF0aC5yb3VuZCh3aWR0aCArIGhvcml6UGFkKSAtIGNsaWVudFdpZHRoO1xuICAgICAgICB2YXIgaG9yaXpTY3JvbGxiYXIgPSBNYXRoLnJvdW5kKGhlaWdodCArIHZlcnRQYWQpIC0gY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIC8vIENocm9tZSBoYXMgYSByYXRoZXIgd2VpcmQgcm91bmRpbmcgb2YgXCJjbGllbnRcIiBwcm9wZXJ0aWVzLlxuICAgICAgICAvLyBFLmcuIGZvciBhbiBlbGVtZW50IHdpdGggY29udGVudCB3aWR0aCBvZiAzMTQuMnB4IGl0IHNvbWV0aW1lcyBnaXZlc1xuICAgICAgICAvLyB0aGUgY2xpZW50IHdpZHRoIG9mIDMxNXB4IGFuZCBmb3IgdGhlIHdpZHRoIG9mIDMxNC43cHggaXQgbWF5IGdpdmVcbiAgICAgICAgLy8gMzE0cHguIEFuZCBpdCBkb2Vzbid0IGhhcHBlbiBhbGwgdGhlIHRpbWUuIFNvIGp1c3QgaWdub3JlIHRoaXMgZGVsdGFcbiAgICAgICAgLy8gYXMgYSBub24tcmVsZXZhbnQuXG4gICAgICAgIGlmIChNYXRoLmFicyh2ZXJ0U2Nyb2xsYmFyKSAhPT0gMSkge1xuICAgICAgICAgICAgd2lkdGggLT0gdmVydFNjcm9sbGJhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChNYXRoLmFicyhob3JpelNjcm9sbGJhcikgIT09IDEpIHtcbiAgICAgICAgICAgIGhlaWdodCAtPSBob3JpelNjcm9sbGJhcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVSZWN0SW5pdChwYWRkaW5ncy5sZWZ0LCBwYWRkaW5ncy50b3AsIHdpZHRoLCBoZWlnaHQpO1xufVxuXG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgcHJvdmlkZWQgZWxlbWVudCBpcyBhbiBpbnN0YW5jZSBvZiB0aGUgU1ZHR3JhcGhpY3NFbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdG8gYmUgY2hlY2tlZC5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xudmFyIGlzU1ZHR3JhcGhpY3NFbGVtZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBTb21lIGJyb3dzZXJzLCBuYW1lbHkgSUUgYW5kIEVkZ2UsIGRvbid0IGhhdmUgdGhlIFNWR0dyYXBoaWNzRWxlbWVudFxuICAgIC8vIGludGVyZmFjZS5cbiAgICBpZiAodHlwZW9mIFNWR0dyYXBoaWNzRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuU1ZHR3JhcGhpY3NFbGVtZW50OyB9O1xuICAgIH1cblxuICAgIC8vIElmIGl0J3Mgc28sIHRoZW4gY2hlY2sgdGhhdCBlbGVtZW50IGlzIGF0IGxlYXN0IGFuIGluc3RhbmNlIG9mIHRoZVxuICAgIC8vIFNWR0VsZW1lbnQgYW5kIHRoYXQgaXQgaGFzIHRoZSBcImdldEJCb3hcIiBtZXRob2QuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWV4dHJhLXBhcmVuc1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7IHJldHVybiB0YXJnZXQgaW5zdGFuY2VvZiBnZXRXaW5kb3dPZih0YXJnZXQpLlNWR0VsZW1lbnQgJiYgdHlwZW9mIHRhcmdldC5nZXRCQm94ID09PSAnZnVuY3Rpb24nOyB9O1xufSkoKTtcblxuLyoqXHJcbiAqIENoZWNrcyB3aGV0aGVyIHByb3ZpZGVkIGVsZW1lbnQgaXMgYSBkb2N1bWVudCBlbGVtZW50ICg8aHRtbD4pLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdG8gYmUgY2hlY2tlZC5cclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xuZnVuY3Rpb24gaXNEb2N1bWVudEVsZW1lbnQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRhcmdldCA9PT0gZ2V0V2luZG93T2YodGFyZ2V0KS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG59XG5cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGFuIGFwcHJvcHJpYXRlIGNvbnRlbnQgcmVjdGFuZ2xlIGZvciBwcm92aWRlZCBodG1sIG9yIHN2ZyBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgY29udGVudCByZWN0YW5nbGUgb2Ygd2hpY2ggbmVlZHMgdG8gYmUgY2FsY3VsYXRlZC5cclxuICogQHJldHVybnMge0RPTVJlY3RJbml0fVxyXG4gKi9cbmZ1bmN0aW9uIGdldENvbnRlbnRSZWN0KHRhcmdldCkge1xuICAgIGlmICghaXNCcm93c2VyKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVJlY3Q7XG4gICAgfVxuXG4gICAgaWYgKGlzU1ZHR3JhcGhpY3NFbGVtZW50KHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIGdldFNWR0NvbnRlbnRSZWN0KHRhcmdldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldEhUTUxFbGVtZW50Q29udGVudFJlY3QodGFyZ2V0KTtcbn1cblxuLyoqXHJcbiAqIENyZWF0ZXMgcmVjdGFuZ2xlIHdpdGggYW4gaW50ZXJmYWNlIG9mIHRoZSBET01SZWN0UmVhZE9ubHkuXHJcbiAqIFNwZWM6IGh0dHBzOi8vZHJhZnRzLmZ4dGYub3JnL2dlb21ldHJ5LyNkb21yZWN0cmVhZG9ubHlcclxuICpcclxuICogQHBhcmFtIHtET01SZWN0SW5pdH0gcmVjdEluaXQgLSBPYmplY3Qgd2l0aCByZWN0YW5nbGUncyB4L3kgY29vcmRpbmF0ZXMgYW5kIGRpbWVuc2lvbnMuXHJcbiAqIEByZXR1cm5zIHtET01SZWN0UmVhZE9ubHl9XHJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmVhZE9ubHlSZWN0KHJlZikge1xuICAgIHZhciB4ID0gcmVmLng7XG4gICAgdmFyIHkgPSByZWYueTtcbiAgICB2YXIgd2lkdGggPSByZWYud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IHJlZi5oZWlnaHQ7XG5cbiAgICAvLyBJZiBET01SZWN0UmVhZE9ubHkgaXMgYXZhaWxhYmxlIHVzZSBpdCBhcyBhIHByb3RvdHlwZSBmb3IgdGhlIHJlY3RhbmdsZS5cbiAgICB2YXIgQ29uc3RyID0gdHlwZW9mIERPTVJlY3RSZWFkT25seSAhPT0gJ3VuZGVmaW5lZCcgPyBET01SZWN0UmVhZE9ubHkgOiBPYmplY3Q7XG4gICAgdmFyIHJlY3QgPSBPYmplY3QuY3JlYXRlKENvbnN0ci5wcm90b3R5cGUpO1xuXG4gICAgLy8gUmVjdGFuZ2xlJ3MgcHJvcGVydGllcyBhcmUgbm90IHdyaXRhYmxlIGFuZCBub24tZW51bWVyYWJsZS5cbiAgICBkZWZpbmVDb25maWd1cmFibGUocmVjdCwge1xuICAgICAgICB4OiB4LCB5OiB5LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB0b3A6IHksXG4gICAgICAgIHJpZ2h0OiB4ICsgd2lkdGgsXG4gICAgICAgIGJvdHRvbTogaGVpZ2h0ICsgeSxcbiAgICAgICAgbGVmdDogeFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlY3Q7XG59XG5cbi8qKlxyXG4gKiBDcmVhdGVzIERPTVJlY3RJbml0IG9iamVjdCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgZGltZW5zaW9ucyBhbmQgdGhlIHgveSBjb29yZGluYXRlcy5cclxuICogU3BlYzogaHR0cHM6Ly9kcmFmdHMuZnh0Zi5vcmcvZ2VvbWV0cnkvI2RpY3RkZWYtZG9tcmVjdGluaXRcclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBYIGNvb3JkaW5hdGUuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gWSBjb29yZGluYXRlLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBSZWN0YW5nbGUncyB3aWR0aC5cclxuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFJlY3RhbmdsZSdzIGhlaWdodC5cclxuICogQHJldHVybnMge0RPTVJlY3RJbml0fVxyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlY3RJbml0KHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcbiAgICByZXR1cm4geyB4OiB4LCB5OiB5LCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG59XG5cbi8qKlxyXG4gKiBDbGFzcyB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciBjb21wdXRhdGlvbnMgb2YgdGhlIGNvbnRlbnQgcmVjdGFuZ2xlIG9mXHJcbiAqIHByb3ZpZGVkIERPTSBlbGVtZW50IGFuZCBmb3Iga2VlcGluZyB0cmFjayBvZiBpdCdzIGNoYW5nZXMuXHJcbiAqL1xudmFyIFJlc2l6ZU9ic2VydmF0aW9uID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgdGhpcy5icm9hZGNhc3RXaWR0aCA9IDA7XG4gICAgdGhpcy5icm9hZGNhc3RIZWlnaHQgPSAwO1xuICAgIHRoaXMuY29udGVudFJlY3RfID0gY3JlYXRlUmVjdEluaXQoMCwgMCwgMCwgMCk7XG5cbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbn07XG5cbi8qKlxyXG4gKiBVcGRhdGVzIGNvbnRlbnQgcmVjdGFuZ2xlIGFuZCB0ZWxscyB3aGV0aGVyIGl0J3Mgd2lkdGggb3IgaGVpZ2h0IHByb3BlcnRpZXNcclxuICogaGF2ZSBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0IGJyb2FkY2FzdC5cclxuICpcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xuXG5cbi8qKlxyXG4gKiBSZWZlcmVuY2UgdG8gdGhlIGxhc3Qgb2JzZXJ2ZWQgY29udGVudCByZWN0YW5nbGUuXHJcbiAqXHJcbiAqIEBwcml2YXRlIHtET01SZWN0SW5pdH1cclxuICovXG5cblxuLyoqXHJcbiAqIEJyb2FkY2FzdGVkIHdpZHRoIG9mIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gKlxyXG4gKiBAdHlwZSB7bnVtYmVyfVxyXG4gKi9cblJlc2l6ZU9ic2VydmF0aW9uLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVjdCA9IGdldENvbnRlbnRSZWN0KHRoaXMudGFyZ2V0KTtcblxuICAgIHRoaXMuY29udGVudFJlY3RfID0gcmVjdDtcblxuICAgIHJldHVybiByZWN0LndpZHRoICE9PSB0aGlzLmJyb2FkY2FzdFdpZHRoIHx8IHJlY3QuaGVpZ2h0ICE9PSB0aGlzLmJyb2FkY2FzdEhlaWdodDtcbn07XG5cbi8qKlxyXG4gKiBVcGRhdGVzICdicm9hZGNhc3RXaWR0aCcgYW5kICdicm9hZGNhc3RIZWlnaHQnIHByb3BlcnRpZXMgd2l0aCBhIGRhdGFcclxuICogZnJvbSB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0aWVzIG9mIHRoZSBsYXN0IG9ic2VydmVkIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9IExhc3Qgb2JzZXJ2ZWQgY29udGVudCByZWN0YW5nbGUuXHJcbiAqL1xuUmVzaXplT2JzZXJ2YXRpb24ucHJvdG90eXBlLmJyb2FkY2FzdFJlY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlY3QgPSB0aGlzLmNvbnRlbnRSZWN0XztcblxuICAgIHRoaXMuYnJvYWRjYXN0V2lkdGggPSByZWN0LndpZHRoO1xuICAgIHRoaXMuYnJvYWRjYXN0SGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG5cbiAgICByZXR1cm4gcmVjdDtcbn07XG5cbnZhciBSZXNpemVPYnNlcnZlckVudHJ5ID0gZnVuY3Rpb24odGFyZ2V0LCByZWN0SW5pdCkge1xuICAgIHZhciBjb250ZW50UmVjdCA9IGNyZWF0ZVJlYWRPbmx5UmVjdChyZWN0SW5pdCk7XG5cbiAgICAvLyBBY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmljYXRpb24gZm9sbG93aW5nIHByb3BlcnRpZXMgYXJlIG5vdCB3cml0YWJsZVxuICAgIC8vIGFuZCBhcmUgYWxzbyBub3QgZW51bWVyYWJsZSBpbiB0aGUgbmF0aXZlIGltcGxlbWVudGF0aW9uLlxuICAgIC8vXG4gICAgLy8gUHJvcGVydHkgYWNjZXNzb3JzIGFyZSBub3QgYmVpbmcgdXNlZCBhcyB0aGV5J2QgcmVxdWlyZSB0byBkZWZpbmUgYVxuICAgIC8vIHByaXZhdGUgV2Vha01hcCBzdG9yYWdlIHdoaWNoIG1heSBjYXVzZSBtZW1vcnkgbGVha3MgaW4gYnJvd3NlcnMgdGhhdFxuICAgIC8vIGRvbid0IHN1cHBvcnQgdGhpcyB0eXBlIG9mIGNvbGxlY3Rpb25zLlxuICAgIGRlZmluZUNvbmZpZ3VyYWJsZSh0aGlzLCB7IHRhcmdldDogdGFyZ2V0LCBjb250ZW50UmVjdDogY29udGVudFJlY3QgfSk7XG59O1xuXG52YXIgUmVzaXplT2JzZXJ2ZXJTUEkgPSBmdW5jdGlvbihjYWxsYmFjaywgY29udHJvbGxlciwgY2FsbGJhY2tDdHgpIHtcbiAgICB0aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18gPSBbXTtcbiAgICB0aGlzLm9ic2VydmF0aW9uc18gPSBuZXcgTWFwU2hpbSgpO1xuXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2FsbGJhY2sgcHJvdmlkZWQgYXMgcGFyYW1ldGVyIDEgaXMgbm90IGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWxsYmFja18gPSBjYWxsYmFjaztcbiAgICB0aGlzLmNvbnRyb2xsZXJfID0gY29udHJvbGxlcjtcbiAgICB0aGlzLmNhbGxiYWNrQ3R4XyA9IGNhbGxiYWNrQ3R4O1xufTtcblxuLyoqXHJcbiAqIFN0YXJ0cyBvYnNlcnZpbmcgcHJvdmlkZWQgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IHRvIGJlIG9ic2VydmVkLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5cblxuLyoqXHJcbiAqIFJlZ2lzdHJ5IG9mIHRoZSBSZXNpemVPYnNlcnZhdGlvbiBpbnN0YW5jZXMuXHJcbiAqXHJcbiAqIEBwcml2YXRlIHtNYXA8RWxlbWVudCwgUmVzaXplT2JzZXJ2YXRpb24+fVxyXG4gKi9cblxuXG4vKipcclxuICogUHVibGljIFJlc2l6ZU9ic2VydmVyIGluc3RhbmNlIHdoaWNoIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBjYWxsYmFja1xyXG4gKiBmdW5jdGlvbiBhbmQgdXNlZCBhcyBhIHZhbHVlIG9mIGl0J3MgXCJ0aGlzXCIgYmluZGluZy5cclxuICpcclxuICogQHByaXZhdGUge1Jlc2l6ZU9ic2VydmVyfVxyXG4gKi9cblxuLyoqXHJcbiAqIENvbGxlY3Rpb24gb2YgcmVzaXplIG9ic2VydmF0aW9ucyB0aGF0IGhhdmUgZGV0ZWN0ZWQgY2hhbmdlcyBpbiBkaW1lbnNpb25zXHJcbiAqIG9mIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZSB7QXJyYXk8UmVzaXplT2JzZXJ2YXRpb24+fVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCcxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuJyk7XG4gICAgfVxuXG4gICAgLy8gRG8gbm90aGluZyBpZiBjdXJyZW50IGVudmlyb25tZW50IGRvZXNuJ3QgaGF2ZSB0aGUgRWxlbWVudCBpbnRlcmZhY2UuXG4gICAgaWYgKHR5cGVvZiBFbGVtZW50ID09PSAndW5kZWZpbmVkJyB8fCAhKEVsZW1lbnQgaW5zdGFuY2VvZiBPYmplY3QpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBnZXRXaW5kb3dPZih0YXJnZXQpLkVsZW1lbnQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhcmFtZXRlciAxIGlzIG5vdCBvZiB0eXBlIFwiRWxlbWVudFwiLicpO1xuICAgIH1cblxuICAgIHZhciBvYnNlcnZhdGlvbnMgPSB0aGlzLm9ic2VydmF0aW9uc187XG5cbiAgICAvLyBEbyBub3RoaW5nIGlmIGVsZW1lbnQgaXMgYWxyZWFkeSBiZWluZyBvYnNlcnZlZC5cbiAgICBpZiAob2JzZXJ2YXRpb25zLmhhcyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvYnNlcnZhdGlvbnMuc2V0KHRhcmdldCwgbmV3IFJlc2l6ZU9ic2VydmF0aW9uKHRhcmdldCkpO1xuXG4gICAgdGhpcy5jb250cm9sbGVyXy5hZGRPYnNlcnZlcih0aGlzKTtcblxuICAgIC8vIEZvcmNlIHRoZSB1cGRhdGUgb2Ygb2JzZXJ2YXRpb25zLlxuICAgIHRoaXMuY29udHJvbGxlcl8ucmVmcmVzaCgpO1xufTtcblxuLyoqXHJcbiAqIFN0b3BzIG9ic2VydmluZyBwcm92aWRlZCBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdG8gc3RvcCBvYnNlcnZpbmcuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS51bm9ic2VydmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJzEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC4nKTtcbiAgICB9XG5cbiAgICAvLyBEbyBub3RoaW5nIGlmIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lc24ndCBoYXZlIHRoZSBFbGVtZW50IGludGVyZmFjZS5cbiAgICBpZiAodHlwZW9mIEVsZW1lbnQgPT09ICd1bmRlZmluZWQnIHx8ICEoRWxlbWVudCBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuRWxlbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgXCJFbGVtZW50XCIuJyk7XG4gICAgfVxuXG4gICAgdmFyIG9ic2VydmF0aW9ucyA9IHRoaXMub2JzZXJ2YXRpb25zXztcblxuICAgIC8vIERvIG5vdGhpbmcgaWYgZWxlbWVudCBpcyBub3QgYmVpbmcgb2JzZXJ2ZWQuXG4gICAgaWYgKCFvYnNlcnZhdGlvbnMuaGFzKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9ic2VydmF0aW9ucy5kZWxldGUodGFyZ2V0KTtcblxuICAgIGlmICghb2JzZXJ2YXRpb25zLnNpemUpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyXy5yZW1vdmVPYnNlcnZlcih0aGlzKTtcbiAgICB9XG59O1xuXG4vKipcclxuICogU3RvcHMgb2JzZXJ2aW5nIGFsbCBlbGVtZW50cy5cclxuICpcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jbGVhckFjdGl2ZSgpO1xuICAgIHRoaXMub2JzZXJ2YXRpb25zXy5jbGVhcigpO1xuICAgIHRoaXMuY29udHJvbGxlcl8ucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XG59O1xuXG4vKipcclxuICogQ29sbGVjdHMgb2JzZXJ2YXRpb24gaW5zdGFuY2VzIHRoZSBhc3NvY2lhdGVkIGVsZW1lbnQgb2Ygd2hpY2ggaGFzIGNoYW5nZWRcclxuICogaXQncyBjb250ZW50IHJlY3RhbmdsZS5cclxuICpcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLmdhdGhlckFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB0aGlzLmNsZWFyQWN0aXZlKCk7XG5cbiAgICB0aGlzLm9ic2VydmF0aW9uc18uZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2YXRpb24pIHtcbiAgICAgICAgaWYgKG9ic2VydmF0aW9uLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgIHRoaXMkMS5hY3RpdmVPYnNlcnZhdGlvbnNfLnB1c2gob2JzZXJ2YXRpb24pO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG4vKipcclxuICogSW52b2tlcyBpbml0aWFsIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggYSBsaXN0IG9mIFJlc2l6ZU9ic2VydmVyRW50cnlcclxuICogaW5zdGFuY2VzIGNvbGxlY3RlZCBmcm9tIGFjdGl2ZSByZXNpemUgb2JzZXJ2YXRpb25zLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuYnJvYWRjYXN0QWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIERvIG5vdGhpbmcgaWYgb2JzZXJ2ZXIgZG9lc24ndCBoYXZlIGFjdGl2ZSBvYnNlcnZhdGlvbnMuXG4gICAgaWYgKCF0aGlzLmhhc0FjdGl2ZSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY3R4ID0gdGhpcy5jYWxsYmFja0N0eF87XG5cbiAgICAvLyBDcmVhdGUgUmVzaXplT2JzZXJ2ZXJFbnRyeSBpbnN0YW5jZSBmb3IgZXZlcnkgYWN0aXZlIG9ic2VydmF0aW9uLlxuICAgIHZhciBlbnRyaWVzID0gdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfLm1hcChmdW5jdGlvbiAob2JzZXJ2YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNpemVPYnNlcnZlckVudHJ5KG9ic2VydmF0aW9uLnRhcmdldCwgb2JzZXJ2YXRpb24uYnJvYWRjYXN0UmVjdCgpKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY2FsbGJhY2tfLmNhbGwoY3R4LCBlbnRyaWVzLCBjdHgpO1xuICAgIHRoaXMuY2xlYXJBY3RpdmUoKTtcbn07XG5cbi8qKlxyXG4gKiBDbGVhcnMgdGhlIGNvbGxlY3Rpb24gb2YgYWN0aXZlIG9ic2VydmF0aW9ucy5cclxuICpcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLmNsZWFyQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXy5zcGxpY2UoMCk7XG59O1xuXG4vKipcclxuICogVGVsbHMgd2hldGhlciBvYnNlcnZlciBoYXMgYWN0aXZlIG9ic2VydmF0aW9ucy5cclxuICpcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLmhhc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfLmxlbmd0aCA+IDA7XG59O1xuXG4vLyBSZWdpc3RyeSBvZiBpbnRlcm5hbCBvYnNlcnZlcnMuIElmIFdlYWtNYXAgaXMgbm90IGF2YWlsYWJsZSB1c2UgY3VycmVudCBzaGltXG4vLyBmb3IgdGhlIE1hcCBjb2xsZWN0aW9uIGFzIGl0IGhhcyBhbGwgcmVxdWlyZWQgbWV0aG9kcyBhbmQgYmVjYXVzZSBXZWFrTWFwXG4vLyBjYW4ndCBiZSBmdWxseSBwb2x5ZmlsbGVkIGFueXdheS5cbnZhciBvYnNlcnZlcnMgPSB0eXBlb2YgV2Vha01hcCAhPT0gJ3VuZGVmaW5lZCcgPyBuZXcgV2Vha01hcCgpIDogbmV3IE1hcFNoaW0oKTtcblxuLyoqXHJcbiAqIFJlc2l6ZU9ic2VydmVyIEFQSS4gRW5jYXBzdWxhdGVzIHRoZSBSZXNpemVPYnNlcnZlciBTUEkgaW1wbGVtZW50YXRpb25cclxuICogZXhwb3Npbmcgb25seSB0aG9zZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIHRoYXQgYXJlIGRlZmluZWQgaW4gdGhlIHNwZWMuXHJcbiAqL1xudmFyIFJlc2l6ZU9ic2VydmVyID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVzaXplT2JzZXJ2ZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJzEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC4nKTtcbiAgICB9XG5cbiAgICB2YXIgY29udHJvbGxlciA9IFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5nZXRJbnN0YW5jZSgpO1xuICAgIHZhciBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlclNQSShjYWxsYmFjaywgY29udHJvbGxlciwgdGhpcyk7XG5cbiAgICBvYnNlcnZlcnMuc2V0KHRoaXMsIG9ic2VydmVyKTtcbn07XG5cbi8vIEV4cG9zZSBwdWJsaWMgbWV0aG9kcyBvZiBSZXNpemVPYnNlcnZlci5cblsnb2JzZXJ2ZScsICd1bm9ic2VydmUnLCAnZGlzY29ubmVjdCddLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHJlZiA9IG9ic2VydmVycy5nZXQodGhpcykpW21ldGhvZF0uYXBwbHkocmVmLCBhcmd1bWVudHMpO1xuICAgICAgICB2YXIgcmVmO1xuICAgIH07XG59KTtcblxudmFyIGluZGV4ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBFeHBvcnQgZXhpc3RpbmcgaW1wbGVtZW50YXRpb24gaWYgYXZhaWxhYmxlLlxuICAgIGlmICh0eXBlb2YgZ2xvYmFsJDEuUmVzaXplT2JzZXJ2ZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWwkMS5SZXNpemVPYnNlcnZlcjtcbiAgICB9XG5cbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXI7XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBpbmRleDtcbiIsIi8vIEhhY2sgdG8gZ2V0IGh0bWwgc3ludGF4IGhpZ2hsaWdodGluZyB3aXRoaW4gdGVtcGxhdGUgbGl0ZXJhbHNcbmV4cG9ydCBkZWZhdWx0IFN0cmluZy5yYXc7XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG50bXBsLmlubmVySFRNTCA9IGh0bWxgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tb3otYm94O1xuICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBmbGV4OiAxO1xuICAgICAgbWF4LWhlaWdodDogMTAwJTtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWFjY2VudC1jb2xvciwgI2VkMWE1OSk7XG4gICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvciwgIzIxMjEyMSk7XG4gICAgICBmb250LXNpemU6IDIuNzVlbTtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDAgMCAxNXB4IDE1cHg7XG4gICAgICB0cmFuc2l0aW9uOiBtYXgtaGVpZ2h0IDFzIGVhc2UsIGZvbnQtc2l6ZSAuN3MgZWFzZS1pbi1vdXQgLjNzO1xuICAgIH1cbiAgPC9zdHlsZT5cbiAgPHNsb3Q+PC9zbG90PlxuYDtcblxuY2xhc3MgTW1Ub29sYmFyIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgU2hhZHlDU1MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCAnbW0tdG9vbGJhcicpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5zdHlsZUVsZW1lbnQodGhpcyk7XG4gICAgfVxuICAgIC8vIEF0dGFjaCBhIHNoYWRvdyByb290IHRvIHRoZSBlbGVtZW50LlxuICAgIGxldCBzaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0bXBsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcbiAgfVxufVxud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbW0tdG9vbGJhcicsIE1tVG9vbGJhcik7XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG50bXBsLmlubmVySFRNTCA9IGh0bWxgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tb3otYm94O1xuICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGZsZXg6IDE7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuXG4gICAgLnBsYXkge1xuICAgICAgY29sb3I6IHZhcigtLWFjY2VudC1jb2xvciwgI2VkMWE1OSk7XG4gICAgICBmb250LXNpemU6IDIuNWVtO1xuICAgICAgcGFkZGluZzogMWVtO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgYm9yZGVyOiAxcHggdmFyKC0tYWNjZW50LWNvbG9yLCAjZWQxYTU5KSBzb2xpZDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgLjVzIGVhc2U7XG4gICAgfVxuXG4gICAgLmhpZGUgeyBcbiAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxuXG4gICAgLnBsYXk6aG92ZXIge1xuICAgICAgY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IsICMyMTIxMjEpO1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yLCAjZWQxYTU5KTtcbiAgICB9XG5cbiAgPC9zdHlsZT5cbiAgPHNwYW4gaWQ9XCJwbGF5QnV0dG9uXCIgY2xhc3M9XCJwbGF5XCI+UGxheTwvc3Bhbj5cbmA7XG5cbmNsYXNzIE1tUGxheSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAodHlwZW9mIFNoYWR5Q1NTICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodG1wbCwgJ21tLXBsYXknKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggYSBzaGFkb3cgcm9vdCB0byB0aGUgZWxlbWVudC5cbiAgICBsZXQgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgICB0aGlzLnBsYXkgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJyNwbGF5QnV0dG9uJyk7XG4gIH1cblxuICBzZXRQbGF5TGlzdGVuZXIoYykge1xuICAgIHRoaXMucGxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGMpO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICB0aGlzLnBsYXkuY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1wbGF5JywgTW1QbGF5KTtcbiIsImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5tanMnO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbnRtcGwuaW5uZXJIVE1MID0gaHRtbGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIGJhY2tncm91bmQ6ICMzNDM0MzQ7XG4gICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICB0cmFuc2Zvcm06IGJhY2tncm91bmQ7XG4gICAgfVxuICA8L3N0eWxlPlxuYDtcblxuY2xhc3MgTW1DaXJjbGUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1jaXJjbGUnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggYSBzaGFkb3cgcm9vdCB0byB0aGUgZWxlbWVudC5cbiAgICBsZXQgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gIH1cblxuICBzaXplKHdpZHRoLCBoZWlnaHQsIHNwYWNpbmcpIHtcbiAgICBjb25zdCBzaXplID0gYCR7d2lkdGggPiBoZWlnaHQgPyBoZWlnaHQgLSBzcGFjaW5nIDogd2lkdGggLSBzcGFjaW5nfXB4YDtcbiAgICB0aGlzLnN0eWxlLndpZHRoID0gc2l6ZTtcbiAgICB0aGlzLnN0eWxlLmhlaWdodCA9IHNpemU7XG4gIH1cblxuICBjb2xvcihjb2xvcikge1xuICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZCA9IGNvbG9yO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1jaXJjbGUnLCBNbUNpcmNsZSk7XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcbmltcG9ydCAnLi9tbS1jaXJjbGUubWpzJztcbmltcG9ydCBSZXNpemVPYnNlcnZlciBmcm9tICcuLy4uL25vZGVfbW9kdWxlcy9yZXNpemUtb2JzZXJ2ZXItcG9seWZpbGwvZGlzdC9SZXNpemVPYnNlcnZlci5lcy5qcyc7XG5cbmNvbnN0IHRtcGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xudG1wbC5pbm5lckhUTUwgPSBodG1sYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgICBkaXNwbGF5OiAtbW96LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICB9XG5cbiAgICAuY29udGFpbmVyIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBmbGV4OiAxO1xuICAgICAgbWFyZ2luOiAycHg7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgMXMgZWFzZS1pbi1vdXQ7XG4gICAgfVxuXG4gICAgLmtleXMge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgfVxuXG4gICAgLmtleXMtcm93IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4gICAgLmtleSB7XG4gICAgICBtYXJnaW46IDJweDtcbiAgICB9XG5cbiAgPC9zdHlsZT5cbiAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgIDxtbS1jaXJjbGU+PC9tbS1jaXJjbGU+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgPG1tLWNpcmNsZT48L21tLWNpcmNsZT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICA8bW0tY2lyY2xlPjwvbW0tY2lyY2xlPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgIDxtbS1jaXJjbGU+PC9tbS1jaXJjbGU+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIGtleXNcIj5cbiAgICA8ZGl2IGNsYXNzPVwia2V5cy1yb3dcIj5cbiAgICAgIDxtbS1jaXJjbGUgY2xhc3M9XCJrZXlcIj48L21tLWNpcmNsZT5cbiAgICAgIDxtbS1jaXJjbGUgY2xhc3M9XCJrZXlcIj48L21tLWNpcmNsZT5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwia2V5cy1yb3dcIj5cbiAgICAgIDxtbS1jaXJjbGUgY2xhc3M9XCJrZXlcIj48L21tLWNpcmNsZT5cbiAgICAgIDxtbS1jaXJjbGUgY2xhc3M9XCJrZXlcIj48L21tLWNpcmNsZT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5gO1xuXG5jbGFzcyBNbUJvYXJkUm93IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgU2hhZHlDU1MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCAnbW0tYm9hcmQtcm93Jyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgY29uc3QgY29udGFpbmVycyA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnLmNvbnRhaW5lcicpO1xuICAgIHRoaXMuY2lyY2xlcyA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnbW0tY2lyY2xlOm5vdCgua2V5KScpO1xuICAgIHRoaXMua2V5cyA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnbW0tY2lyY2xlLmtleScpO1xuXG4gICAgY29uc3Qgcm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZW50cmllcyA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBlbnRyeS5jb250ZW50UmVjdDtcbiAgICAgICAgY29uc3QgY2lyY2xlcyA9IGVudHJ5LnRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKCdtbS1jaXJjbGUnKTtcbiAgICAgICAgY2lyY2xlcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgIGxldCBrZXkgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoYy5jbGFzc0xpc3QuY29udGFpbnMoJ2tleScpKSB7XG4gICAgICAgICAgICBrZXkgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjLnNpemUoa2V5ID8gd2lkdGggLyAyIDogd2lkdGgsIGtleSA/IGhlaWdodCAvIDIgOiBoZWlnaHQsIDUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb250YWluZXJzLmZvckVhY2goYyA9PiByby5vYnNlcnZlKGMpKTtcbiAgfVxufVxud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbW0tYm9hcmQtcm93JywgTW1Cb2FyZFJvdyk7XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcbmltcG9ydCAnLi9tbS1ib2FyZC1yb3cubWpzJztcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG50bXBsLmlubmVySFRNTCA9IGh0bWxgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tb3otYm94O1xuICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGZsZXg6IDE7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuXG4gICAgbW0tYm9hcmQtcm93IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4OiAxO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBtYXgtd2lkdGg6IDYwMHB4O1xuICAgIH1cbiAgPC9zdHlsZT5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbmA7XG5cbmNsYXNzIE1tQm9hcmQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1ib2FyZCcpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5zdHlsZUVsZW1lbnQodGhpcyk7XG4gICAgfVxuICAgIC8vIEF0dGFjaCBhIHNoYWRvdyByb290IHRvIHRoZSBlbGVtZW50LlxuICAgIGxldCBzaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0bXBsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcbiAgfVxufVxud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbW0tYm9hcmQnLCBNbUJvYXJkKTtcbiIsImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5tanMnO1xuaW1wb3J0ICcuL21tLXRvb2xiYXIubWpzJztcbmltcG9ydCAnLi9tbS1wbGF5Lm1qcyc7XG5pbXBvcnQgJy4vbW0tYm9hcmQubWpzJztcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG50bXBsLmlubmVySFRNTCA9IGh0bWxgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tb3otYm94O1xuICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleDogMTtcbiAgICB9XG5cbiAgICBtbS10b29sYmFyLnRvb2xiYXIge1xuICAgICAgbWF4LWhlaWdodDogNjRweDtcbiAgICAgIGZvbnQtc2l6ZTogMS43NWVtO1xuICAgIH1cbiAgICBcbiAgPC9zdHlsZT5cbiAgPG1tLXRvb2xiYXIgY2xhc3M9XCJ0b29sYmFyXCI+TWFzdGVybWluZDwvbW0tdG9vbGJhcj5cbiAgPCEtLSA8bW0tcGxheT48L21tLXBsYXk+IC0tPlxuICA8bW0tYm9hcmQ+PC9tbS1ib2FyZD5cbmA7XG5cbmNsYXNzIE1tQXBwIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgU2hhZHlDU1MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCAnbW0tYXBwJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgdGhpcy50b29sYmFyID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdtbS10b29sYmFyJyk7XG4gICAgLy8gdGhpcy5wbGF5ID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdtbS1wbGF5Jyk7XG4gICAgLy8gdGhpcy5wbGF5LnNldFBsYXlMaXN0ZW5lcigoKSA9PiB7XG4gICAgLy8gICB0aGlzLnRvb2xiYXIuY2xhc3NMaXN0LmFkZCgndG9vbGJhcicpO1xuICAgIC8vICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnBsYXkuaGlkZSgpLCA1MDApO1xuICAgIC8vIH0pO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1hcHAnLCBNbUFwcCk7XG4iLCJpbXBvcnQgJy4vbW0tYXBwLm1qcyc7XG5pbXBvcnQgTWFzdGVyIGZyb20gJy4vbWFzdGVyLm1qcyc7XG5cbi8vIGhpdCAgfCBwc2V1ZG9cbmNvbnN0IGMxID0gWzMsIDIsIDIsIDBdO1xuY29uc3QgYzIgPSBbMiwgMSwgMSwgMF07XG4vLyAxICB8IDFcblxuY29uc3QgbWFzdGVyID0gbmV3IE1hc3Rlcih7IHNvbHV0aW9uOiBjMSB9KTtcbi8vIGNvbnNvbGUubG9nKG1hc3Rlci5ndWVzcyh7IGd1ZXNzOiBjMiB9KSk7XG5jb25zb2xlLmxvZyhtYXN0ZXIudHJ5KHsgZ3Vlc3M6IGMyIH0pKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hc3RlciB7XG4gIGNvbnN0cnVjdG9yKHsgc29sdXRpb24sIHRyaWVzID0gMTIgfSkge1xuICAgIHRoaXMuc29sdXRpb24gPSBzb2x1dGlvbjtcbiAgICB0aGlzLnRyaWVzID0gdHJpZXM7XG4gICAgdGhpcy5jYWxjID0gdGhpcy5jYWxjO1xuICAgIHRoaXMudHJ5ID0gdGhpcy50cnk7XG4gIH1cblxuICB0cnkoeyBndWVzcyA9IFtdIH0pIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLmd1ZXNzKHsgZ3Vlc3MgfSksIHsgdHJpZXM6IC0tdGhpcy50cmllcyB9KTtcbiAgfVxuXG4gIGd1ZXNzKHsgZ3Vlc3MgPSBbXSB9KSB7XG4gICAgaWYgKGd1ZXNzLmxlbmd0aCAhPT0gdGhpcy5zb2x1dGlvbi5sZW5ndGgpIHJldHVybjtcblxuICAgIGNvbnN0IG9iaiA9IHsgaGl0czogMCwgcHNldWRvSGl0czogMCB9O1xuICAgIGNvbnN0IHNvbHV0aW9uID0gdGhpcy5zb2x1dGlvbi5zbGljZSgpOyAvLyBDb3B5XG4gICAgY29uc3QgZnJlcSA9IG5ldyBBcnJheSh0aGlzLnNvbHV0aW9uLmxlbmd0aCkuZmlsbCgwKTtcblxuICAgIGd1ZXNzLmZvckVhY2goKHYsIGkpID0+IHtcbiAgICAgIGlmICh2ID09PSB0aGlzLnNvbHV0aW9uW2ldKSB7XG4gICAgICAgIG9iai5oaXRzICs9IDE7XG4gICAgICAgIHNvbHV0aW9uW2ldID0gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcmVxW3ZdKys7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmcmVxLmZvckVhY2goKHYsIGkpID0+IHtcbiAgICAgIGlmICh2ID4gMCAmJiB0aGlzLnNvbHV0aW9uLmluY2x1ZGVzKGkpKSBvYmoucHNldWRvSGl0cysrO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInBhcnNlRmxvYXQiLCJwb3NpdGlvbnMiLCJsZW4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyZWR1Y2UiLCJzaXplIiwidG9GbG9hdCIsInN0eWxlcyIsIk1hdGgiLCJhYnMiLCJyb3VuZCIsImNsaWVudFdpZHRoIiwidGFyZ2V0IiwiY2xpZW50SGVpZ2h0IiwiZ2V0V2luZG93T2YiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFkZGluZ3MiLCJpIiwibGlzdCIsInBvc2l0aW9uIiwidmFsdWUiLCJnZXRQYWRkaW5ncyIsImhvcml6UGFkIiwibGVmdCIsInJpZ2h0IiwidmVydFBhZCIsInRvcCIsImJvdHRvbSIsIndpZHRoIiwiaGVpZ2h0IiwiYm94U2l6aW5nIiwiZ2V0Qm9yZGVyc1NpemUiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImlzRG9jdW1lbnRFbGVtZW50IiwidmVydFNjcm9sbGJhciIsImhvcml6U2Nyb2xsYmFyIiwiY3JlYXRlUmVjdEluaXQiLCJpc0Jyb3dzZXIiLCJpc1NWR0dyYXBoaWNzRWxlbWVudCIsImJib3giLCJnZXRCQm94IiwiZ2V0U1ZHQ29udGVudFJlY3QiLCJnZXRIVE1MRWxlbWVudENvbnRlbnRSZWN0IiwieCIsInkiLCJTdHJpbmciLCJyYXciLCJ0bXBsIiwiaW5uZXJIVE1MIiwiaHRtbCIsIndpbmRvdyIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwiSFRNTEVsZW1lbnQiLCJTaGFkeUNTUyIsInByZXBhcmVUZW1wbGF0ZSIsInN0eWxlRWxlbWVudCIsInRoaXMiLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwiYXBwZW5kQ2hpbGQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwic2hhZG93Um9vdCIsInBsYXkiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImFkZCIsInN0eWxlIiwiYmFja2dyb3VuZCIsIk1hcFNoaW0iLCJyZXN1bHQiLCJhcnIiLCJzb21lIiwiZW50cnkiLCJNYXAiLCJfX2VudHJpZXNfXyIsInByb3RvdHlwZUFjY2Vzc29ycyIsImNvbmZpZ3VyYWJsZSIsImdldCIsImFub255bW91cyIsInByb3RvdHlwZSIsImluZGV4IiwiZ2V0SW5kZXgiLCJzZXQiLCJwdXNoIiwiZGVsZXRlIiwiZW50cmllcyIsInNwbGljZSIsImhhcyIsImNsZWFyIiwiZm9yRWFjaCIsImN0eCIsImNhbGxiYWNrIiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnRpZXMiLCJnbG9iYWwkMSIsImdsb2JhbCIsInNlbGYiLCJGdW5jdGlvbiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSQxIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsInNldFRpbWVvdXQiLCJEYXRlIiwibm93IiwidHJhbnNpdGlvbktleXMiLCJtdXRhdGlvbk9ic2VydmVyU3VwcG9ydGVkIiwiTXV0YXRpb25PYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciIsImNvbm5lY3RlZF8iLCJtdXRhdGlvbkV2ZW50c0FkZGVkXyIsIm11dGF0aW9uc09ic2VydmVyXyIsIm9ic2VydmVyc18iLCJvblRyYW5zaXRpb25FbmRfIiwicmVmcmVzaCIsImxlYWRpbmdDYWxsIiwidHJhaWxpbmdDYWxsIiwicHJveHkiLCJ0aW1lU3RhbXAiLCJsYXN0Q2FsbFRpbWUiLCJ0aHJvdHRsZSIsImFkZE9ic2VydmVyIiwiaW5kZXhPZiIsImNvbm5lY3RfIiwicmVtb3ZlT2JzZXJ2ZXIiLCJvYnNlcnZlcnMiLCJkaXNjb25uZWN0XyIsInVwZGF0ZU9ic2VydmVyc18iLCJhY3RpdmVPYnNlcnZlcnMiLCJmaWx0ZXIiLCJvYnNlcnZlciIsImdhdGhlckFjdGl2ZSIsImhhc0FjdGl2ZSIsImJyb2FkY2FzdEFjdGl2ZSIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwiY2hpbGRMaXN0IiwiY2hhcmFjdGVyRGF0YSIsInN1YnRyZWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzY29ubmVjdCIsInByb3BlcnR5TmFtZSIsInJlZiIsImdldEluc3RhbmNlIiwiaW5zdGFuY2VfIiwiZGVmaW5lQ29uZmlndXJhYmxlIiwia2V5cyIsImRlZmluZVByb3BlcnR5IiwicHJvcHMiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJlbXB0eVJlY3QiLCJTVkdHcmFwaGljc0VsZW1lbnQiLCJTVkdFbGVtZW50IiwiUmVzaXplT2JzZXJ2YXRpb24iLCJicm9hZGNhc3RXaWR0aCIsImJyb2FkY2FzdEhlaWdodCIsImNvbnRlbnRSZWN0XyIsImlzQWN0aXZlIiwicmVjdCIsImdldENvbnRlbnRSZWN0IiwiYnJvYWRjYXN0UmVjdCIsIlJlc2l6ZU9ic2VydmVyRW50cnkiLCJDb25zdHIiLCJjb250ZW50UmVjdCIsIkRPTVJlY3RSZWFkT25seSIsImNyZWF0ZSIsIlJlc2l6ZU9ic2VydmVyU1BJIiwiYWN0aXZlT2JzZXJ2YXRpb25zXyIsIm9ic2VydmF0aW9uc18iLCJUeXBlRXJyb3IiLCJjYWxsYmFja18iLCJjb250cm9sbGVyXyIsImNhbGxiYWNrQ3R4XyIsIkVsZW1lbnQiLCJvYnNlcnZhdGlvbnMiLCJ1bm9ic2VydmUiLCJjbGVhckFjdGl2ZSIsInRoaXMkMSIsIm9ic2VydmF0aW9uIiwibWFwIiwiV2Vha01hcCIsIlJlc2l6ZU9ic2VydmVyIiwiY29udHJvbGxlciIsImFwcGx5IiwiY3JlYXRlRWxlbWVudCIsImNvbnRhaW5lcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2lyY2xlcyIsInJvIiwiYyIsImtleSIsImNvbnRhaW5zIiwidG9vbGJhciIsIm1hc3RlciIsInNvbHV0aW9uIiwidHJpZXMiLCJjYWxjIiwidHJ5IiwiZ3Vlc3MiLCJhc3NpZ24iLCJvYmoiLCJoaXRzIiwicHNldWRvSGl0cyIsInNsaWNlIiwiZnJlcSIsIkFycmF5IiwiZmlsbCIsInYiLCJpbmNsdWRlcyIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJ5QkFpZ0JBLGNBQ0ksTUFBT0EsZ0JBQXFCLENBVWhDLGVBRUksSUFEQSxHQUFJQyxLQUFKLENBQW9CQyxFQUFNQyxVQUFVQyxNQUFWRCxDQUFtQixDQUM3QyxDQUFnQixDQUFSRCxJQUFSLEVBQW9CRCxLQUFtQkUsVUFBV0QsRUFBTSxDQUFqQkMsQ0FBbkJGLENBRXBCLE1BQU9BLEdBQVVJLE1BQVZKLENBQWlCLGNBR3BCLE1BQU9LLEdBQU9DLEVBRkZDLEVBQU8sWUFBdUIsUUFBOUJBLENBRUVELEVBSFhOLENBSUosQ0FKSUEsQ0ErQ1gscUJBaUVZUSxLQUFLQyxNQTFCTEQsS0FBS0UsTUFwQ1RDLEVBQWNDLEVBQU9ELFlBQ3JCRSxFQUFlRCxFQUFPQyxhQVUxQixTQUFBLENBQ0ksU0FHSixHQUFJTixHQUFTTyxLQUFvQkMsZ0JBQXBCRCxHQUFiLENBQ0lF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
