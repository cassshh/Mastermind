!function(){"use strict";function j(a){return parseFloat(a)||0}function f(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return b.reduce(function(b,c){return b+j(a["border-"+c+"-width"])},0)}function c(b){var e=Math.abs,h=b.clientWidth,k=b.clientHeight;if(!h&&!k)return u;var p=m(b).getComputedStyle(b),q=function(a){for(var b={},c=0,d=["top","right","bottom","left"];c<d.length;c+=1){var e=d[c],f=a["padding-"+e];b[e]=j(f)}return b}(p),n=q.left+q.right,o=q.top+q.bottom,r=j(p.width),a=j(p.height);if("border-box"===p.boxSizing&&(g(r+n)!==h&&(r-=f(p,"left","right")+n),g(a+o)!==k&&(a-=f(p,"top","bottom")+o)),!function(a){return a===m(a).document.documentElement}(b)){var c=g(r+n)-h,l=g(a+o)-k;1!==e(c)&&(r-=c),1!==e(l)&&(a-=l)}return v(q.left,q.top,r,a)}function q(a){return n?p(a)?function(a){var b=a.getBBox();return v(0,0,b.width,b.height)}(a):c(a):u}function v(a,b,c,d){return{x:a,y:b,width:c,height:d}}var g=Math.round,w=String.raw;const e=document.createElement("template");e.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      width: 100%;
      flex: 1;
      max-height: 100%;
      background: var(--accent-color, #ed1a59);
      color: var(--primary-color, #212121);
      font-size: 2.75em;
      align-items: center;
      justify-content: center;
      border-radius: 0 0 15px 15px;
      transition: max-height 1s ease, font-size .7s ease-in-out .3s;
    }
  </style>
  <slot></slot>
`,window.customElements.define("mm-toolbar",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(e,"mm-toolbar"),ShadyCSS.styleElement(this)),this.attachShadow({mode:"open"}).appendChild(e.content.cloneNode(!0))}});const t=document.createElement("template");t.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex-direction: column;
      flex: 1;
      align-items: center;
      justify-content: center;
    }

    .play {
      color: var(--accent-color, #ed1a59);
      font-size: 2.5em;
      padding: 1em;
      cursor: pointer;
      border: 1px var(--accent-color, #ed1a59) solid;
      border-radius: 15px;
      transition: all .5s ease;
    }

    .hide { 
      opacity: 0;
    }

    .play:hover {
      color: var(--primary-color, #212121);
      background-color: var(--accent-color, #ed1a59);
    }

  </style>
  <span id="playButton" class="play">Play</span>
`,window.customElements.define("mm-play",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(t,"mm-play"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(t.content.cloneNode(!0)),this.play=a.querySelector("#playButton")}setPlayListener(a){this.play.addEventListener("click",a)}hide(){this.play.classList.add("hide")}});const i=document.createElement("template");i.innerHTML=w`
  <style>
    :host {
      background: #343434;
      border-radius: 50%;
      opacity: .2;
      transition: background .3s ease-in-out, opacity .3s ease-in-out;
    }
  </style>
`,window.customElements.define("mm-circle",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(i,"mm-circle"),ShadyCSS.styleElement(this)),this.attachShadow({mode:"open"}).appendChild(i.content.cloneNode(!0))}setSize(a,b,c){const d=`${a>b?b-c:a-c}px`;this.style.width=d,this.style.height=d}setColor(a){this.style.background=a}setValue(a){this.value=a}setSelected(a){this.selected=a,this.setActive(this.selected)}setActive(a){this.style.opacity=a?1:.2}});var s=function(){function a(a,b){var c=-1;return a.some(function(a,d){return a[0]===b&&(c=d,!0)}),c}return"undefined"==typeof Map?function(){function b(){this.__entries__=[]}var c={size:{configurable:!0}};return c.size.get=function(){return this.__entries__.length},b.prototype.get=function(b){var c=a(this.__entries__,b),d=this.__entries__[c];return d&&d[1]},b.prototype.set=function(b,c){var d=a(this.__entries__,b);~d?this.__entries__[d][1]=c:this.__entries__.push([b,c])},b.prototype.delete=function(b){var c=this.__entries__,d=a(c,b);~d&&c.splice(d,1)},b.prototype.has=function(b){return!!~a(this.__entries__,b)},b.prototype.clear=function(){this.__entries__.splice(0)},b.prototype.forEach=function(a,b){void 0===b&&(b=null);for(var c,d=0,e=this.__entries__;d<e.length;d+=1)c=e[d],a.call(b,c[1],c[0])},Object.defineProperties(b.prototype,c),b}():Map}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,d=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(a,b){function c(){f&&(f=!1,a()),g&&e()}function d(){r(c)}function e(){var a=Date.now();if(f){if(a-h<2)return;g=!0}else f=!0,g=!1,setTimeout(d,b);h=a}var f=!1,g=!1,h=0;return e}(this.refresh.bind(this),20)};d.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()},d.prototype.removeObserver=function(a){var b=this.observers_,c=b.indexOf(a);~c&&b.splice(c,1),!b.length&&this.connected_&&this.disconnect_()},d.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},d.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return a.forEach(function(a){return a.broadcastActive()}),0<a.length},d.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},d.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},d.prototype.onTransitionEnd_=function(b){var c=b.propertyName;void 0===c&&(c=""),a.some(function(a){return!!~c.indexOf(a)})&&this.refresh()},d.getInstance=function(){return this.instance_||(this.instance_=new d),this.instance_},d.instance_=null;var h=function(a,b){for(var c,d=0,e=Object.keys(b);d<e.length;d+=1)c=e[d],Object.defineProperty(a,c,{value:b[c],enumerable:!1,writable:!1,configurable:!0});return a},m=function(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView||o},u=v(0,0,0,0),p="undefined"==typeof SVGGraphicsElement?function(a){return a instanceof m(a).SVGElement&&"function"==typeof a.getBBox}:function(a){return a instanceof m(a).SVGGraphicsElement},b=function(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=a};b.prototype.isActive=function(){var a=q(this.target);return this.contentRect_=a,a.width!==this.broadcastWidth||a.height!==this.broadcastHeight},b.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a};var y=function(b,d){var f,g,i,j,k,m,a,c=(g=(f=d).x,i=f.y,j=f.width,k=f.height,m="undefined"==typeof DOMRectReadOnly?Object:DOMRectReadOnly,a=Object.create(m.prototype),h(a,{x:g,y:i,width:j,height:k,top:i,right:g+j,bottom:k+i,left:g}),a);h(this,{target:b,contentRect:c})},B=function(a,b,c){if(this.activeObservations_=[],this.observations_=new s,"function"!=typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a,this.controller_=b,this.callbackCtx_=c};B.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof m(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var c=this.observations_;c.has(a)||(c.set(a,new b(a)),this.controller_.addObserver(this),this.controller_.refresh())}},B.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof m(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)&&(b.delete(a),b.size||this.controller_.removeObserver(this))}},B.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},B.prototype.gatherActive=function(){var a=this;this.clearActive(),this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})},B.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new y(a.target,a.broadcastRect())});this.callback_.call(a,b,a),this.clearActive()}},B.prototype.clearActive=function(){this.activeObservations_.splice(0)},B.prototype.hasActive=function(){return 0<this.activeObservations_.length};var x="undefined"==typeof WeakMap?new s:new WeakMap,D=function(a){if(!(this instanceof D))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var b=d.getInstance(),c=new B(a,b,this);x.set(this,c)};["observe","unobserve","disconnect"].forEach(function(a){D.prototype[a]=function(){return(b=x.get(this))[a].apply(b,arguments);var b}});var C=void 0===o.ResizeObserver?D:o.ResizeObserver;const k=["#FAFAFA","#F44336","#2196F3","#4CAF50","#FFEB3B","#FF9800"],A=document.createElement("template");A.innerHTML=w`
  <style>
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      flex: 1;
      margin: 2px;
      transition: all .7s ease-in-out;
    }

    .transition {
      transition: all .5s ease-in-out, margin 1s ease-in-out;
    }

    .hidden {
      height: 0 !important;
      width: 0 !important;
      opacity: 0;
    }

  </style>
  <mm-circle></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
`,window.customElements.define("mm-board-item",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(A,"mm-board-item"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(A.content.cloneNode(!0)),this.active=!1,this.animating=!1,this.dnd=!1,this.onClick=this.onClick.bind(this),this.circles=a.querySelectorAll("mm-circle"),this.circles.forEach((a,b)=>{a.setValue(b),a.setColor(k[b]),a.classList.contains("hidden")||(a.active=!0)}),new C((a)=>{for(const b of a){const{width:a,height:c}=b.contentRect;this.circles.forEach((b)=>{this.showingCircles||this.animating?(b.setSize(a/1.2,c/1.2,5),b.style.margin="0 2px"):(b.setSize(a,c,5),b.style.margin="0")})}}).observe(this)}setActive(a){return this.active=a,this.active}animate(){this.style.flex=this.active?10:1,this.active?this.showCircles():this.hideCircles()}showCircles(){this.showingCircles=!0,this.circles.forEach((a,b)=>{a.addEventListener("click",this.onClick,!0),a.setActive(!0),a.classList.add("transition"),setTimeout(()=>{a.classList.remove("hidden")},100*b)})}hideCircles(){this.showingCircles&&(this.animating=!0,this.dnd=!0,this.circles.forEach((a,b)=>{a.removeEventListener("click",this.onClick,!0),a.setActive(a.selected),a.active?(this.animating=!1,setTimeout(()=>{a.classList.remove("transition"),this.dnd=!1},600)):setTimeout(()=>{a.classList.add("hidden"),setTimeout(()=>{a.classList.remove("transition")},600)},100*b)}),this.showingCircles=!1)}onClick(a){a.stopPropagation(),this.circles.forEach((b)=>{b.active=b===a.target,b.setSelected(b===a.target)}),this.setActive(!1),this.animate(),this.dispatchEvent(new CustomEvent("selected",{}))}getSelected(){let a=null;return this.circles.forEach((b)=>{b.selected&&(a=b)}),a}});const E=document.createElement("template");E.innerHTML=w`
  <style>
    :host {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex: 0;
      margin: 2px;
      transition: all .5s ease-in-out;
    }

    .keys-row {
      display: flex;
      flex: 0;
      width: 100%;
      align-items: center;
      justify-content: center;
      transition: all .5s ease-in-out;
    }

    .send-container {
      display: flex;
      flex: 0;
      width: 100%;
      transition: all .5s ease-in-out;
    }

    .send {
      display: flex;
      flex: 0;
      height: unset;
      width: 0;
      transition: all .5s ease-in-out;
    }

    #arrow {
      fill: #FAFAFA;
    }

  </style>
  <div class="keys-row">
    <mm-circle></mm-circle>
    <mm-circle></mm-circle>
  </div>
  <div class="send-container">
  <svg class="send" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
    <g id="boxes"> <g id="ui_x5F_spec_x5F_header_copy_3" display="none"> </g> <path fill="none" d="M0,0h24v24H0V0z"/> </g> <g id="arrow"> <g id="ui_x5F_spec_x5F_header_copy_6" display="none"> </g> <path d="M3.4,20.4l17.45-7.48c0.81-0.35,0.81-1.49,0-1.84L3.4,3.6C2.74,3.31,2.01,3.8,2.01,4.51L2,9.12c0,0.5,0.37,0.93,0.87,0.99 L17,12L2.87,13.88C2.37,13.95,2,14.38,2,14.88l0.01,4.61C2.01,20.2,2.74,20.69,3.4,20.4z"/> </g>
  </svg>
  </div>
  <div class="keys-row">
    <mm-circle></mm-circle>
    <mm-circle></mm-circle>
  </div>
`,window.customElements.define("mm-board-result",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(E,"mm-board-result"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(E.content.cloneNode(!0)),this.showResult=!1,this.onClick=this.onClick.bind(this),this.sendContainer=a.querySelector(".send-container"),this.send=a.querySelector(".send"),this.send.addEventListener("click",this.onClick),this.keysRows=a.querySelectorAll(".keys-row"),this.circles=a.querySelectorAll("mm-circle");const b=new C((a)=>{for(const b of a){const{width:a,height:c}=b.contentRect;this.circles.forEach((b)=>{this.showResult&&b.setSize(a,c,5)})}});this.keysRows.forEach((a)=>{b.observe(a)})}showSend(a){a&&!this.showResult?(this.style.flex=1,this.sendContainer.style.flex=1,setTimeout(()=>this.send.style.flex=1,100)):(this.showResult=!0,this.sendContainer.style.justifyContent="flex-end",this.send.style.flex=0,setTimeout(()=>{this.sendContainer.style.flex=0,this.keysRows.forEach((a)=>{a.style.flex=1}),this.circles.forEach((a)=>{a.style.margin="2px"})},150))}setResult({hits:a,pseudoHits:b}){this.keysRows.forEach((a)=>a.style.flex=1),this.circles.forEach((c,d)=>{c.setActive(!0),0<a--?setTimeout(()=>c.setColor("red"),300*d):0<b--&&setTimeout(()=>c.setColor("#FAFAFA"),300*d)})}onClick(){this.showSend(!1),this.dispatchEvent(new CustomEvent("send",{}))}});const F=document.createElement("template");F.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      transition: opacity .3s ease-in-out;
    }

  </style>
  <mm-board-item></mm-board-item>
  <mm-board-item></mm-board-item>
  <mm-board-item></mm-board-item>
  <mm-board-item></mm-board-item>
  <mm-board-result></mm-board-result>
`,window.customElements.define("mm-board-row",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(F,"mm-board-row"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(F.content.cloneNode(!0)),this.onClick=this.onClick.bind(this),this.validateSend=this.validateSend.bind(this),this.validateCode=this.validateCode.bind(this),this.setResult=this.setResult.bind(this),this.items=a.querySelectorAll("mm-board-item"),this.result=a.querySelector("mm-board-result")}onClick(a){const b=a.target;if(b.active||b.dnd)return;let c=!1;this.items.forEach((a)=>{a.showingCircles&&(c=!0),a.setActive(!1),a.animate()}),b.setActive(!0),setTimeout(()=>{b.animate()},c?600:200)}setActive(a){this.style.flex=a?1.1:1,this.style.opacity=a||this.result.showResult?1:.2,a?(this.items.forEach((a)=>{a.addEventListener("click",this.onClick),a.addEventListener("selected",this.validateSend)}),this.result.addEventListener("send",this.validateCode)):(this.items.forEach((a)=>{a.removeEventListener("click",this.onClick),a.removeEventListener("selected",this.validateSend)}),this.result.removeEventListener("send",this.validateCode))}validateSend(){let a=!0;this.items.forEach((b)=>{b.getSelected()||(a=!1)}),a&&this.result.showSend(!0)}validateCode(){const a=[];this.items.forEach((b)=>{b.setActive(!1),b.animate(),a.push(b.getSelected().value)}),this.dispatchEvent(new CustomEvent("try",{detail:{code:a}}))}setResult(a){this.result.setResult(a)}});const G=document.createElement("template");G.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex-direction: column;
      flex: 1;
      align-items: center;
      justify-content: center;
    }

    mm-board-row {
      display: flex;
      flex: 1;
      width: 100%;
      max-width: 600px;
      transition: all .5s ease;
    }
  </style>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
`,window.customElements.define("mm-board",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(G,"mm-board"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(G.content.cloneNode(!0)),this.try=this.try.bind(this),this.rows=a.querySelectorAll("mm-board-row")}setGame(a){this.master=a,this.setActive(a.tries-1)}setActive(a){this.rows.forEach((b,c)=>{a===c?b.addEventListener("try",this.try):b.removeEventListener("try",this.try),setTimeout(()=>{b.setActive(a===c)},0)})}try(a){const b=this.master.try({guess:a.detail.code});return this.rows[b.tries].setResult(b),4==b.hits?console.log("WIN :D"):b.tries?this.setActive(b.tries-1):console.log("Game over noob")}});class H{constructor({tries:a=12}={}){this.solution=this.generate(),this.tries=a,this.try=this.try.bind(this),this.guess=this.guess}try({guess:a=[]}){return Object.assign(this.guess({guess:a}),{tries:--this.tries})}guess({guess:a=[]}){if(a.length!==this.solution.length)return{};const b={hits:0,pseudoHits:0},c=this.solution.slice(),d=Array(this.solution.length).fill(0);return a.forEach((a,e)=>{a===this.solution[e]?(b.hits+=1,c[e]=-1):d[a]++}),d.forEach((a,c)=>{0<a&&this.solution.includes(c)&&b.pseudoHits++}),b}generate(){return[,,,,].fill(0).map(()=>this.random())}random(){return g(5*Math.random())}}const I=document.createElement("template");I.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex: 1;
    }

    mm-toolbar.toolbar {
      max-height: 64px;
      font-size: 1.75em;
    }
    
  </style>
  <mm-toolbar class="toolbar">Mastermind</mm-toolbar>
  <!-- <mm-play></mm-play> -->
  <mm-board></mm-board>
`,window.customElements.define("mm-app",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(I,"mm-app"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(I.content.cloneNode(!0)),this.toolbar=a.querySelector("mm-toolbar"),this.board=a.querySelector("mm-board"),this.newGame()}newGame(){this.master=new H,console.log(this.master.solution),this.board.setGame(this.master)}})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLm1qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbC9kaXN0L1Jlc2l6ZU9ic2VydmVyLmVzLmpzIiwiLi4vLi4vc3JjL2h0bWwubWpzIiwiLi4vLi4vc3JjL21tLXRvb2xiYXIubWpzIiwiLi4vLi4vc3JjL21tLXBsYXkubWpzIiwiLi4vLi4vc3JjL21tLWNpcmNsZS5tanMiLCIuLi8uLi9zcmMvY29uZmlnLm1qcyIsIi4uLy4uL3NyYy9tbS1ib2FyZC1pdGVtLm1qcyIsIi4uLy4uL3NyYy9tbS1ib2FyZC1yZXN1bHQubWpzIiwiLi4vLi4vc3JjL21tLWJvYXJkLXJvdy5tanMiLCIuLi8uLi9zcmMvbW0tYm9hcmQubWpzIiwiLi4vLi4vc3JjL21hc3Rlci5tanMiLCIuLi8uLi9zcmMvbW0tYXBwLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQSBjb2xsZWN0aW9uIG9mIHNoaW1zIHRoYXQgcHJvdmlkZSBtaW5pbWFsIGZ1bmN0aW9uYWxpdHkgb2YgdGhlIEVTNiBjb2xsZWN0aW9ucy5cclxuICpcclxuICogVGhlc2UgaW1wbGVtZW50YXRpb25zIGFyZSBub3QgbWVhbnQgdG8gYmUgdXNlZCBvdXRzaWRlIG9mIHRoZSBSZXNpemVPYnNlcnZlclxyXG4gKiBtb2R1bGVzIGFzIHRoZXkgY292ZXIgb25seSBhIGxpbWl0ZWQgcmFuZ2Ugb2YgdXNlIGNhc2VzLlxyXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtanNkb2MsIHZhbGlkLWpzZG9jICovXG52YXIgTWFwU2hpbSA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBNYXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBNYXA7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGluZGV4IGluIHByb3ZpZGVkIGFycmF5IHRoYXQgbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIGtleS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5PEFycmF5Pn0gYXJyXHJcbiAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEluZGV4KGFyciwga2V5KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSAtMTtcblxuICAgICAgICBhcnIuc29tZShmdW5jdGlvbiAoZW50cnksIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGluZGV4O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gYW5vbnltb3VzKCkge1xuICAgICAgICAgICAgdGhpcy5fX2VudHJpZXNfXyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgc2l6ZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICAgICAqL1xuICAgICAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2l6ZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fX2VudHJpZXNfXy5sZW5ndGg7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAgICAgKiBAcmV0dXJucyB7Kn1cclxuICAgICAgICAgKi9cbiAgICAgICAgYW5vbnltb3VzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBnZXRJbmRleCh0aGlzLl9fZW50cmllc19fLCBrZXkpO1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy5fX2VudHJpZXNfX1tpbmRleF07XG5cbiAgICAgICAgICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeVsxXTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cbiAgICAgICAgYW5vbnltb3VzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXgodGhpcy5fX2VudHJpZXNfXywga2V5KTtcblxuICAgICAgICAgICAgaWYgKH5pbmRleCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX19baW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX18ucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXG4gICAgICAgIGFub255bW91cy5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLl9fZW50cmllc19fO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXgoZW50cmllcywga2V5KTtcblxuICAgICAgICAgICAgaWYgKH5pbmRleCkge1xuICAgICAgICAgICAgICAgIGVudHJpZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xuICAgICAgICBhbm9ueW1vdXMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAhIX5nZXRJbmRleCh0aGlzLl9fZW50cmllc19fLCBrZXkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xuICAgICAgICBhbm9ueW1vdXMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fX2VudHJpZXNfXy5zcGxpY2UoMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtjdHg9bnVsbF1cclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cbiAgICAgICAgYW5vbnltb3VzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjdHgpIHtcbiAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCBjdHggPT09IHZvaWQgMCApIGN0eCA9IG51bGw7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gdGhpcyQxLl9fZW50cmllc19fOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IGxpc3RbaV07XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGN0eCwgZW50cnlbMV0sIGVudHJ5WzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggYW5vbnltb3VzLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICAgICAgcmV0dXJuIGFub255bW91cztcbiAgICB9KCkpO1xufSkoKTtcblxuLyoqXHJcbiAqIERldGVjdHMgd2hldGhlciB3aW5kb3cgYW5kIGRvY3VtZW50IG9iamVjdHMgYXJlIGF2YWlsYWJsZSBpbiBjdXJyZW50IGVudmlyb25tZW50LlxyXG4gKi9cbnZhciBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCA9PT0gZG9jdW1lbnQ7XG5cbi8vIFJldHVybnMgZ2xvYmFsIG9iamVjdCBvZiBhIGN1cnJlbnQgZW52aXJvbm1lbnQuXG52YXIgZ2xvYmFsJDEgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWwuTWF0aCA9PT0gTWF0aCkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09PSBNYXRoKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PT0gTWF0aCkge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICAgIHJldHVybiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xufSkoKTtcblxuLyoqXHJcbiAqIEEgc2hpbSBmb3IgdGhlIHJlcXVlc3RBbmltYXRpb25GcmFtZSB3aGljaCBmYWxscyBiYWNrIHRvIHRoZSBzZXRUaW1lb3V0IGlmXHJcbiAqIGZpcnN0IG9uZSBpcyBub3Qgc3VwcG9ydGVkLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXF1ZXN0cycgaWRlbnRpZmllci5cclxuICovXG52YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIEl0J3MgcmVxdWlyZWQgdG8gdXNlIGEgYm91bmRlZCBmdW5jdGlvbiBiZWNhdXNlIElFIHNvbWV0aW1lcyB0aHJvd3NcbiAgICAgICAgLy8gYW4gXCJJbnZhbGlkIGNhbGxpbmcgb2JqZWN0XCIgZXJyb3IgaWYgckFGIGlzIGludm9rZWQgd2l0aG91dCB0aGUgZ2xvYmFsXG4gICAgICAgIC8vIG9iamVjdCBvbiB0aGUgbGVmdCBoYW5kIHNpZGUuXG4gICAgICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZChnbG9iYWwkMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFjayhEYXRlLm5vdygpKTsgfSwgMTAwMCAvIDYwKTsgfTtcbn0pKCk7XG5cbi8vIERlZmluZXMgbWluaW11bSB0aW1lb3V0IGJlZm9yZSBhZGRpbmcgYSB0cmFpbGluZyBjYWxsLlxudmFyIHRyYWlsaW5nVGltZW91dCA9IDI7XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgd3JhcHBlciBmdW5jdGlvbiB3aGljaCBlbnN1cmVzIHRoYXQgcHJvdmlkZWQgY2FsbGJhY2sgd2lsbCBiZVxyXG4gKiBpbnZva2VkIG9ubHkgb25jZSBkdXJpbmcgdGhlIHNwZWNpZmllZCBkZWxheSBwZXJpb2QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciB0aGUgZGVsYXkgcGVyaW9kLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgLSBEZWxheSBhZnRlciB3aGljaCB0byBpbnZva2UgY2FsbGJhY2suXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cclxuICovXG52YXIgdGhyb3R0bGUgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgdmFyIGxlYWRpbmdDYWxsID0gZmFsc2UsXG4gICAgICAgIHRyYWlsaW5nQ2FsbCA9IGZhbHNlLFxuICAgICAgICBsYXN0Q2FsbFRpbWUgPSAwO1xuXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2VzIHRoZSBvcmlnaW5hbCBjYWxsYmFjayBmdW5jdGlvbiBhbmQgc2NoZWR1bGVzIG5ldyBpbnZvY2F0aW9uIGlmXHJcbiAgICAgKiB0aGUgXCJwcm94eVwiIHdhcyBjYWxsZWQgZHVyaW5nIGN1cnJlbnQgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVQZW5kaW5nKCkge1xuICAgICAgICBpZiAobGVhZGluZ0NhbGwpIHtcbiAgICAgICAgICAgIGxlYWRpbmdDYWxsID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhaWxpbmdDYWxsKSB7XG4gICAgICAgICAgICBwcm94eSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsYmFjayBpbnZva2VkIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXkuIEl0IHdpbGwgZnVydGhlciBwb3N0cG9uZVxyXG4gICAgICogaW52b2NhdGlvbiBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gZGVsZWdhdGluZyBpdCB0byB0aGVcclxuICAgICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVvdXRDYWxsYmFjaygpIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEocmVzb2x2ZVBlbmRpbmcpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogU2NoZWR1bGVzIGludm9jYXRpb24gb2YgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJveHkoKSB7XG4gICAgICAgIHZhciB0aW1lU3RhbXAgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIGlmIChsZWFkaW5nQ2FsbCkge1xuICAgICAgICAgICAgLy8gUmVqZWN0IGltbWVkaWF0ZWx5IGZvbGxvd2luZyBjYWxscy5cbiAgICAgICAgICAgIGlmICh0aW1lU3RhbXAgLSBsYXN0Q2FsbFRpbWUgPCB0cmFpbGluZ1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIG5ldyBjYWxsIHRvIGJlIGluIGludm9rZWQgd2hlbiB0aGUgcGVuZGluZyBvbmUgaXMgcmVzb2x2ZWQuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBmb3IgXCJ0cmFuc2l0aW9uc1wiIHdoaWNoIG5ldmVyIGFjdHVhbGx5IHN0YXJ0XG4gICAgICAgICAgICAvLyBpbW1lZGlhdGVseSBzbyB0aGVyZSBpcyBhIGNoYW5jZSB0aGF0IHdlIG1pZ2h0IG1pc3Mgb25lIGlmIGNoYW5nZVxuICAgICAgICAgICAgLy8gaGFwcGVucyBhbWlkcyB0aGUgcGVuZGluZyBpbnZvY2F0aW9uLlxuICAgICAgICAgICAgdHJhaWxpbmdDYWxsID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxlYWRpbmdDYWxsID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyYWlsaW5nQ2FsbCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRpbWVvdXRDYWxsYmFjaywgZGVsYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZVN0YW1wO1xuICAgIH1cblxuICAgIHJldHVybiBwcm94eTtcbn07XG5cbi8vIE1pbmltdW0gZGVsYXkgYmVmb3JlIGludm9raW5nIHRoZSB1cGRhdGUgb2Ygb2JzZXJ2ZXJzLlxudmFyIFJFRlJFU0hfREVMQVkgPSAyMDtcblxuLy8gQSBsaXN0IG9mIHN1YnN0cmluZ3Mgb2YgQ1NTIHByb3BlcnRpZXMgdXNlZCB0byBmaW5kIHRyYW5zaXRpb24gZXZlbnRzIHRoYXRcbi8vIG1pZ2h0IGFmZmVjdCBkaW1lbnNpb25zIG9mIG9ic2VydmVkIGVsZW1lbnRzLlxudmFyIHRyYW5zaXRpb25LZXlzID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnLCAnd2lkdGgnLCAnaGVpZ2h0JywgJ3NpemUnLCAnd2VpZ2h0J107XG5cbi8vIENoZWNrIGlmIE11dGF0aW9uT2JzZXJ2ZXIgaXMgYXZhaWxhYmxlLlxudmFyIG11dGF0aW9uT2JzZXJ2ZXJTdXBwb3J0ZWQgPSB0eXBlb2YgTXV0YXRpb25PYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8qKlxyXG4gKiBTaW5nbGV0b24gY29udHJvbGxlciBjbGFzcyB3aGljaCBoYW5kbGVzIHVwZGF0ZXMgb2YgUmVzaXplT2JzZXJ2ZXIgaW5zdGFuY2VzLlxyXG4gKi9cbnZhciBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNvbm5lY3RlZF8gPSBmYWxzZTtcbiAgICB0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfID0gZmFsc2U7XG4gICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8gPSBudWxsO1xuICAgIHRoaXMub2JzZXJ2ZXJzXyA9IFtdO1xuXG4gICAgdGhpcy5vblRyYW5zaXRpb25FbmRfID0gdGhpcy5vblRyYW5zaXRpb25FbmRfLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZWZyZXNoID0gdGhyb3R0bGUodGhpcy5yZWZyZXNoLmJpbmQodGhpcyksIFJFRlJFU0hfREVMQVkpO1xufTtcblxuLyoqXHJcbiAqIEFkZHMgb2JzZXJ2ZXIgdG8gb2JzZXJ2ZXJzIGxpc3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVzaXplT2JzZXJ2ZXJTUEl9IG9ic2VydmVyIC0gT2JzZXJ2ZXIgdG8gYmUgYWRkZWQuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblxuXG4vKipcclxuICogSG9sZHMgcmVmZXJlbmNlIHRvIHRoZSBjb250cm9sbGVyJ3MgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBwcml2YXRlIHtSZXNpemVPYnNlcnZlckNvbnRyb2xsZXJ9XHJcbiAqL1xuXG5cbi8qKlxyXG4gKiBLZWVwcyByZWZlcmVuY2UgdG8gdGhlIGluc3RhbmNlIG9mIE11dGF0aW9uT2JzZXJ2ZXIuXHJcbiAqXHJcbiAqIEBwcml2YXRlIHtNdXRhdGlvbk9ic2VydmVyfVxyXG4gKi9cblxuLyoqXHJcbiAqIEluZGljYXRlcyB3aGV0aGVyIERPTSBsaXN0ZW5lcnMgaGF2ZSBiZWVuIGFkZGVkLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZSB7Ym9vbGVhbn1cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLmFkZE9ic2VydmVyID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgaWYgKCF+dGhpcy5vYnNlcnZlcnNfLmluZGV4T2Yob2JzZXJ2ZXIpKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzXy5wdXNoKG9ic2VydmVyKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbGlzdGVuZXJzIGlmIHRoZXkgaGF2ZW4ndCBiZWVuIGFkZGVkIHlldC5cbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkXykge1xuICAgICAgICB0aGlzLmNvbm5lY3RfKCk7XG4gICAgfVxufTtcblxuLyoqXHJcbiAqIFJlbW92ZXMgb2JzZXJ2ZXIgZnJvbSBvYnNlcnZlcnMgbGlzdC5cclxuICpcclxuICogQHBhcmFtIHtSZXNpemVPYnNlcnZlclNQSX0gb2JzZXJ2ZXIgLSBPYnNlcnZlciB0byBiZSByZW1vdmVkLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzXztcbiAgICB2YXIgaW5kZXggPSBvYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcik7XG5cbiAgICAvLyBSZW1vdmUgb2JzZXJ2ZXIgaWYgaXQncyBwcmVzZW50IGluIHJlZ2lzdHJ5LlxuICAgIGlmICh+aW5kZXgpIHtcbiAgICAgICAgb2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGxpc3RlbmVycyBpZiBjb250cm9sbGVyIGhhcyBubyBjb25uZWN0ZWQgb2JzZXJ2ZXJzLlxuICAgIGlmICghb2JzZXJ2ZXJzLmxlbmd0aCAmJiB0aGlzLmNvbm5lY3RlZF8pIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0XygpO1xuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBJbnZva2VzIHRoZSB1cGRhdGUgb2Ygb2JzZXJ2ZXJzLiBJdCB3aWxsIGNvbnRpbnVlIHJ1bm5pbmcgdXBkYXRlcyBpbnNvZmFyXHJcbiAqIGl0IGRldGVjdHMgY2hhbmdlcy5cclxuICpcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGFuZ2VzRGV0ZWN0ZWQgPSB0aGlzLnVwZGF0ZU9ic2VydmVyc18oKTtcblxuICAgIC8vIENvbnRpbnVlIHJ1bm5pbmcgdXBkYXRlcyBpZiBjaGFuZ2VzIGhhdmUgYmVlbiBkZXRlY3RlZCBhcyB0aGVyZSBtaWdodFxuICAgIC8vIGJlIGZ1dHVyZSBvbmVzIGNhdXNlZCBieSBDU1MgdHJhbnNpdGlvbnMuXG4gICAgaWYgKGNoYW5nZXNEZXRlY3RlZCkge1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG59O1xuXG4vKipcclxuICogVXBkYXRlcyBldmVyeSBvYnNlcnZlciBmcm9tIG9ic2VydmVycyBsaXN0IGFuZCBub3RpZmllcyB0aGVtIG9mIHF1ZXVlZFxyXG4gKiBlbnRyaWVzLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBcInRydWVcIiBpZiBhbnkgb2JzZXJ2ZXIgaGFzIGRldGVjdGVkIGNoYW5nZXMgaW5cclxuICogIGRpbWVuc2lvbnMgb2YgaXQncyBlbGVtZW50cy5cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZU9ic2VydmVyc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gQ29sbGVjdCBvYnNlcnZlcnMgdGhhdCBoYXZlIGFjdGl2ZSBvYnNlcnZhdGlvbnMuXG4gICAgdmFyIGFjdGl2ZU9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzXy5maWx0ZXIoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHJldHVybiBvYnNlcnZlci5nYXRoZXJBY3RpdmUoKSwgb2JzZXJ2ZXIuaGFzQWN0aXZlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBEZWxpdmVyIG5vdGlmaWNhdGlvbnMgaW4gYSBzZXBhcmF0ZSBjeWNsZSBpbiBvcmRlciB0byBhdm9pZCBhbnlcbiAgICAvLyBjb2xsaXNpb25zIGJldHdlZW4gb2JzZXJ2ZXJzLCBlLmcuIHdoZW4gbXVsdGlwbGUgaW5zdGFuY2VzIG9mXG4gICAgLy8gUmVzaXplT2JzZXJ2ZXIgYXJlIHRyYWNraW5nIHRoZSBzYW1lIGVsZW1lbnQgYW5kIHRoZSBjYWxsYmFjayBvZiBvbmVcbiAgICAvLyBvZiB0aGVtIGNoYW5nZXMgY29udGVudCBkaW1lbnNpb25zIG9mIHRoZSBvYnNlcnZlZCB0YXJnZXQuIFNvbWV0aW1lc1xuICAgIC8vIHRoaXMgbWF5IHJlc3VsdCBpbiBub3RpZmljYXRpb25zIGJlaW5nIGJsb2NrZWQgZm9yIHRoZSByZXN0IG9mIG9ic2VydmVycy5cbiAgICBhY3RpdmVPYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHsgcmV0dXJuIG9ic2VydmVyLmJyb2FkY2FzdEFjdGl2ZSgpOyB9KTtcblxuICAgIHJldHVybiBhY3RpdmVPYnNlcnZlcnMubGVuZ3RoID4gMDtcbn07XG5cbi8qKlxyXG4gKiBJbml0aWFsaXplcyBET00gbGlzdGVuZXJzLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLmNvbm5lY3RfID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIERvIG5vdGhpbmcgaWYgcnVubmluZyBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50IG9yIGlmIGxpc3RlbmVyc1xuICAgIC8vIGhhdmUgYmVlbiBhbHJlYWR5IGFkZGVkLlxuICAgIGlmICghaXNCcm93c2VyIHx8IHRoaXMuY29ubmVjdGVkXykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU3Vic2NyaXB0aW9uIHRvIHRoZSBcIlRyYW5zaXRpb25lbmRcIiBldmVudCBpcyB1c2VkIGFzIGEgd29ya2Fyb3VuZCBmb3JcbiAgICAvLyBkZWxheWVkIHRyYW5zaXRpb25zLiBUaGlzIHdheSBpdCdzIHBvc3NpYmxlIHRvIGNhcHR1cmUgYXQgbGVhc3QgdGhlXG4gICAgLy8gZmluYWwgc3RhdGUgb2YgYW4gZWxlbWVudC5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5vblRyYW5zaXRpb25FbmRfKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlZnJlc2gpO1xuXG4gICAgaWYgKG11dGF0aW9uT2JzZXJ2ZXJTdXBwb3J0ZWQpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLnJlZnJlc2gpO1xuXG4gICAgICAgIHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01TdWJ0cmVlTW9kaWZpZWQnLCB0aGlzLnJlZnJlc2gpO1xuXG4gICAgICAgIHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8gPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuY29ubmVjdGVkXyA9IHRydWU7XG59O1xuXG4vKipcclxuICogUmVtb3ZlcyBET00gbGlzdGVuZXJzLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLmRpc2Nvbm5lY3RfID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIERvIG5vdGhpbmcgaWYgcnVubmluZyBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50IG9yIGlmIGxpc3RlbmVyc1xuICAgIC8vIGhhdmUgYmVlbiBhbHJlYWR5IHJlbW92ZWQuXG4gICAgaWYgKCFpc0Jyb3dzZXIgfHwgIXRoaXMuY29ubmVjdGVkXykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMub25UcmFuc2l0aW9uRW5kXyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVmcmVzaCk7XG5cbiAgICBpZiAodGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8pIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8uZGlzY29ubmVjdCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHRoaXMucmVmcmVzaCk7XG4gICAgfVxuXG4gICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8gPSBudWxsO1xuICAgIHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8gPSBmYWxzZTtcbiAgICB0aGlzLmNvbm5lY3RlZF8gPSBmYWxzZTtcbn07XG5cbi8qKlxyXG4gKiBcIlRyYW5zaXRpb25lbmRcIiBldmVudCBoYW5kbGVyLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25FdmVudH0gZXZlbnRcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5vblRyYW5zaXRpb25FbmRfID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gcmVmLnByb3BlcnR5TmFtZTsgaWYgKCBwcm9wZXJ0eU5hbWUgPT09IHZvaWQgMCApIHByb3BlcnR5TmFtZSA9ICcnO1xuXG4gICAgLy8gRGV0ZWN0IHdoZXRoZXIgdHJhbnNpdGlvbiBtYXkgYWZmZWN0IGRpbWVuc2lvbnMgb2YgYW4gZWxlbWVudC5cbiAgICB2YXIgaXNSZWZsb3dQcm9wZXJ0eSA9IHRyYW5zaXRpb25LZXlzLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gISF+cHJvcGVydHlOYW1lLmluZGV4T2Yoa2V5KTtcbiAgICB9KTtcblxuICAgIGlmIChpc1JlZmxvd1Byb3BlcnR5KSB7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBSZXR1cm5zIGluc3RhbmNlIG9mIHRoZSBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtSZXNpemVPYnNlcnZlckNvbnRyb2xsZXJ9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5pbnN0YW5jZV8pIHtcbiAgICAgICAgdGhpcy5pbnN0YW5jZV8gPSBuZXcgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VfO1xufTtcblxuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmluc3RhbmNlXyA9IG51bGw7XG5cbi8qKlxyXG4gKiBEZWZpbmVzIG5vbi13cml0YWJsZS9lbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgdGhlIHByb3ZpZGVkIHRhcmdldCBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgLSBPYmplY3QgZm9yIHdoaWNoIHRvIGRlZmluZSBwcm9wZXJ0aWVzLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBQcm9wZXJ0aWVzIHRvIGJlIGRlZmluZWQuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRhcmdldCBvYmplY3QuXHJcbiAqL1xudmFyIGRlZmluZUNvbmZpZ3VyYWJsZSA9IChmdW5jdGlvbiAodGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gT2JqZWN0LmtleXMocHJvcHMpOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIga2V5ID0gbGlzdFtpXTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgICAgICAgICAgIHZhbHVlOiBwcm9wc1trZXldLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbn0pO1xuXG4vKipcclxuICogUmV0dXJucyB0aGUgZ2xvYmFsIG9iamVjdCBhc3NvY2lhdGVkIHdpdGggcHJvdmlkZWQgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gKi9cbnZhciBnZXRXaW5kb3dPZiA9IChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgLy8gQXNzdW1lIHRoYXQgdGhlIGVsZW1lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgTm9kZSwgd2hpY2ggbWVhbnMgdGhhdCBpdFxuICAgIC8vIGhhcyB0aGUgXCJvd25lckRvY3VtZW50XCIgcHJvcGVydHkgZnJvbSB3aGljaCB3ZSBjYW4gcmV0cmlldmUgYVxuICAgIC8vIGNvcnJlc3BvbmRpbmcgZ2xvYmFsIG9iamVjdC5cbiAgICB2YXIgb3duZXJHbG9iYWwgPSB0YXJnZXQgJiYgdGFyZ2V0Lm93bmVyRG9jdW1lbnQgJiYgdGFyZ2V0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cbiAgICAvLyBSZXR1cm4gdGhlIGxvY2FsIGdsb2JhbCBvYmplY3QgaWYgaXQncyBub3QgcG9zc2libGUgZXh0cmFjdCBvbmUgZnJvbVxuICAgIC8vIHByb3ZpZGVkIGVsZW1lbnQuXG4gICAgcmV0dXJuIG93bmVyR2xvYmFsIHx8IGdsb2JhbCQxO1xufSk7XG5cbi8vIFBsYWNlaG9sZGVyIG9mIGFuIGVtcHR5IGNvbnRlbnQgcmVjdGFuZ2xlLlxudmFyIGVtcHR5UmVjdCA9IGNyZWF0ZVJlY3RJbml0KDAsIDAsIDAsIDApO1xuXG4vKipcclxuICogQ29udmVydHMgcHJvdmlkZWQgc3RyaW5nIHRvIGEgbnVtYmVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHZhbHVlXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xuZnVuY3Rpb24gdG9GbG9hdCh2YWx1ZSkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xufVxuXG4vKipcclxuICogRXh0cmFjdHMgYm9yZGVycyBzaXplIGZyb20gcHJvdmlkZWQgc3R5bGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0NTU1N0eWxlRGVjbGFyYXRpb259IHN0eWxlc1xyXG4gKiBAcGFyYW0gey4uLnN0cmluZ30gcG9zaXRpb25zIC0gQm9yZGVycyBwb3NpdGlvbnMgKHRvcCwgcmlnaHQsIC4uLilcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXG5mdW5jdGlvbiBnZXRCb3JkZXJzU2l6ZShzdHlsZXMpIHtcbiAgICB2YXIgcG9zaXRpb25zID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHdoaWxlICggbGVuLS0gPiAwICkgcG9zaXRpb25zWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgcmV0dXJuIHBvc2l0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKHNpemUsIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlc1snYm9yZGVyLScgKyBwb3NpdGlvbiArICctd2lkdGgnXTtcblxuICAgICAgICByZXR1cm4gc2l6ZSArIHRvRmxvYXQodmFsdWUpO1xuICAgIH0sIDApO1xufVxuXG4vKipcclxuICogRXh0cmFjdHMgcGFkZGluZ3Mgc2l6ZXMgZnJvbSBwcm92aWRlZCBzdHlsZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gc3R5bGVzXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFBhZGRpbmdzIGJveC5cclxuICovXG5mdW5jdGlvbiBnZXRQYWRkaW5ncyhzdHlsZXMpIHtcbiAgICB2YXIgcG9zaXRpb25zID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXTtcbiAgICB2YXIgcGFkZGluZ3MgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gcG9zaXRpb25zOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBsaXN0W2ldO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlc1sncGFkZGluZy0nICsgcG9zaXRpb25dO1xuXG4gICAgICAgIHBhZGRpbmdzW3Bvc2l0aW9uXSA9IHRvRmxvYXQodmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBwYWRkaW5ncztcbn1cblxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgY29udGVudCByZWN0YW5nbGUgb2YgcHJvdmlkZWQgU1ZHIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U1ZHR3JhcGhpY3NFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHdoaWNoIG5lZWRzXHJcbiAqICAgICAgdG8gYmUgY2FsY3VsYXRlZC5cclxuICogQHJldHVybnMge0RPTVJlY3RJbml0fVxyXG4gKi9cbmZ1bmN0aW9uIGdldFNWR0NvbnRlbnRSZWN0KHRhcmdldCkge1xuICAgIHZhciBiYm94ID0gdGFyZ2V0LmdldEJCb3goKTtcblxuICAgIHJldHVybiBjcmVhdGVSZWN0SW5pdCgwLCAwLCBiYm94LndpZHRoLCBiYm94LmhlaWdodCk7XG59XG5cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHByb3ZpZGVkIEhUTUxFbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IGZvciB3aGljaCB0byBjYWxjdWxhdGUgdGhlIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0SFRNTEVsZW1lbnRDb250ZW50UmVjdCh0YXJnZXQpIHtcbiAgICAvLyBDbGllbnQgd2lkdGggJiBoZWlnaHQgcHJvcGVydGllcyBjYW4ndCBiZVxuICAgIC8vIHVzZWQgZXhjbHVzaXZlbHkgYXMgdGhleSBwcm92aWRlIHJvdW5kZWQgdmFsdWVzLlxuICAgIHZhciBjbGllbnRXaWR0aCA9IHRhcmdldC5jbGllbnRXaWR0aDtcbiAgICB2YXIgY2xpZW50SGVpZ2h0ID0gdGFyZ2V0LmNsaWVudEhlaWdodDtcblxuICAgIC8vIEJ5IHRoaXMgY29uZGl0aW9uIHdlIGNhbiBjYXRjaCBhbGwgbm9uLXJlcGxhY2VkIGlubGluZSwgaGlkZGVuIGFuZFxuICAgIC8vIGRldGFjaGVkIGVsZW1lbnRzLiBUaG91Z2ggZWxlbWVudHMgd2l0aCB3aWR0aCAmIGhlaWdodCBwcm9wZXJ0aWVzIGxlc3NcbiAgICAvLyB0aGFuIDAuNSB3aWxsIGJlIGRpc2NhcmRlZCBhcyB3ZWxsLlxuICAgIC8vXG4gICAgLy8gV2l0aG91dCBpdCB3ZSB3b3VsZCBuZWVkIHRvIGltcGxlbWVudCBzZXBhcmF0ZSBtZXRob2RzIGZvciBlYWNoIG9mXG4gICAgLy8gdGhvc2UgY2FzZXMgYW5kIGl0J3Mgbm90IHBvc3NpYmxlIHRvIHBlcmZvcm0gYSBwcmVjaXNlIGFuZCBwZXJmb3JtYW5jZVxuICAgIC8vIGVmZmVjdGl2ZSB0ZXN0IGZvciBoaWRkZW4gZWxlbWVudHMuIEUuZy4gZXZlbiBqUXVlcnkncyAnOnZpc2libGUnIGZpbHRlclxuICAgIC8vIGdpdmVzIHdyb25nIHJlc3VsdHMgZm9yIGVsZW1lbnRzIHdpdGggd2lkdGggJiBoZWlnaHQgbGVzcyB0aGFuIDAuNS5cbiAgICBpZiAoIWNsaWVudFdpZHRoICYmICFjbGllbnRIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UmVjdDtcbiAgICB9XG5cbiAgICB2YXIgc3R5bGVzID0gZ2V0V2luZG93T2YodGFyZ2V0KS5nZXRDb21wdXRlZFN0eWxlKHRhcmdldCk7XG4gICAgdmFyIHBhZGRpbmdzID0gZ2V0UGFkZGluZ3Moc3R5bGVzKTtcbiAgICB2YXIgaG9yaXpQYWQgPSBwYWRkaW5ncy5sZWZ0ICsgcGFkZGluZ3MucmlnaHQ7XG4gICAgdmFyIHZlcnRQYWQgPSBwYWRkaW5ncy50b3AgKyBwYWRkaW5ncy5ib3R0b207XG5cbiAgICAvLyBDb21wdXRlZCBzdHlsZXMgb2Ygd2lkdGggJiBoZWlnaHQgYXJlIGJlaW5nIHVzZWQgYmVjYXVzZSB0aGV5IGFyZSB0aGVcbiAgICAvLyBvbmx5IGRpbWVuc2lvbnMgYXZhaWxhYmxlIHRvIEpTIHRoYXQgY29udGFpbiBub24tcm91bmRlZCB2YWx1ZXMuIEl0IGNvdWxkXG4gICAgLy8gYmUgcG9zc2libGUgdG8gdXRpbGl6ZSB0aGUgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGlmIG9ubHkgaXQncyBkYXRhIHdhc24ndFxuICAgIC8vIGFmZmVjdGVkIGJ5IENTUyB0cmFuc2Zvcm1hdGlvbnMgbGV0IGFsb25lIHBhZGRpbmdzLCBib3JkZXJzIGFuZCBzY3JvbGwgYmFycy5cbiAgICB2YXIgd2lkdGggPSB0b0Zsb2F0KHN0eWxlcy53aWR0aCksXG4gICAgICAgIGhlaWdodCA9IHRvRmxvYXQoc3R5bGVzLmhlaWdodCk7XG5cbiAgICAvLyBXaWR0aCAmIGhlaWdodCBpbmNsdWRlIHBhZGRpbmdzIGFuZCBib3JkZXJzIHdoZW4gdGhlICdib3JkZXItYm94JyBib3hcbiAgICAvLyBtb2RlbCBpcyBhcHBsaWVkIChleGNlcHQgZm9yIElFKS5cbiAgICBpZiAoc3R5bGVzLmJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgIC8vIEZvbGxvd2luZyBjb25kaXRpb25zIGFyZSByZXF1aXJlZCB0byBoYW5kbGUgSW50ZXJuZXQgRXhwbG9yZXIgd2hpY2hcbiAgICAgICAgLy8gZG9lc24ndCBpbmNsdWRlIHBhZGRpbmdzIGFuZCBib3JkZXJzIHRvIGNvbXB1dGVkIENTUyBkaW1lbnNpb25zLlxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBjYW4gc2F5IHRoYXQgaWYgQ1NTIGRpbWVuc2lvbnMgKyBwYWRkaW5ncyBhcmUgZXF1YWwgdG8gdGhlIFwiY2xpZW50XCJcbiAgICAgICAgLy8gcHJvcGVydGllcyB0aGVuIGl0J3MgZWl0aGVyIElFLCBhbmQgdGh1cyB3ZSBkb24ndCBuZWVkIHRvIHN1YnRyYWN0XG4gICAgICAgIC8vIGFueXRoaW5nLCBvciBhbiBlbGVtZW50IG1lcmVseSBkb2Vzbid0IGhhdmUgcGFkZGluZ3MvYm9yZGVycyBzdHlsZXMuXG4gICAgICAgIGlmIChNYXRoLnJvdW5kKHdpZHRoICsgaG9yaXpQYWQpICE9PSBjbGllbnRXaWR0aCkge1xuICAgICAgICAgICAgd2lkdGggLT0gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCAnbGVmdCcsICdyaWdodCcpICsgaG9yaXpQYWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTWF0aC5yb3VuZChoZWlnaHQgKyB2ZXJ0UGFkKSAhPT0gY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgICAgICBoZWlnaHQgLT0gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCAndG9wJywgJ2JvdHRvbScpICsgdmVydFBhZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZvbGxvd2luZyBzdGVwcyBjYW4ndCBiZSBhcHBsaWVkIHRvIHRoZSBkb2N1bWVudCdzIHJvb3QgZWxlbWVudCBhcyBpdHNcbiAgICAvLyBjbGllbnRbV2lkdGgvSGVpZ2h0XSBwcm9wZXJ0aWVzIHJlcHJlc2VudCB2aWV3cG9ydCBhcmVhIG9mIHRoZSB3aW5kb3cuXG4gICAgLy8gQmVzaWRlcywgaXQncyBhcyB3ZWxsIG5vdCBuZWNlc3NhcnkgYXMgdGhlIDxodG1sPiBpdHNlbGYgbmVpdGhlciBoYXNcbiAgICAvLyByZW5kZXJlZCBzY3JvbGwgYmFycyBub3IgaXQgY2FuIGJlIGNsaXBwZWQuXG4gICAgaWYgKCFpc0RvY3VtZW50RWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgIC8vIEluIHNvbWUgYnJvd3NlcnMgKG9ubHkgaW4gRmlyZWZveCwgYWN0dWFsbHkpIENTUyB3aWR0aCAmIGhlaWdodFxuICAgICAgICAvLyBpbmNsdWRlIHNjcm9sbCBiYXJzIHNpemUgd2hpY2ggY2FuIGJlIHJlbW92ZWQgYXQgdGhpcyBzdGVwIGFzIHNjcm9sbFxuICAgICAgICAvLyBiYXJzIGFyZSB0aGUgb25seSBkaWZmZXJlbmNlIGJldHdlZW4gcm91bmRlZCBkaW1lbnNpb25zICsgcGFkZGluZ3NcbiAgICAgICAgLy8gYW5kIFwiY2xpZW50XCIgcHJvcGVydGllcywgdGhvdWdoIHRoYXQgaXMgbm90IGFsd2F5cyB0cnVlIGluIENocm9tZS5cbiAgICAgICAgdmFyIHZlcnRTY3JvbGxiYXIgPSBNYXRoLnJvdW5kKHdpZHRoICsgaG9yaXpQYWQpIC0gY2xpZW50V2lkdGg7XG4gICAgICAgIHZhciBob3JpelNjcm9sbGJhciA9IE1hdGgucm91bmQoaGVpZ2h0ICsgdmVydFBhZCkgLSBjbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgLy8gQ2hyb21lIGhhcyBhIHJhdGhlciB3ZWlyZCByb3VuZGluZyBvZiBcImNsaWVudFwiIHByb3BlcnRpZXMuXG4gICAgICAgIC8vIEUuZy4gZm9yIGFuIGVsZW1lbnQgd2l0aCBjb250ZW50IHdpZHRoIG9mIDMxNC4ycHggaXQgc29tZXRpbWVzIGdpdmVzXG4gICAgICAgIC8vIHRoZSBjbGllbnQgd2lkdGggb2YgMzE1cHggYW5kIGZvciB0aGUgd2lkdGggb2YgMzE0LjdweCBpdCBtYXkgZ2l2ZVxuICAgICAgICAvLyAzMTRweC4gQW5kIGl0IGRvZXNuJ3QgaGFwcGVuIGFsbCB0aGUgdGltZS4gU28ganVzdCBpZ25vcmUgdGhpcyBkZWx0YVxuICAgICAgICAvLyBhcyBhIG5vbi1yZWxldmFudC5cbiAgICAgICAgaWYgKE1hdGguYWJzKHZlcnRTY3JvbGxiYXIpICE9PSAxKSB7XG4gICAgICAgICAgICB3aWR0aCAtPSB2ZXJ0U2Nyb2xsYmFyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGhvcml6U2Nyb2xsYmFyKSAhPT0gMSkge1xuICAgICAgICAgICAgaGVpZ2h0IC09IGhvcml6U2Nyb2xsYmFyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZVJlY3RJbml0KHBhZGRpbmdzLmxlZnQsIHBhZGRpbmdzLnRvcCwgd2lkdGgsIGhlaWdodCk7XG59XG5cbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBwcm92aWRlZCBlbGVtZW50IGlzIGFuIGluc3RhbmNlIG9mIHRoZSBTVkdHcmFwaGljc0VsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBiZSBjaGVja2VkLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXG52YXIgaXNTVkdHcmFwaGljc0VsZW1lbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFNvbWUgYnJvd3NlcnMsIG5hbWVseSBJRSBhbmQgRWRnZSwgZG9uJ3QgaGF2ZSB0aGUgU1ZHR3JhcGhpY3NFbGVtZW50XG4gICAgLy8gaW50ZXJmYWNlLlxuICAgIGlmICh0eXBlb2YgU1ZHR3JhcGhpY3NFbGVtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5TVkdHcmFwaGljc0VsZW1lbnQ7IH07XG4gICAgfVxuXG4gICAgLy8gSWYgaXQncyBzbywgdGhlbiBjaGVjayB0aGF0IGVsZW1lbnQgaXMgYXQgbGVhc3QgYW4gaW5zdGFuY2Ugb2YgdGhlXG4gICAgLy8gU1ZHRWxlbWVudCBhbmQgdGhhdCBpdCBoYXMgdGhlIFwiZ2V0QkJveFwiIG1ldGhvZC5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtcGFyZW5zXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuU1ZHRWxlbWVudCAmJiB0eXBlb2YgdGFyZ2V0LmdldEJCb3ggPT09ICdmdW5jdGlvbic7IH07XG59KSgpO1xuXG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgcHJvdmlkZWQgZWxlbWVudCBpcyBhIGRvY3VtZW50IGVsZW1lbnQgKDxodG1sPikuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBiZSBjaGVja2VkLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXG5mdW5jdGlvbiBpc0RvY3VtZW50RWxlbWVudCh0YXJnZXQpIHtcbiAgICByZXR1cm4gdGFyZ2V0ID09PSBnZXRXaW5kb3dPZih0YXJnZXQpLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbn1cblxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgYW4gYXBwcm9wcmlhdGUgY29udGVudCByZWN0YW5nbGUgZm9yIHByb3ZpZGVkIGh0bWwgb3Igc3ZnIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCBjb250ZW50IHJlY3RhbmdsZSBvZiB3aGljaCBuZWVkcyB0byBiZSBjYWxjdWxhdGVkLlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0Q29udGVudFJlY3QodGFyZ2V0KSB7XG4gICAgaWYgKCFpc0Jyb3dzZXIpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UmVjdDtcbiAgICB9XG5cbiAgICBpZiAoaXNTVkdHcmFwaGljc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gZ2V0U1ZHQ29udGVudFJlY3QodGFyZ2V0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0SFRNTEVsZW1lbnRDb250ZW50UmVjdCh0YXJnZXQpO1xufVxuXG4vKipcclxuICogQ3JlYXRlcyByZWN0YW5nbGUgd2l0aCBhbiBpbnRlcmZhY2Ugb2YgdGhlIERPTVJlY3RSZWFkT25seS5cclxuICogU3BlYzogaHR0cHM6Ly9kcmFmdHMuZnh0Zi5vcmcvZ2VvbWV0cnkvI2RvbXJlY3RyZWFkb25seVxyXG4gKlxyXG4gKiBAcGFyYW0ge0RPTVJlY3RJbml0fSByZWN0SW5pdCAtIE9iamVjdCB3aXRoIHJlY3RhbmdsZSdzIHgveSBjb29yZGluYXRlcyBhbmQgZGltZW5zaW9ucy5cclxuICogQHJldHVybnMge0RPTVJlY3RSZWFkT25seX1cclxuICovXG5mdW5jdGlvbiBjcmVhdGVSZWFkT25seVJlY3QocmVmKSB7XG4gICAgdmFyIHggPSByZWYueDtcbiAgICB2YXIgeSA9IHJlZi55O1xuICAgIHZhciB3aWR0aCA9IHJlZi53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gcmVmLmhlaWdodDtcblxuICAgIC8vIElmIERPTVJlY3RSZWFkT25seSBpcyBhdmFpbGFibGUgdXNlIGl0IGFzIGEgcHJvdG90eXBlIGZvciB0aGUgcmVjdGFuZ2xlLlxuICAgIHZhciBDb25zdHIgPSB0eXBlb2YgRE9NUmVjdFJlYWRPbmx5ICE9PSAndW5kZWZpbmVkJyA/IERPTVJlY3RSZWFkT25seSA6IE9iamVjdDtcbiAgICB2YXIgcmVjdCA9IE9iamVjdC5jcmVhdGUoQ29uc3RyLnByb3RvdHlwZSk7XG5cbiAgICAvLyBSZWN0YW5nbGUncyBwcm9wZXJ0aWVzIGFyZSBub3Qgd3JpdGFibGUgYW5kIG5vbi1lbnVtZXJhYmxlLlxuICAgIGRlZmluZUNvbmZpZ3VyYWJsZShyZWN0LCB7XG4gICAgICAgIHg6IHgsIHk6IHksIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIHRvcDogeSxcbiAgICAgICAgcmlnaHQ6IHggKyB3aWR0aCxcbiAgICAgICAgYm90dG9tOiBoZWlnaHQgKyB5LFxuICAgICAgICBsZWZ0OiB4XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVjdDtcbn1cblxuLyoqXHJcbiAqIENyZWF0ZXMgRE9NUmVjdEluaXQgb2JqZWN0IGJhc2VkIG9uIHRoZSBwcm92aWRlZCBkaW1lbnNpb25zIGFuZCB0aGUgeC95IGNvb3JkaW5hdGVzLlxyXG4gKiBTcGVjOiBodHRwczovL2RyYWZ0cy5meHRmLm9yZy9nZW9tZXRyeS8jZGljdGRlZi1kb21yZWN0aW5pdFxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFggY29vcmRpbmF0ZS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBZIGNvb3JkaW5hdGUuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFJlY3RhbmdsZSdzIHdpZHRoLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gUmVjdGFuZ2xlJ3MgaGVpZ2h0LlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmVjdEluaXQoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgIHJldHVybiB7IHg6IHgsIHk6IHksIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbn1cblxuLyoqXHJcbiAqIENsYXNzIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIGNvbXB1dGF0aW9ucyBvZiB0aGUgY29udGVudCByZWN0YW5nbGUgb2ZcclxuICogcHJvdmlkZWQgRE9NIGVsZW1lbnQgYW5kIGZvciBrZWVwaW5nIHRyYWNrIG9mIGl0J3MgY2hhbmdlcy5cclxuICovXG52YXIgUmVzaXplT2JzZXJ2YXRpb24gPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB0aGlzLmJyb2FkY2FzdFdpZHRoID0gMDtcbiAgICB0aGlzLmJyb2FkY2FzdEhlaWdodCA9IDA7XG4gICAgdGhpcy5jb250ZW50UmVjdF8gPSBjcmVhdGVSZWN0SW5pdCgwLCAwLCAwLCAwKTtcblxuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xufTtcblxuLyoqXHJcbiAqIFVwZGF0ZXMgY29udGVudCByZWN0YW5nbGUgYW5kIHRlbGxzIHdoZXRoZXIgaXQncyB3aWR0aCBvciBoZWlnaHQgcHJvcGVydGllc1xyXG4gKiBoYXZlIGNoYW5nZWQgc2luY2UgdGhlIGxhc3QgYnJvYWRjYXN0LlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXG5cblxuLyoqXHJcbiAqIFJlZmVyZW5jZSB0byB0aGUgbGFzdCBvYnNlcnZlZCBjb250ZW50IHJlY3RhbmdsZS5cclxuICpcclxuICogQHByaXZhdGUge0RPTVJlY3RJbml0fVxyXG4gKi9cblxuXG4vKipcclxuICogQnJvYWRjYXN0ZWQgd2lkdGggb2YgY29udGVudCByZWN0YW5nbGUuXHJcbiAqXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqL1xuUmVzaXplT2JzZXJ2YXRpb24ucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZWN0ID0gZ2V0Q29udGVudFJlY3QodGhpcy50YXJnZXQpO1xuXG4gICAgdGhpcy5jb250ZW50UmVjdF8gPSByZWN0O1xuXG4gICAgcmV0dXJuIHJlY3Qud2lkdGggIT09IHRoaXMuYnJvYWRjYXN0V2lkdGggfHwgcmVjdC5oZWlnaHQgIT09IHRoaXMuYnJvYWRjYXN0SGVpZ2h0O1xufTtcblxuLyoqXHJcbiAqIFVwZGF0ZXMgJ2Jyb2FkY2FzdFdpZHRoJyBhbmQgJ2Jyb2FkY2FzdEhlaWdodCcgcHJvcGVydGllcyB3aXRoIGEgZGF0YVxyXG4gKiBmcm9tIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnRpZXMgb2YgdGhlIGxhc3Qgb2JzZXJ2ZWQgY29udGVudCByZWN0YW5nbGUuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtET01SZWN0SW5pdH0gTGFzdCBvYnNlcnZlZCBjb250ZW50IHJlY3RhbmdsZS5cclxuICovXG5SZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuYnJvYWRjYXN0UmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVjdCA9IHRoaXMuY29udGVudFJlY3RfO1xuXG4gICAgdGhpcy5icm9hZGNhc3RXaWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgdGhpcy5icm9hZGNhc3RIZWlnaHQgPSByZWN0LmhlaWdodDtcblxuICAgIHJldHVybiByZWN0O1xufTtcblxudmFyIFJlc2l6ZU9ic2VydmVyRW50cnkgPSBmdW5jdGlvbih0YXJnZXQsIHJlY3RJbml0KSB7XG4gICAgdmFyIGNvbnRlbnRSZWN0ID0gY3JlYXRlUmVhZE9ubHlSZWN0KHJlY3RJbml0KTtcblxuICAgIC8vIEFjY29yZGluZyB0byB0aGUgc3BlY2lmaWNhdGlvbiBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgbm90IHdyaXRhYmxlXG4gICAgLy8gYW5kIGFyZSBhbHNvIG5vdCBlbnVtZXJhYmxlIGluIHRoZSBuYXRpdmUgaW1wbGVtZW50YXRpb24uXG4gICAgLy9cbiAgICAvLyBQcm9wZXJ0eSBhY2Nlc3NvcnMgYXJlIG5vdCBiZWluZyB1c2VkIGFzIHRoZXknZCByZXF1aXJlIHRvIGRlZmluZSBhXG4gICAgLy8gcHJpdmF0ZSBXZWFrTWFwIHN0b3JhZ2Ugd2hpY2ggbWF5IGNhdXNlIG1lbW9yeSBsZWFrcyBpbiBicm93c2VycyB0aGF0XG4gICAgLy8gZG9uJ3Qgc3VwcG9ydCB0aGlzIHR5cGUgb2YgY29sbGVjdGlvbnMuXG4gICAgZGVmaW5lQ29uZmlndXJhYmxlKHRoaXMsIHsgdGFyZ2V0OiB0YXJnZXQsIGNvbnRlbnRSZWN0OiBjb250ZW50UmVjdCB9KTtcbn07XG5cbnZhciBSZXNpemVPYnNlcnZlclNQSSA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBjb250cm9sbGVyLCBjYWxsYmFja0N0eCkge1xuICAgIHRoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXyA9IFtdO1xuICAgIHRoaXMub2JzZXJ2YXRpb25zXyA9IG5ldyBNYXBTaGltKCk7XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjYWxsYmFjayBwcm92aWRlZCBhcyBwYXJhbWV0ZXIgMSBpcyBub3QgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbGxiYWNrXyA9IGNhbGxiYWNrO1xuICAgIHRoaXMuY29udHJvbGxlcl8gPSBjb250cm9sbGVyO1xuICAgIHRoaXMuY2FsbGJhY2tDdHhfID0gY2FsbGJhY2tDdHg7XG59O1xuXG4vKipcclxuICogU3RhcnRzIG9ic2VydmluZyBwcm92aWRlZCBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdG8gYmUgb2JzZXJ2ZWQuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblxuXG4vKipcclxuICogUmVnaXN0cnkgb2YgdGhlIFJlc2l6ZU9ic2VydmF0aW9uIGluc3RhbmNlcy5cclxuICpcclxuICogQHByaXZhdGUge01hcDxFbGVtZW50LCBSZXNpemVPYnNlcnZhdGlvbj59XHJcbiAqL1xuXG5cbi8qKlxyXG4gKiBQdWJsaWMgUmVzaXplT2JzZXJ2ZXIgaW5zdGFuY2Ugd2hpY2ggd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrXHJcbiAqIGZ1bmN0aW9uIGFuZCB1c2VkIGFzIGEgdmFsdWUgb2YgaXQncyBcInRoaXNcIiBiaW5kaW5nLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZSB7UmVzaXplT2JzZXJ2ZXJ9XHJcbiAqL1xuXG4vKipcclxuICogQ29sbGVjdGlvbiBvZiByZXNpemUgb2JzZXJ2YXRpb25zIHRoYXQgaGF2ZSBkZXRlY3RlZCBjaGFuZ2VzIGluIGRpbWVuc2lvbnNcclxuICogb2YgZWxlbWVudHMuXHJcbiAqXHJcbiAqIEBwcml2YXRlIHtBcnJheTxSZXNpemVPYnNlcnZhdGlvbj59XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJzEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC4nKTtcbiAgICB9XG5cbiAgICAvLyBEbyBub3RoaW5nIGlmIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lc24ndCBoYXZlIHRoZSBFbGVtZW50IGludGVyZmFjZS5cbiAgICBpZiAodHlwZW9mIEVsZW1lbnQgPT09ICd1bmRlZmluZWQnIHx8ICEoRWxlbWVudCBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuRWxlbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgXCJFbGVtZW50XCIuJyk7XG4gICAgfVxuXG4gICAgdmFyIG9ic2VydmF0aW9ucyA9IHRoaXMub2JzZXJ2YXRpb25zXztcblxuICAgIC8vIERvIG5vdGhpbmcgaWYgZWxlbWVudCBpcyBhbHJlYWR5IGJlaW5nIG9ic2VydmVkLlxuICAgIGlmIChvYnNlcnZhdGlvbnMuaGFzKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9ic2VydmF0aW9ucy5zZXQodGFyZ2V0LCBuZXcgUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0KSk7XG5cbiAgICB0aGlzLmNvbnRyb2xsZXJfLmFkZE9ic2VydmVyKHRoaXMpO1xuXG4gICAgLy8gRm9yY2UgdGhlIHVwZGF0ZSBvZiBvYnNlcnZhdGlvbnMuXG4gICAgdGhpcy5jb250cm9sbGVyXy5yZWZyZXNoKCk7XG59O1xuXG4vKipcclxuICogU3RvcHMgb2JzZXJ2aW5nIHByb3ZpZGVkIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBzdG9wIG9ic2VydmluZy5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLnVub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LicpO1xuICAgIH1cblxuICAgIC8vIERvIG5vdGhpbmcgaWYgY3VycmVudCBlbnZpcm9ubWVudCBkb2Vzbid0IGhhdmUgdGhlIEVsZW1lbnQgaW50ZXJmYWNlLlxuICAgIGlmICh0eXBlb2YgRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgIShFbGVtZW50IGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5FbGVtZW50KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJhbWV0ZXIgMSBpcyBub3Qgb2YgdHlwZSBcIkVsZW1lbnRcIi4nKTtcbiAgICB9XG5cbiAgICB2YXIgb2JzZXJ2YXRpb25zID0gdGhpcy5vYnNlcnZhdGlvbnNfO1xuXG4gICAgLy8gRG8gbm90aGluZyBpZiBlbGVtZW50IGlzIG5vdCBiZWluZyBvYnNlcnZlZC5cbiAgICBpZiAoIW9ic2VydmF0aW9ucy5oYXModGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb2JzZXJ2YXRpb25zLmRlbGV0ZSh0YXJnZXQpO1xuXG4gICAgaWYgKCFvYnNlcnZhdGlvbnMuc2l6ZSkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXJfLnJlbW92ZU9ic2VydmVyKHRoaXMpO1xuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBTdG9wcyBvYnNlcnZpbmcgYWxsIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmNsZWFyQWN0aXZlKCk7XG4gICAgdGhpcy5vYnNlcnZhdGlvbnNfLmNsZWFyKCk7XG4gICAgdGhpcy5jb250cm9sbGVyXy5yZW1vdmVPYnNlcnZlcih0aGlzKTtcbn07XG5cbi8qKlxyXG4gKiBDb2xsZWN0cyBvYnNlcnZhdGlvbiBpbnN0YW5jZXMgdGhlIGFzc29jaWF0ZWQgZWxlbWVudCBvZiB3aGljaCBoYXMgY2hhbmdlZFxyXG4gKiBpdCdzIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuZ2F0aGVyQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHRoaXMuY2xlYXJBY3RpdmUoKTtcblxuICAgIHRoaXMub2JzZXJ2YXRpb25zXy5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZhdGlvbikge1xuICAgICAgICBpZiAob2JzZXJ2YXRpb24uaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgdGhpcyQxLmFjdGl2ZU9ic2VydmF0aW9uc18ucHVzaChvYnNlcnZhdGlvbik7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8qKlxyXG4gKiBJbnZva2VzIGluaXRpYWwgY2FsbGJhY2sgZnVuY3Rpb24gd2l0aCBhIGxpc3Qgb2YgUmVzaXplT2JzZXJ2ZXJFbnRyeVxyXG4gKiBpbnN0YW5jZXMgY29sbGVjdGVkIGZyb20gYWN0aXZlIHJlc2l6ZSBvYnNlcnZhdGlvbnMuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5icm9hZGNhc3RBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gRG8gbm90aGluZyBpZiBvYnNlcnZlciBkb2Vzbid0IGhhdmUgYWN0aXZlIG9ic2VydmF0aW9ucy5cbiAgICBpZiAoIXRoaXMuaGFzQWN0aXZlKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjdHggPSB0aGlzLmNhbGxiYWNrQ3R4XztcblxuICAgIC8vIENyZWF0ZSBSZXNpemVPYnNlcnZlckVudHJ5IGluc3RhbmNlIGZvciBldmVyeSBhY3RpdmUgb2JzZXJ2YXRpb24uXG4gICAgdmFyIGVudHJpZXMgPSB0aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18ubWFwKGZ1bmN0aW9uIChvYnNlcnZhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFJlc2l6ZU9ic2VydmVyRW50cnkob2JzZXJ2YXRpb24udGFyZ2V0LCBvYnNlcnZhdGlvbi5icm9hZGNhc3RSZWN0KCkpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jYWxsYmFja18uY2FsbChjdHgsIGVudHJpZXMsIGN0eCk7XG4gICAgdGhpcy5jbGVhckFjdGl2ZSgpO1xufTtcblxuLyoqXHJcbiAqIENsZWFycyB0aGUgY29sbGVjdGlvbiBvZiBhY3RpdmUgb2JzZXJ2YXRpb25zLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuY2xlYXJBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfLnNwbGljZSgwKTtcbn07XG5cbi8qKlxyXG4gKiBUZWxscyB3aGV0aGVyIG9ic2VydmVyIGhhcyBhY3RpdmUgb2JzZXJ2YXRpb25zLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXG5SZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuaGFzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18ubGVuZ3RoID4gMDtcbn07XG5cbi8vIFJlZ2lzdHJ5IG9mIGludGVybmFsIG9ic2VydmVycy4gSWYgV2Vha01hcCBpcyBub3QgYXZhaWxhYmxlIHVzZSBjdXJyZW50IHNoaW1cbi8vIGZvciB0aGUgTWFwIGNvbGxlY3Rpb24gYXMgaXQgaGFzIGFsbCByZXF1aXJlZCBtZXRob2RzIGFuZCBiZWNhdXNlIFdlYWtNYXBcbi8vIGNhbid0IGJlIGZ1bGx5IHBvbHlmaWxsZWQgYW55d2F5LlxudmFyIG9ic2VydmVycyA9IHR5cGVvZiBXZWFrTWFwICE9PSAndW5kZWZpbmVkJyA/IG5ldyBXZWFrTWFwKCkgOiBuZXcgTWFwU2hpbSgpO1xuXG4vKipcclxuICogUmVzaXplT2JzZXJ2ZXIgQVBJLiBFbmNhcHN1bGF0ZXMgdGhlIFJlc2l6ZU9ic2VydmVyIFNQSSBpbXBsZW1lbnRhdGlvblxyXG4gKiBleHBvc2luZyBvbmx5IHRob3NlIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgdGhhdCBhcmUgZGVmaW5lZCBpbiB0aGUgc3BlYy5cclxuICovXG52YXIgUmVzaXplT2JzZXJ2ZXIgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXNpemVPYnNlcnZlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uLicpO1xuICAgIH1cbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LicpO1xuICAgIH1cblxuICAgIHZhciBjb250cm9sbGVyID0gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmdldEluc3RhbmNlKCk7XG4gICAgdmFyIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyU1BJKGNhbGxiYWNrLCBjb250cm9sbGVyLCB0aGlzKTtcblxuICAgIG9ic2VydmVycy5zZXQodGhpcywgb2JzZXJ2ZXIpO1xufTtcblxuLy8gRXhwb3NlIHB1YmxpYyBtZXRob2RzIG9mIFJlc2l6ZU9ic2VydmVyLlxuWydvYnNlcnZlJywgJ3Vub2JzZXJ2ZScsICdkaXNjb25uZWN0J10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAocmVmID0gb2JzZXJ2ZXJzLmdldCh0aGlzKSlbbWV0aG9kXS5hcHBseShyZWYsIGFyZ3VtZW50cyk7XG4gICAgICAgIHZhciByZWY7XG4gICAgfTtcbn0pO1xuXG52YXIgaW5kZXggPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIEV4cG9ydCBleGlzdGluZyBpbXBsZW1lbnRhdGlvbiBpZiBhdmFpbGFibGUuXG4gICAgaWYgKHR5cGVvZiBnbG9iYWwkMS5SZXNpemVPYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbCQxLlJlc2l6ZU9ic2VydmVyO1xuICAgIH1cblxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlcjtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGluZGV4O1xuIiwiLy8gSGFjayB0byBnZXQgaHRtbCBzeW50YXggaGlnaGxpZ2h0aW5nIHdpdGhpbiB0ZW1wbGF0ZSBsaXRlcmFsc1xuZXhwb3J0IGRlZmF1bHQgU3RyaW5nLnJhdztcbiIsImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5tanMnO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbnRtcGwuaW5uZXJIVE1MID0gaHRtbGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgICAgZGlzcGxheTogLW1vei1ib3g7XG4gICAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGZsZXg6IDE7XG4gICAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICAgICAgYmFja2dyb3VuZDogdmFyKC0tYWNjZW50LWNvbG9yLCAjZWQxYTU5KTtcbiAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yLCAjMjEyMTIxKTtcbiAgICAgIGZvbnQtc2l6ZTogMi43NWVtO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgYm9yZGVyLXJhZGl1czogMCAwIDE1cHggMTVweDtcbiAgICAgIHRyYW5zaXRpb246IG1heC1oZWlnaHQgMXMgZWFzZSwgZm9udC1zaXplIC43cyBlYXNlLWluLW91dCAuM3M7XG4gICAgfVxuICA8L3N0eWxlPlxuICA8c2xvdD48L3Nsb3Q+XG5gO1xuXG5jbGFzcyBNbVRvb2xiYXIgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS10b29sYmFyJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS10b29sYmFyJywgTW1Ub29sYmFyKTtcbiIsImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5tanMnO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbnRtcGwuaW5uZXJIVE1MID0gaHRtbGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgICAgZGlzcGxheTogLW1vei1ib3g7XG4gICAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgZmxleDogMTtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAucGxheSB7XG4gICAgICBjb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yLCAjZWQxYTU5KTtcbiAgICAgIGZvbnQtc2l6ZTogMi41ZW07XG4gICAgICBwYWRkaW5nOiAxZW07XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBib3JkZXI6IDFweCB2YXIoLS1hY2NlbnQtY29sb3IsICNlZDFhNTkpIHNvbGlkO1xuICAgICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAuNXMgZWFzZTtcbiAgICB9XG5cbiAgICAuaGlkZSB7IFxuICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG5cbiAgICAucGxheTpob3ZlciB7XG4gICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvciwgIzIxMjEyMSk7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IsICNlZDFhNTkpO1xuICAgIH1cblxuICA8L3N0eWxlPlxuICA8c3BhbiBpZD1cInBsYXlCdXR0b25cIiBjbGFzcz1cInBsYXlcIj5QbGF5PC9zcGFuPlxuYDtcblxuY2xhc3MgTW1QbGF5IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgU2hhZHlDU1MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCAnbW0tcGxheScpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5zdHlsZUVsZW1lbnQodGhpcyk7XG4gICAgfVxuICAgIC8vIEF0dGFjaCBhIHNoYWRvdyByb290IHRvIHRoZSBlbGVtZW50LlxuICAgIGxldCBzaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0bXBsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcblxuICAgIHRoaXMucGxheSA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignI3BsYXlCdXR0b24nKTtcbiAgfVxuXG4gIHNldFBsYXlMaXN0ZW5lcihjKSB7XG4gICAgdGhpcy5wbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYyk7XG4gIH1cblxuICBoaWRlKCkge1xuICAgIHRoaXMucGxheS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gIH1cbn1cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21tLXBsYXknLCBNbVBsYXkpO1xuIiwiaW1wb3J0IGh0bWwgZnJvbSAnLi9odG1sLm1qcyc7XG5cbmNvbnN0IHRtcGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xudG1wbC5pbm5lckhUTUwgPSBodG1sYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgYmFja2dyb3VuZDogIzM0MzQzNDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIG9wYWNpdHk6IC4yO1xuICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAuM3MgZWFzZS1pbi1vdXQsIG9wYWNpdHkgLjNzIGVhc2UtaW4tb3V0O1xuICAgIH1cbiAgPC9zdHlsZT5cbmA7XG5cbmNsYXNzIE1tQ2lyY2xlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgU2hhZHlDU1MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCAnbW0tY2lyY2xlJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG5cbiAgc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0LCBzcGFjaW5nKSB7XG4gICAgY29uc3Qgc2l6ZSA9IGAke3dpZHRoID4gaGVpZ2h0ID8gaGVpZ2h0IC0gc3BhY2luZyA6IHdpZHRoIC0gc3BhY2luZ31weGA7XG4gICAgdGhpcy5zdHlsZS53aWR0aCA9IHNpemU7XG4gICAgdGhpcy5zdHlsZS5oZWlnaHQgPSBzaXplO1xuICB9XG5cbiAgc2V0Q29sb3IoY29sb3IpIHtcbiAgICB0aGlzLnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgc2V0U2VsZWN0ZWQoYm9vbCkge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBib29sO1xuICAgIHRoaXMuc2V0QWN0aXZlKHRoaXMuc2VsZWN0ZWQpO1xuICB9XG5cbiAgc2V0QWN0aXZlKGJvb2wpIHtcbiAgICB0aGlzLnN0eWxlLm9wYWNpdHkgPSBib29sID8gMSA6IDAuMjtcbiAgfVxufVxud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbW0tY2lyY2xlJywgTW1DaXJjbGUpO1xuIiwiY29uc3QgY29sb3JzID0gW1xuICAnI0ZBRkFGQScsXG4gICcjRjQ0MzM2JyxcbiAgJyMyMTk2RjMnLFxuICAnIzRDQUY1MCcsXG4gICcjRkZFQjNCJyxcbiAgJyNGRjk4MDAnXG5dO1xuXG5jb25zdCB0cmllcyA9IDEyO1xuXG5leHBvcnQgeyBjb2xvcnMsIHRyaWVzIH07XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcbmltcG9ydCAnLi9tbS1jaXJjbGUubWpzJztcbmltcG9ydCBSZXNpemVPYnNlcnZlciBmcm9tICcuLy4uL25vZGVfbW9kdWxlcy9yZXNpemUtb2JzZXJ2ZXItcG9seWZpbGwvZGlzdC9SZXNpemVPYnNlcnZlci5lcy5qcyc7XG5pbXBvcnQgeyBjb2xvcnMgfSBmcm9tICcuL2NvbmZpZy5tanMnO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbnRtcGwuaW5uZXJIVE1MID0gaHRtbGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBmbGV4OiAxO1xuICAgICAgbWFyZ2luOiAycHg7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgLjdzIGVhc2UtaW4tb3V0O1xuICAgIH1cblxuICAgIC50cmFuc2l0aW9uIHtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAuNXMgZWFzZS1pbi1vdXQsIG1hcmdpbiAxcyBlYXNlLWluLW91dDtcbiAgICB9XG5cbiAgICAuaGlkZGVuIHtcbiAgICAgIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICAgICAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxuXG4gIDwvc3R5bGU+XG4gIDxtbS1jaXJjbGU+PC9tbS1jaXJjbGU+XG4gIDxtbS1jaXJjbGUgY2xhc3M9XCJoaWRkZW5cIj48L21tLWNpcmNsZT5cbiAgPG1tLWNpcmNsZSBjbGFzcz1cImhpZGRlblwiPjwvbW0tY2lyY2xlPlxuICA8bW0tY2lyY2xlIGNsYXNzPVwiaGlkZGVuXCI+PC9tbS1jaXJjbGU+XG4gIDxtbS1jaXJjbGUgY2xhc3M9XCJoaWRkZW5cIj48L21tLWNpcmNsZT5cbiAgPG1tLWNpcmNsZSBjbGFzcz1cImhpZGRlblwiPjwvbW0tY2lyY2xlPlxuYDtcblxuY2xhc3MgTW1Cb2FyZEl0ZW0gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1ib2FyZC1pdGVtJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZG5kID0gZmFsc2U7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmNpcmNsZXMgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ21tLWNpcmNsZScpO1xuICAgIHRoaXMuY2lyY2xlcy5mb3JFYWNoKChjLCBpKSA9PiB7XG4gICAgICBjLnNldFZhbHVlKGkpO1xuICAgICAgYy5zZXRDb2xvcihjb2xvcnNbaV0pO1xuICAgICAgaWYgKCFjLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIGMuYWN0aXZlID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJvID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZW50cnkuY29udGVudFJlY3Q7XG4gICAgICAgIHRoaXMuY2lyY2xlcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnNob3dpbmdDaXJjbGVzIHx8IHRoaXMuYW5pbWF0aW5nKSB7XG4gICAgICAgICAgICBjLnNldFNpemUod2lkdGggLyAxLjIsIGhlaWdodCAvIDEuMiwgNSk7XG4gICAgICAgICAgICBjLnN0eWxlLm1hcmdpbiA9ICcwIDJweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0LCA1KTtcbiAgICAgICAgICAgIGMuc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcm8ub2JzZXJ2ZSh0aGlzKTtcbiAgfVxuXG4gIHNldEFjdGl2ZShib29sKSB7XG4gICAgdGhpcy5hY3RpdmUgPSBib29sO1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZTtcbiAgfVxuXG4gIGFuaW1hdGUoKSB7XG4gICAgdGhpcy5zdHlsZS5mbGV4ID0gdGhpcy5hY3RpdmUgPyAxMCA6IDE7XG4gICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICB0aGlzLnNob3dDaXJjbGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGlkZUNpcmNsZXMoKTtcbiAgICB9XG4gIH1cblxuICBzaG93Q2lyY2xlcygpIHtcbiAgICB0aGlzLnNob3dpbmdDaXJjbGVzID0gdHJ1ZTtcbiAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaCgoYywgaSkgPT4ge1xuICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljaywgdHJ1ZSk7XG4gICAgICBjLnNldEFjdGl2ZSh0cnVlKTtcbiAgICAgIGMuY2xhc3NMaXN0LmFkZCgndHJhbnNpdGlvbicpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9LCAxMDAgKiBpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGhpZGVDaXJjbGVzKCkge1xuICAgIGlmICghdGhpcy5zaG93aW5nQ2lyY2xlcykgcmV0dXJuO1xuICAgIHRoaXMuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICB0aGlzLmRuZCA9IHRydWU7XG4gICAgdGhpcy5jaXJjbGVzLmZvckVhY2goKGMsIGkpID0+IHtcbiAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2ssIHRydWUpO1xuICAgICAgYy5zZXRBY3RpdmUoYy5zZWxlY3RlZCk7XG4gICAgICBpZiAoIWMuYWN0aXZlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjLmNsYXNzTGlzdC5yZW1vdmUoJ3RyYW5zaXRpb24nKTtcbiAgICAgICAgICB9LCA2MDApO1xuICAgICAgICB9LCAxMDAgKiBpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGMuY2xhc3NMaXN0LnJlbW92ZSgndHJhbnNpdGlvbicpO1xuICAgICAgICAgIHRoaXMuZG5kID0gZmFsc2U7XG4gICAgICAgIH0sIDYwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zaG93aW5nQ2lyY2xlcyA9IGZhbHNlO1xuICB9XG5cbiAgb25DbGljayhlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaChjID0+IHtcbiAgICAgIGMuYWN0aXZlID0gYyA9PT0gZS50YXJnZXQ7XG4gICAgICBjLnNldFNlbGVjdGVkKGMgPT09IGUudGFyZ2V0KTtcbiAgICB9KTtcbiAgICB0aGlzLnNldEFjdGl2ZShmYWxzZSk7XG4gICAgdGhpcy5hbmltYXRlKCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc2VsZWN0ZWQnLCB7fSkpO1xuICB9XG5cbiAgZ2V0U2VsZWN0ZWQoKSB7XG4gICAgbGV0IHNlbGVjdGVkID0gbnVsbDtcbiAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaChjID0+IHtcbiAgICAgIGlmIChjLnNlbGVjdGVkKSBzZWxlY3RlZCA9IGM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGVjdGVkO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1ib2FyZC1pdGVtJywgTW1Cb2FyZEl0ZW0pO1xuIiwiaW1wb3J0IGh0bWwgZnJvbSAnLi9odG1sLm1qcyc7XG5pbXBvcnQgJy4vbW0tY2lyY2xlLm1qcyc7XG5pbXBvcnQgUmVzaXplT2JzZXJ2ZXIgZnJvbSAnLi8uLi9ub2RlX21vZHVsZXMvcmVzaXplLW9ic2VydmVyLXBvbHlmaWxsL2Rpc3QvUmVzaXplT2JzZXJ2ZXIuZXMuanMnO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbnRtcGwuaW5uZXJIVE1MID0gaHRtbGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgZmxleDogMDtcbiAgICAgIG1hcmdpbjogMnB4O1xuICAgICAgdHJhbnNpdGlvbjogYWxsIC41cyBlYXNlLWluLW91dDtcbiAgICB9XG5cbiAgICAua2V5cy1yb3cge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXg6IDA7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAuNXMgZWFzZS1pbi1vdXQ7XG4gICAgfVxuXG4gICAgLnNlbmQtY29udGFpbmVyIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4OiAwO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgLjVzIGVhc2UtaW4tb3V0O1xuICAgIH1cblxuICAgIC5zZW5kIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4OiAwO1xuICAgICAgaGVpZ2h0OiB1bnNldDtcbiAgICAgIHdpZHRoOiAwO1xuICAgICAgdHJhbnNpdGlvbjogYWxsIC41cyBlYXNlLWluLW91dDtcbiAgICB9XG5cbiAgICAjYXJyb3cge1xuICAgICAgZmlsbDogI0ZBRkFGQTtcbiAgICB9XG5cbiAgPC9zdHlsZT5cbiAgPGRpdiBjbGFzcz1cImtleXMtcm93XCI+XG4gICAgPG1tLWNpcmNsZT48L21tLWNpcmNsZT5cbiAgICA8bW0tY2lyY2xlPjwvbW0tY2lyY2xlPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cInNlbmQtY29udGFpbmVyXCI+XG4gIDxzdmcgY2xhc3M9XCJzZW5kXCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHdpZHRoPVwiMjRweFwiIGhlaWdodD1cIjI0cHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDI0IDI0XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbiAgICA8ZyBpZD1cImJveGVzXCI+IDxnIGlkPVwidWlfeDVGX3NwZWNfeDVGX2hlYWRlcl9jb3B5XzNcIiBkaXNwbGF5PVwibm9uZVwiPiA8L2c+IDxwYXRoIGZpbGw9XCJub25lXCIgZD1cIk0wLDBoMjR2MjRIMFYwelwiLz4gPC9nPiA8ZyBpZD1cImFycm93XCI+IDxnIGlkPVwidWlfeDVGX3NwZWNfeDVGX2hlYWRlcl9jb3B5XzZcIiBkaXNwbGF5PVwibm9uZVwiPiA8L2c+IDxwYXRoIGQ9XCJNMy40LDIwLjRsMTcuNDUtNy40OGMwLjgxLTAuMzUsMC44MS0xLjQ5LDAtMS44NEwzLjQsMy42QzIuNzQsMy4zMSwyLjAxLDMuOCwyLjAxLDQuNTFMMiw5LjEyYzAsMC41LDAuMzcsMC45MywwLjg3LDAuOTkgTDE3LDEyTDIuODcsMTMuODhDMi4zNywxMy45NSwyLDE0LjM4LDIsMTQuODhsMC4wMSw0LjYxQzIuMDEsMjAuMiwyLjc0LDIwLjY5LDMuNCwyMC40elwiLz4gPC9nPlxuICA8L3N2Zz5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJrZXlzLXJvd1wiPlxuICAgIDxtbS1jaXJjbGU+PC9tbS1jaXJjbGU+XG4gICAgPG1tLWNpcmNsZT48L21tLWNpcmNsZT5cbiAgPC9kaXY+XG5gO1xuXG5jbGFzcyBNbUJvYXJkUmVzdWx0IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgU2hhZHlDU1MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCAnbW0tYm9hcmQtcmVzdWx0Jyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgdGhpcy5zaG93UmVzdWx0ID0gZmFsc2U7XG5cbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcblxuICAgIHRoaXMuc2VuZENvbnRhaW5lciA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnNlbmQtY29udGFpbmVyJyk7XG4gICAgdGhpcy5zZW5kID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcuc2VuZCcpO1xuICAgIHRoaXMuc2VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG5cbiAgICB0aGlzLmtleXNSb3dzID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCcua2V5cy1yb3cnKTtcblxuICAgIHRoaXMuY2lyY2xlcyA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnbW0tY2lyY2xlJyk7XG5cbiAgICBjb25zdCBybyA9IG5ldyBSZXNpemVPYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGVudHJ5LmNvbnRlbnRSZWN0O1xuICAgICAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5zaG93UmVzdWx0KSBjLnNldFNpemUod2lkdGgsIGhlaWdodCwgNSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMua2V5c1Jvd3MuZm9yRWFjaChyID0+IHtcbiAgICAgIHJvLm9ic2VydmUocik7XG4gICAgfSk7XG4gIH1cblxuICBzaG93U2VuZChib29sKSB7XG4gICAgaWYgKGJvb2wgJiYgIXRoaXMuc2hvd1Jlc3VsdCkge1xuICAgICAgdGhpcy5zdHlsZS5mbGV4ID0gMTtcbiAgICAgIHRoaXMuc2VuZENvbnRhaW5lci5zdHlsZS5mbGV4ID0gMTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gKHRoaXMuc2VuZC5zdHlsZS5mbGV4ID0gMSksIDEwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvd1Jlc3VsdCA9IHRydWU7XG4gICAgICB0aGlzLnNlbmRDb250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnZmxleC1lbmQnO1xuICAgICAgdGhpcy5zZW5kLnN0eWxlLmZsZXggPSAwO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2VuZENvbnRhaW5lci5zdHlsZS5mbGV4ID0gMDtcbiAgICAgICAgdGhpcy5rZXlzUm93cy5mb3JFYWNoKHIgPT4ge1xuICAgICAgICAgIHIuc3R5bGUuZmxleCA9IDE7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICBjLnN0eWxlLm1hcmdpbiA9ICcycHgnO1xuICAgICAgICB9KTtcbiAgICAgIH0sIDE1MCk7XG4gICAgfVxuICB9XG5cbiAgc2V0UmVzdWx0KHsgaGl0cywgcHNldWRvSGl0cyB9KSB7XG4gICAgdGhpcy5rZXlzUm93cy5mb3JFYWNoKHIgPT4gKHIuc3R5bGUuZmxleCA9IDEpKTtcbiAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaCgoYywgaSkgPT4ge1xuICAgICAgYy5zZXRBY3RpdmUodHJ1ZSk7XG4gICAgICBpZiAoaGl0cy0tID4gMCkgc2V0VGltZW91dCgoKSA9PiBjLnNldENvbG9yKCdyZWQnKSwgMzAwICogaSk7XG4gICAgICBlbHNlIGlmIChwc2V1ZG9IaXRzLS0gPiAwKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGMuc2V0Q29sb3IoJyNGQUZBRkEnKSwgMzAwICogaSk7XG4gICAgICByZXR1cm47XG4gICAgfSk7XG4gIH1cblxuICBvbkNsaWNrKCkge1xuICAgIHRoaXMuc2hvd1NlbmQoZmFsc2UpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NlbmQnLCB7fSkpO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1ib2FyZC1yZXN1bHQnLCBNbUJvYXJkUmVzdWx0KTtcbiIsImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5tanMnO1xuaW1wb3J0ICcuL21tLWJvYXJkLWl0ZW0ubWpzJztcbmltcG9ydCAnLi9tbS1ib2FyZC1yZXN1bHQubWpzJztcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG50bXBsLmlubmVySFRNTCA9IGh0bWxgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tb3otYm94O1xuICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAuM3MgZWFzZS1pbi1vdXQ7XG4gICAgfVxuXG4gIDwvc3R5bGU+XG4gIDxtbS1ib2FyZC1pdGVtPjwvbW0tYm9hcmQtaXRlbT5cbiAgPG1tLWJvYXJkLWl0ZW0+PC9tbS1ib2FyZC1pdGVtPlxuICA8bW0tYm9hcmQtaXRlbT48L21tLWJvYXJkLWl0ZW0+XG4gIDxtbS1ib2FyZC1pdGVtPjwvbW0tYm9hcmQtaXRlbT5cbiAgPG1tLWJvYXJkLXJlc3VsdD48L21tLWJvYXJkLXJlc3VsdD5cbmA7XG5cbmNsYXNzIE1tQm9hcmRSb3cgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1ib2FyZC1yb3cnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggYSBzaGFkb3cgcm9vdCB0byB0aGUgZWxlbWVudC5cbiAgICBsZXQgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLnZhbGlkYXRlU2VuZCA9IHRoaXMudmFsaWRhdGVTZW5kLmJpbmQodGhpcyk7XG4gICAgdGhpcy52YWxpZGF0ZUNvZGUgPSB0aGlzLnZhbGlkYXRlQ29kZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2V0UmVzdWx0ID0gdGhpcy5zZXRSZXN1bHQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuaXRlbXMgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ21tLWJvYXJkLWl0ZW0nKTtcbiAgICB0aGlzLnJlc3VsdCA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignbW0tYm9hcmQtcmVzdWx0Jyk7XG4gIH1cblxuICBvbkNsaWNrKGUpIHtcbiAgICBjb25zdCBpID0gZS50YXJnZXQ7XG4gICAgaWYgKGkuYWN0aXZlIHx8IGkuZG5kKSByZXR1cm47XG4gICAgbGV0IHdhaXQgPSBmYWxzZTtcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goaSA9PiB7XG4gICAgICBpZiAoaS5zaG93aW5nQ2lyY2xlcykgd2FpdCA9IHRydWU7XG4gICAgICBpLnNldEFjdGl2ZShmYWxzZSk7XG4gICAgICBpLmFuaW1hdGUoKTtcbiAgICB9KTtcbiAgICBpLnNldEFjdGl2ZSh0cnVlKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGkuYW5pbWF0ZSgpO1xuICAgIH0sIHdhaXQgPyA2MDAgOiAyMDApO1xuICB9XG5cbiAgc2V0QWN0aXZlKGJvb2wpIHtcbiAgICB0aGlzLnN0eWxlLmZsZXggPSBib29sID8gMS4xIDogMTtcbiAgICB0aGlzLnN0eWxlLm9wYWNpdHkgPSBib29sIHx8IHRoaXMucmVzdWx0LnNob3dSZXN1bHQgPyAxIDogMC4yO1xuICAgIGlmIChib29sKSB7XG4gICAgICB0aGlzLml0ZW1zLmZvckVhY2goaSA9PiB7XG4gICAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICBpLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVkJywgdGhpcy52YWxpZGF0ZVNlbmQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJlc3VsdC5hZGRFdmVudExpc3RlbmVyKCdzZW5kJywgdGhpcy52YWxpZGF0ZUNvZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLml0ZW1zLmZvckVhY2goaSA9PiB7XG4gICAgICAgIGkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVkJywgdGhpcy52YWxpZGF0ZVNlbmQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJlc3VsdC5yZW1vdmVFdmVudExpc3RlbmVyKCdzZW5kJywgdGhpcy52YWxpZGF0ZUNvZGUpO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlU2VuZCgpIHtcbiAgICBsZXQgYWxsU2VsZWN0ZWQgPSB0cnVlO1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpID0+IHtcbiAgICAgIGlmICghaS5nZXRTZWxlY3RlZCgpKSBhbGxTZWxlY3RlZCA9IGZhbHNlO1xuICAgIH0pO1xuICAgIGlmIChhbGxTZWxlY3RlZCkgdGhpcy5yZXN1bHQuc2hvd1NlbmQodHJ1ZSk7XG4gIH1cblxuICB2YWxpZGF0ZUNvZGUoKSB7XG4gICAgY29uc3QgY29kZSA9IFtdO1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpID0+IHtcbiAgICAgIGkuc2V0QWN0aXZlKGZhbHNlKTtcbiAgICAgIGkuYW5pbWF0ZSgpO1xuICAgICAgY29kZS5wdXNoKGkuZ2V0U2VsZWN0ZWQoKS52YWx1ZSk7XG4gICAgfSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndHJ5JywgeyBkZXRhaWw6IHsgY29kZSB9IH0pKTtcbiAgfVxuXG4gIHNldFJlc3VsdChyZXN1bHQpIHtcbiAgICB0aGlzLnJlc3VsdC5zZXRSZXN1bHQocmVzdWx0KTtcbiAgfVxufVxud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbW0tYm9hcmQtcm93JywgTW1Cb2FyZFJvdyk7XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcbmltcG9ydCAnLi9tbS1ib2FyZC1yb3cubWpzJztcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG50bXBsLmlubmVySFRNTCA9IGh0bWxgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tb3otYm94O1xuICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGZsZXg6IDE7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuXG4gICAgbW0tYm9hcmQtcm93IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4OiAxO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBtYXgtd2lkdGg6IDYwMHB4O1xuICAgICAgdHJhbnNpdGlvbjogYWxsIC41cyBlYXNlO1xuICAgIH1cbiAgPC9zdHlsZT5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbmA7XG5cbmNsYXNzIE1tQm9hcmQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1ib2FyZCcpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5zdHlsZUVsZW1lbnQodGhpcyk7XG4gICAgfVxuICAgIC8vIEF0dGFjaCBhIHNoYWRvdyByb290IHRvIHRoZSBlbGVtZW50LlxuICAgIGxldCBzaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0bXBsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcblxuICAgIHRoaXMudHJ5ID0gdGhpcy50cnkuYmluZCh0aGlzKTtcblxuICAgIHRoaXMucm93cyA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnbW0tYm9hcmQtcm93Jyk7XG4gIH1cblxuICBzZXRHYW1lKG1hc3Rlcikge1xuICAgIHRoaXMubWFzdGVyID0gbWFzdGVyO1xuICAgIHRoaXMuc2V0QWN0aXZlKG1hc3Rlci50cmllcyAtIDEpO1xuICB9XG5cbiAgc2V0QWN0aXZlKGkpIHtcbiAgICB0aGlzLnJvd3MuZm9yRWFjaCgociwgYykgPT4ge1xuICAgICAgaSA9PT0gY1xuICAgICAgICA/IHIuYWRkRXZlbnRMaXN0ZW5lcigndHJ5JywgdGhpcy50cnkpXG4gICAgICAgIDogci5yZW1vdmVFdmVudExpc3RlbmVyKCd0cnknLCB0aGlzLnRyeSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgci5zZXRBY3RpdmUoaSA9PT0gYyk7XG4gICAgICB9LCAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRyeShlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5tYXN0ZXIudHJ5KHsgZ3Vlc3M6IGUuZGV0YWlsLmNvZGUgfSk7XG4gICAgdGhpcy5yb3dzW3Jlc3VsdC50cmllc10uc2V0UmVzdWx0KHJlc3VsdCk7XG4gICAgaWYgKHJlc3VsdC5oaXRzID09IDQpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnV0lOIDpEJyk7XG4gICAgfVxuICAgIGlmICghcmVzdWx0LnRyaWVzKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ0dhbWUgb3ZlciBub29iJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNldEFjdGl2ZShyZXN1bHQudHJpZXMgLSAxKTtcbiAgfVxufVxud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbW0tYm9hcmQnLCBNbUJvYXJkKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hc3RlciB7XG4gIGNvbnN0cnVjdG9yKHsgdHJpZXMgPSAxMiB9ID0ge30pIHtcbiAgICB0aGlzLnNvbHV0aW9uID0gdGhpcy5nZW5lcmF0ZSgpO1xuICAgIHRoaXMudHJpZXMgPSB0cmllcztcbiAgICB0aGlzLnRyeSA9IHRoaXMudHJ5LmJpbmQodGhpcyk7XG4gICAgdGhpcy5ndWVzcyA9IHRoaXMuZ3Vlc3M7XG4gIH1cblxuICB0cnkoeyBndWVzcyA9IFtdIH0pIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLmd1ZXNzKHsgZ3Vlc3MgfSksIHsgdHJpZXM6IC0tdGhpcy50cmllcyB9KTtcbiAgfVxuXG4gIGd1ZXNzKHsgZ3Vlc3MgPSBbXSB9KSB7XG4gICAgaWYgKGd1ZXNzLmxlbmd0aCAhPT0gdGhpcy5zb2x1dGlvbi5sZW5ndGgpIHJldHVybiB7fTtcblxuICAgIGNvbnN0IG9iaiA9IHsgaGl0czogMCwgcHNldWRvSGl0czogMCB9O1xuICAgIGNvbnN0IHNvbHV0aW9uID0gdGhpcy5zb2x1dGlvbi5zbGljZSgpOyAvLyBDb3B5XG4gICAgY29uc3QgZnJlcSA9IG5ldyBBcnJheSh0aGlzLnNvbHV0aW9uLmxlbmd0aCkuZmlsbCgwKTtcblxuICAgIGd1ZXNzLmZvckVhY2goKHYsIGkpID0+IHtcbiAgICAgIGlmICh2ID09PSB0aGlzLnNvbHV0aW9uW2ldKSB7XG4gICAgICAgIG9iai5oaXRzICs9IDE7XG4gICAgICAgIHNvbHV0aW9uW2ldID0gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcmVxW3ZdKys7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmcmVxLmZvckVhY2goKHYsIGkpID0+IHtcbiAgICAgIGlmICh2ID4gMCAmJiB0aGlzLnNvbHV0aW9uLmluY2x1ZGVzKGkpKSBvYmoucHNldWRvSGl0cysrO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGdlbmVyYXRlKCkge1xuICAgIHJldHVybiBuZXcgQXJyYXkoNCkuZmlsbCgwKS5tYXAoKCkgPT4gdGhpcy5yYW5kb20oKSk7XG4gIH1cblxuICByYW5kb20oKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDUpO1xuICB9XG59XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcbmltcG9ydCAnLi9tbS10b29sYmFyLm1qcyc7XG5pbXBvcnQgJy4vbW0tcGxheS5tanMnO1xuaW1wb3J0ICcuL21tLWJvYXJkLm1qcyc7XG5pbXBvcnQgTWFzdGVyIGZyb20gJy4vbWFzdGVyLm1qcyc7XG5cbmNvbnN0IHRtcGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xudG1wbC5pbm5lckhUTUwgPSBodG1sYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgICBkaXNwbGF5OiAtbW96LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xuICAgICAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXg6IDE7XG4gICAgfVxuXG4gICAgbW0tdG9vbGJhci50b29sYmFyIHtcbiAgICAgIG1heC1oZWlnaHQ6IDY0cHg7XG4gICAgICBmb250LXNpemU6IDEuNzVlbTtcbiAgICB9XG4gICAgXG4gIDwvc3R5bGU+XG4gIDxtbS10b29sYmFyIGNsYXNzPVwidG9vbGJhclwiPk1hc3Rlcm1pbmQ8L21tLXRvb2xiYXI+XG4gIDwhLS0gPG1tLXBsYXk+PC9tbS1wbGF5PiAtLT5cbiAgPG1tLWJvYXJkPjwvbW0tYm9hcmQ+XG5gO1xuXG5jbGFzcyBNbUFwcCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAodHlwZW9mIFNoYWR5Q1NTICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodG1wbCwgJ21tLWFwcCcpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5zdHlsZUVsZW1lbnQodGhpcyk7XG4gICAgfVxuICAgIC8vIEF0dGFjaCBhIHNoYWRvdyByb290IHRvIHRoZSBlbGVtZW50LlxuICAgIGxldCBzaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0bXBsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcblxuICAgIHRoaXMudG9vbGJhciA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignbW0tdG9vbGJhcicpO1xuICAgIC8vIHRoaXMucGxheSA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignbW0tcGxheScpO1xuICAgIC8vIHRoaXMucGxheS5zZXRQbGF5TGlzdGVuZXIoKCkgPT4ge1xuICAgIC8vICAgdGhpcy50b29sYmFyLmNsYXNzTGlzdC5hZGQoJ3Rvb2xiYXInKTtcbiAgICAvLyAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5wbGF5LmhpZGUoKSwgNTAwKTtcbiAgICAvLyB9KTtcbiAgICB0aGlzLmJvYXJkID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdtbS1ib2FyZCcpO1xuXG4gICAgdGhpcy5uZXdHYW1lKCk7XG4gIH1cblxuICBuZXdHYW1lKCkge1xuICAgIHRoaXMubWFzdGVyID0gbmV3IE1hc3RlcigpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMubWFzdGVyLnNvbHV0aW9uKTtcbiAgICB0aGlzLmJvYXJkLnNldEdhbWUodGhpcy5tYXN0ZXIpO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1hcHAnLCBNbUFwcCk7XG4iXSwibmFtZXMiOlsicGFyc2VGbG9hdCIsInBvc2l0aW9ucyIsImxlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInJlZHVjZSIsInNpemUiLCJ0b0Zsb2F0Iiwic3R5bGVzIiwiTWF0aCIsImFicyIsImNsaWVudFdpZHRoIiwidGFyZ2V0IiwiY2xpZW50SGVpZ2h0IiwiZ2V0V2luZG93T2YiLCJnZXRDb21wdXRlZFN0eWxlIiwicGFkZGluZ3MiLCJpIiwibGlzdCIsInBvc2l0aW9uIiwidmFsdWUiLCJnZXRQYWRkaW5ncyIsImhvcml6UGFkIiwibGVmdCIsInJpZ2h0IiwidmVydFBhZCIsInRvcCIsImJvdHRvbSIsIndpZHRoIiwiaGVpZ2h0IiwiYm94U2l6aW5nIiwiZ2V0Qm9yZGVyc1NpemUiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImlzRG9jdW1lbnRFbGVtZW50IiwidmVydFNjcm9sbGJhciIsImhvcml6U2Nyb2xsYmFyIiwiY3JlYXRlUmVjdEluaXQiLCJpc0Jyb3dzZXIiLCJpc1NWR0dyYXBoaWNzRWxlbWVudCIsImJib3giLCJnZXRCQm94IiwiZ2V0U1ZHQ29udGVudFJlY3QiLCJnZXRIVE1MRWxlbWVudENvbnRlbnRSZWN0IiwieCIsInkiLCJyb3VuZCIsIlN0cmluZyIsInJhdyIsInRtcGwiLCJpbm5lckhUTUwiLCJodG1sIiwid2luZG93IiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJIVE1MRWxlbWVudCIsIlNoYWR5Q1NTIiwicHJlcGFyZVRlbXBsYXRlIiwic3R5bGVFbGVtZW50IiwidGhpcyIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJhcHBlbmRDaGlsZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJzaGFkb3dSb290IiwicGxheSIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwic2VsZWN0ZWQiLCJzZXRBY3RpdmUiLCJvcGFjaXR5IiwiYm9vbCIsIk1hcFNoaW0iLCJyZXN1bHQiLCJhcnIiLCJzb21lIiwiZW50cnkiLCJNYXAiLCJfX2VudHJpZXNfXyIsInByb3RvdHlwZUFjY2Vzc29ycyIsImNvbmZpZ3VyYWJsZSIsImdldCIsImFub255bW91cyIsInByb3RvdHlwZSIsImluZGV4IiwiZ2V0SW5kZXgiLCJzZXQiLCJwdXNoIiwiZGVsZXRlIiwiZW50cmllcyIsInNwbGljZSIsImhhcyIsImNsZWFyIiwiZm9yRWFjaCIsImN0eCIsImNhbGxiYWNrIiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnRpZXMiLCJnbG9iYWwkMSIsImdsb2JhbCIsInNlbGYiLCJGdW5jdGlvbiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSQxIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsInNldFRpbWVvdXQiLCJEYXRlIiwibm93IiwidHJhbnNpdGlvbktleXMiLCJtdXRhdGlvbk9ic2VydmVyU3VwcG9ydGVkIiwiTXV0YXRpb25PYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyQ29udHJvbGxlciIsImNvbm5lY3RlZF8iLCJtdXRhdGlvbkV2ZW50c0FkZGVkXyIsIm11dGF0aW9uc09ic2VydmVyXyIsIm9ic2VydmVyc18iLCJvblRyYW5zaXRpb25FbmRfIiwicmVmcmVzaCIsImxlYWRpbmdDYWxsIiwidHJhaWxpbmdDYWxsIiwicHJveHkiLCJ0aW1lU3RhbXAiLCJsYXN0Q2FsbFRpbWUiLCJ0aHJvdHRsZSIsImFkZE9ic2VydmVyIiwiaW5kZXhPZiIsImNvbm5lY3RfIiwicmVtb3ZlT2JzZXJ2ZXIiLCJvYnNlcnZlcnMiLCJkaXNjb25uZWN0XyIsInVwZGF0ZU9ic2VydmVyc18iLCJhY3RpdmVPYnNlcnZlcnMiLCJmaWx0ZXIiLCJvYnNlcnZlciIsImdhdGhlckFjdGl2ZSIsImhhc0FjdGl2ZSIsImJyb2FkY2FzdEFjdGl2ZSIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwiY2hpbGRMaXN0IiwiY2hhcmFjdGVyRGF0YSIsInN1YnRyZWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzY29ubmVjdCIsInByb3BlcnR5TmFtZSIsInJlZiIsImdldEluc3RhbmNlIiwiaW5zdGFuY2VfIiwiZGVmaW5lQ29uZmlndXJhYmxlIiwia2V5cyIsImRlZmluZVByb3BlcnR5IiwicHJvcHMiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJlbXB0eVJlY3QiLCJTVkdHcmFwaGljc0VsZW1lbnQiLCJTVkdFbGVtZW50IiwiUmVzaXplT2JzZXJ2YXRpb24iLCJicm9hZGNhc3RXaWR0aCIsImJyb2FkY2FzdEhlaWdodCIsImNvbnRlbnRSZWN0XyIsImlzQWN0aXZlIiwicmVjdCIsImdldENvbnRlbnRSZWN0IiwiYnJvYWRjYXN0UmVjdCIsIlJlc2l6ZU9ic2VydmVyRW50cnkiLCJDb25zdHIiLCJjb250ZW50UmVjdCIsIkRPTVJlY3RSZWFkT25seSIsImNyZWF0ZSIsIlJlc2l6ZU9ic2VydmVyU1BJIiwiYWN0aXZlT2JzZXJ2YXRpb25zXyIsIm9ic2VydmF0aW9uc18iLCJUeXBlRXJyb3IiLCJjYWxsYmFja18iLCJjb250cm9sbGVyXyIsImNhbGxiYWNrQ3R4XyIsIkVsZW1lbnQiLCJvYnNlcnZhdGlvbnMiLCJ1bm9ic2VydmUiLCJjbGVhckFjdGl2ZSIsInRoaXMkMSIsIm9ic2VydmF0aW9uIiwibWFwIiwiV2Vha01hcCIsIlJlc2l6ZU9ic2VydmVyIiwiY29udHJvbGxlciIsImFwcGx5IiwiY29sb3JzIiwiY3JlYXRlRWxlbWVudCIsImFjdGl2ZSIsImFuaW1hdGluZyIsImRuZCIsIm9uQ2xpY2siLCJjaXJjbGVzIiwicXVlcnlTZWxlY3RvckFsbCIsInNldFZhbHVlIiwic2V0Q29sb3IiLCJjIiwiY29udGFpbnMiLCJzaG93aW5nQ2lyY2xlcyIsInNldFNpemUiLCJtYXJnaW4iLCJmbGV4Iiwic2hvd0NpcmNsZXMiLCJoaWRlQ2lyY2xlcyIsInJlbW92ZSIsInN0b3BQcm9wYWdhdGlvbiIsImUiLCJzZXRTZWxlY3RlZCIsImFuaW1hdGUiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJzaG93UmVzdWx0Iiwic2VuZENvbnRhaW5lciIsInNlbmQiLCJrZXlzUm93cyIsInJvIiwiciIsImp1c3RpZnlDb250ZW50IiwiaGl0cyIsInBzZXVkb0hpdHMiLCJzaG93U2VuZCIsInZhbGlkYXRlU2VuZCIsInZhbGlkYXRlQ29kZSIsInNldFJlc3VsdCIsIml0ZW1zIiwid2FpdCIsImFsbFNlbGVjdGVkIiwiZ2V0U2VsZWN0ZWQiLCJjb2RlIiwiZGV0YWlsIiwidHJ5Iiwicm93cyIsIm1hc3RlciIsInRyaWVzIiwiZ3Vlc3MiLCJjb25zb2xlIiwibG9nIiwic29sdXRpb24iLCJnZW5lcmF0ZSIsImFzc2lnbiIsIm9iaiIsInNsaWNlIiwiZnJlcSIsIkFycmF5IiwiZmlsbCIsInYiLCJpbmNsdWRlcyIsInJhbmRvbSIsInRvb2xiYXIiLCJib2FyZCIsIm5ld0dhbWUiLCJzZXRHYW1lIl0sIm1hcHBpbmdzIjoieUJBaWdCQSxjQUNJLE1BQU9BLGdCQUFxQixDQVVoQyxlQUVJLElBREEsR0FBSUMsS0FBSixDQUFvQkMsRUFBTUMsVUFBVUMsTUFBVkQsQ0FBbUIsQ0FDN0MsQ0FBZ0IsQ0FBUkQsSUFBUixFQUFvQkQsS0FBbUJFLFVBQVdELEVBQU0sQ0FBakJDLENBQW5CRixDQUVwQixNQUFPQSxHQUFVSSxNQUFWSixDQUFpQixjQUdwQixNQUFPSyxHQUFPQyxFQUZGQyxFQUFPLFlBQXVCLFFBQTlCQSxDQUVFRCxFQUhYTixDQUlKLENBSklBLENBK0NYLHFCQWlFWVEsS0FBS0MsSUE5RFRDLEVBQWNDLEVBQU9ELFlBQ3JCRSxFQUFlRCxFQUFPQyxhQVUxQixTQUFBLENBQ0ksU0FHSixHQUFJTCxHQUFTTSxLQUFvQkMsZ0JBQXBCRCxHQUFiLENBQ0lFLEVBckRSLFlBSUksSUFIQSxHQUNJQSxLQURKLENBR1NDLEVBQUksQ0FIYixDQUdnQkMsR0FIQyxNQUFPLFFBQVMsU0FBVSxPQUczQyxDQUFrQ0QsRUFBSUMsRUFBS2QsTUFBM0MsQ0FBbURhLEdBQUssQ0FBeEQsQ0FBMkQsQ0FDdkQsR0FBSUUsR0FBV0QsSUFBZixDQUVJRSxFQUFRWixFQUFPLFlBQVBBLENBRlosQ0FJQVEsS0FBcUJULElBR3pCLFNBeUNlYyxDQXJEbkIsR0FvREksQ0FFSUMsRUFBV04sRUFBU08sSUFBVFAsQ0FBZ0JBLEVBQVNRLEtBRnhDLENBR0lDLEVBQVVULEVBQVNVLEdBQVRWLENBQWVBLEVBQVNXLE1BSHRDLENBU0lDLEVBQVFyQixFQUFRQyxFQUFPb0IsS0FBZnJCLENBVFosQ0FVSXNCLEVBQVN0QixFQUFRQyxFQUFPcUIsTUFBZnRCLENBVmIsQ0FrQ0EsR0FwQnlCLGVBQXJCQyxFQUFPc0IsU0FBYyxHQU9qQnJCLEVBQVdtQixHQUFYbkIsUUFDQW1CLEdB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
