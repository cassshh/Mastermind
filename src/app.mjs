!function(){"use strict";function j(a){return parseFloat(a)||0}function f(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return b.reduce(function(b,c){return b+j(a["border-"+c+"-width"])},0)}function c(b){var e=Math.abs,h=b.clientWidth,k=b.clientHeight;if(!h&&!k)return u;var p=m(b).getComputedStyle(b),q=function(a){for(var b={},c=0,d=["top","right","bottom","left"];c<d.length;c+=1){var e=d[c],f=a["padding-"+e];b[e]=j(f)}return b}(p),n=q.left+q.right,o=q.top+q.bottom,r=j(p.width),a=j(p.height);if("border-box"===p.boxSizing&&(g(r+n)!==h&&(r-=f(p,"left","right")+n),g(a+o)!==k&&(a-=f(p,"top","bottom")+o)),!function(a){return a===m(a).document.documentElement}(b)){var c=g(r+n)-h,l=g(a+o)-k;1!==e(c)&&(r-=c),1!==e(l)&&(a-=l)}return v(q.left,q.top,r,a)}function q(a){return n?p(a)?function(a){var b=a.getBBox();return v(0,0,b.width,b.height)}(a):c(a):u}function v(a,b,c,d){return{x:a,y:b,width:c,height:d}}var g=Math.round,w=String.raw;const e=document.createElement("template");e.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      width: 100%;
      flex: 1;
      max-height: 100%;
      background: var(--accent-color, #ed1a59);
      color: var(--primary-color, #212121);
      font-size: 2.75em;
      align-items: center;
      justify-content: center;
      border-radius: 0 0 15px 15px;
      transition: max-height 1s ease, font-size .7s ease-in-out .3s;
    }
  </style>
  <slot></slot>
`,window.customElements.define("mm-toolbar",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(e,"mm-toolbar"),ShadyCSS.styleElement(this)),this.attachShadow({mode:"open"}).appendChild(e.content.cloneNode(!0))}});const t=document.createElement("template");t.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex-direction: column;
      flex: 1;
      align-items: center;
      justify-content: center;
    }

    .play {
      color: var(--accent-color, #ed1a59);
      font-size: 2.5em;
      padding: 1em;
      cursor: pointer;
      border: 1px var(--accent-color, #ed1a59) solid;
      border-radius: 15px;
      transition: all .5s ease;
    }

    .hide { 
      opacity: 0;
    }

    .play:hover {
      color: var(--primary-color, #212121);
      background-color: var(--accent-color, #ed1a59);
    }

  </style>
  <span id="playButton" class="play">Play</span>
`,window.customElements.define("mm-play",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(t,"mm-play"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(t.content.cloneNode(!0)),this.play=a.querySelector("#playButton")}setPlayListener(a){this.play.addEventListener("click",a)}hide(){this.play.classList.add("hide")}});const i=document.createElement("template");i.innerHTML=w`
  <style>
    :host {
      background: #343434;
      border-radius: 50%;
      opacity: .2;
      transition: background .3s ease-in-out, opacity .3s ease-in-out;
    }
  </style>
`,window.customElements.define("mm-circle",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(i,"mm-circle"),ShadyCSS.styleElement(this)),this.attachShadow({mode:"open"}).appendChild(i.content.cloneNode(!0))}setSize(a,b,c){const d=`${a>b?b-c:a-c}px`;this.style.width=d,this.style.height=d}setColor(a){this.style.background=a}setValue(a){this.value=a}setSelected(a){this.selected=a,this.setActive(this.selected)}setActive(a){this.style.opacity=a?1:.2}});var s=function(){function a(a,b){var c=-1;return a.some(function(a,d){return a[0]===b&&(c=d,!0)}),c}return"undefined"==typeof Map?function(){function b(){this.__entries__=[]}var c={size:{configurable:!0}};return c.size.get=function(){return this.__entries__.length},b.prototype.get=function(b){var c=a(this.__entries__,b),d=this.__entries__[c];return d&&d[1]},b.prototype.set=function(b,c){var d=a(this.__entries__,b);~d?this.__entries__[d][1]=c:this.__entries__.push([b,c])},b.prototype.delete=function(b){var c=this.__entries__,d=a(c,b);~d&&c.splice(d,1)},b.prototype.has=function(b){return!!~a(this.__entries__,b)},b.prototype.clear=function(){this.__entries__.splice(0)},b.prototype.forEach=function(a,b){void 0===b&&(b=null);for(var c,d=0,e=this.__entries__;d<e.length;d+=1)c=e[d],a.call(b,c[1],c[0])},Object.defineProperties(b.prototype,c),b}():Map}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,d=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(a,b){function c(){f&&(f=!1,a()),g&&e()}function d(){r(c)}function e(){var a=Date.now();if(f){if(a-h<2)return;g=!0}else f=!0,g=!1,setTimeout(d,b);h=a}var f=!1,g=!1,h=0;return e}(this.refresh.bind(this),20)};d.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()},d.prototype.removeObserver=function(a){var b=this.observers_,c=b.indexOf(a);~c&&b.splice(c,1),!b.length&&this.connected_&&this.disconnect_()},d.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},d.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return a.forEach(function(a){return a.broadcastActive()}),0<a.length},d.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},d.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},d.prototype.onTransitionEnd_=function(b){var c=b.propertyName;void 0===c&&(c=""),a.some(function(a){return!!~c.indexOf(a)})&&this.refresh()},d.getInstance=function(){return this.instance_||(this.instance_=new d),this.instance_},d.instance_=null;var h=function(a,b){for(var c,d=0,e=Object.keys(b);d<e.length;d+=1)c=e[d],Object.defineProperty(a,c,{value:b[c],enumerable:!1,writable:!1,configurable:!0});return a},m=function(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView||o},u=v(0,0,0,0),p="undefined"==typeof SVGGraphicsElement?function(a){return a instanceof m(a).SVGElement&&"function"==typeof a.getBBox}:function(a){return a instanceof m(a).SVGGraphicsElement},b=function(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=a};b.prototype.isActive=function(){var a=q(this.target);return this.contentRect_=a,a.width!==this.broadcastWidth||a.height!==this.broadcastHeight},b.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a};var y=function(b,d){var f,g,i,j,k,m,a,c=(g=(f=d).x,i=f.y,j=f.width,k=f.height,m="undefined"==typeof DOMRectReadOnly?Object:DOMRectReadOnly,a=Object.create(m.prototype),h(a,{x:g,y:i,width:j,height:k,top:i,right:g+j,bottom:k+i,left:g}),a);h(this,{target:b,contentRect:c})},B=function(a,b,c){if(this.activeObservations_=[],this.observations_=new s,"function"!=typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a,this.controller_=b,this.callbackCtx_=c};B.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof m(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var c=this.observations_;c.has(a)||(c.set(a,new b(a)),this.controller_.addObserver(this),this.controller_.refresh())}},B.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof m(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)&&(b.delete(a),b.size||this.controller_.removeObserver(this))}},B.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},B.prototype.gatherActive=function(){var a=this;this.clearActive(),this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})},B.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new y(a.target,a.broadcastRect())});this.callback_.call(a,b,a),this.clearActive()}},B.prototype.clearActive=function(){this.activeObservations_.splice(0)},B.prototype.hasActive=function(){return 0<this.activeObservations_.length};var x="undefined"==typeof WeakMap?new s:new WeakMap,D=function(a){if(!(this instanceof D))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var b=d.getInstance(),c=new B(a,b,this);x.set(this,c)};["observe","unobserve","disconnect"].forEach(function(a){D.prototype[a]=function(){return(b=x.get(this))[a].apply(b,arguments);var b}});var C=void 0===o.ResizeObserver?D:o.ResizeObserver;const k=["#FAFAFA","#F44336","#2196F3","#4CAF50","#FFEB3B","#FF9800"],A=document.createElement("template");A.innerHTML=w`
  <style>
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
      flex: 1;
      margin: 2px;
      transition: all .7s ease-in-out;
    }

    .transition {
      transition: all .5s ease-in-out, margin 1s ease-in-out;
    }

    .hidden {
      height: 0 !important;
      width: 0 !important;
      opacity: 0;
    }

  </style>
  <mm-circle></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
  <mm-circle class="hidden"></mm-circle>
`,window.customElements.define("mm-board-item",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(A,"mm-board-item"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(A.content.cloneNode(!0)),this.active=!1,this.animating=!1,this.dnd=!1,this.onClick=this.onClick.bind(this),this.circles=a.querySelectorAll("mm-circle"),this.circles.forEach((a,b)=>{a.setValue(b),a.setColor(k[b]),a.classList.contains("hidden")||(a.active=!0)}),new C((a)=>{for(const b of a){const{width:a,height:c}=b.contentRect;this.circles.forEach((b)=>{this.showingCircles||this.animating?(b.setSize(a/1.2,c/1.2,5),b.style.margin="0 2px"):(b.setSize(a,c,5),b.style.margin="0")})}}).observe(this)}setActive(a){return this.active=a,this.active}animate(){this.style.flex=this.active?10:1,this.active?this.showCircles():this.hideCircles()}showCircles(){this.showingCircles=!0,this.circles.forEach((a,b)=>{a.addEventListener("click",this.onClick,!0),a.setActive(!0),a.classList.add("transition"),setTimeout(()=>{a.classList.remove("hidden")},100*b)})}hideCircles(){this.showingCircles&&(this.animating=!0,this.dnd=!0,this.circles.forEach((a,b)=>{a.removeEventListener("click",this.onClick,!0),a.setActive(a.selected),a.active?(this.animating=!1,setTimeout(()=>{a.classList.remove("transition"),this.dnd=!1},600)):setTimeout(()=>{a.classList.add("hidden"),setTimeout(()=>{a.classList.remove("transition")},600)},100*b)}),this.showingCircles=!1)}onClick(a){a.stopPropagation(),this.circles.forEach((b)=>{b.active=b===a.target,b.setSelected(b===a.target)}),this.setActive(!1),this.animate(),this.dispatchEvent(new CustomEvent("selected",{}))}getSelected(){let a=null;return this.circles.forEach((b)=>{b.selected&&(a=b)}),a}});const E=document.createElement("template");E.innerHTML=w`
  <style>
    :host {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex: 0;
      margin: 2px;
      transition: all .5s ease-in-out;
    }

    .keys-row {
      display: flex;
      flex: 0;
      width: 100%;
      align-items: center;
      justify-content: center;
      transition: all .5s ease-in-out;
    }

    .send-container {
      display: flex;
      flex: 0;
      width: 100%;
      transition: all .5s ease-in-out;
    }

    .send {
      display: flex;
      flex: 0;
      height: unset;
      width: 0;
      transition: all .5s ease-in-out;
    }

    #arrow {
      fill: #FAFAFA;
    }

  </style>
  <div class="keys-row">
    <mm-circle></mm-circle>
    <mm-circle></mm-circle>
  </div>
  <div class="send-container">
  <svg class="send" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
    <g id="boxes"> <g id="ui_x5F_spec_x5F_header_copy_3" display="none"> </g> <path fill="none" d="M0,0h24v24H0V0z"/> </g> <g id="arrow"> <g id="ui_x5F_spec_x5F_header_copy_6" display="none"> </g> <path d="M3.4,20.4l17.45-7.48c0.81-0.35,0.81-1.49,0-1.84L3.4,3.6C2.74,3.31,2.01,3.8,2.01,4.51L2,9.12c0,0.5,0.37,0.93,0.87,0.99 L17,12L2.87,13.88C2.37,13.95,2,14.38,2,14.88l0.01,4.61C2.01,20.2,2.74,20.69,3.4,20.4z"/> </g>
  </svg>
  </div>
  <div class="keys-row">
    <mm-circle></mm-circle>
    <mm-circle></mm-circle>
  </div>
`,window.customElements.define("mm-board-result",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(E,"mm-board-result"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(E.content.cloneNode(!0)),this.showResult=!1,this.onClick=this.onClick.bind(this),this.sendContainer=a.querySelector(".send-container"),this.send=a.querySelector(".send"),this.send.addEventListener("click",this.onClick),this.keysRows=a.querySelectorAll(".keys-row"),this.circles=a.querySelectorAll("mm-circle");const b=new C((a)=>{for(const b of a){const{width:a,height:c}=b.contentRect;this.circles.forEach((b)=>{this.showResult&&b.setSize(a,c,5)})}});this.keysRows.forEach((a)=>{b.observe(a)})}showSend(a){a&&!this.showResult?(this.style.flex=1,this.sendContainer.style.flex=1,setTimeout(()=>this.send.style.flex=1,100)):(this.showResult=!0,this.sendContainer.style.justifyContent="flex-end",this.send.style.flex=0,setTimeout(()=>{this.sendContainer.style.flex=0,this.keysRows.forEach((a)=>{a.style.flex=1}),this.circles.forEach((a)=>{a.style.margin="2px"})},150))}setResult({hits:a,pseudoHits:b}){this.keysRows.forEach((a)=>a.style.flex=1),this.circles.forEach((c,d)=>{c.setActive(!0),0<a--?setTimeout(()=>c.setColor("red"),300*d):0<b--&&setTimeout(()=>c.setColor("#FAFAFA"),300*d)})}onClick(){this.showSend(!1),this.dispatchEvent(new CustomEvent("send",{}))}});const F=document.createElement("template");F.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      transition: opacity .3s ease-in-out;
    }

  </style>
  <mm-board-item></mm-board-item>
  <mm-board-item></mm-board-item>
  <mm-board-item></mm-board-item>
  <mm-board-item></mm-board-item>
  <mm-board-result></mm-board-result>
`,window.customElements.define("mm-board-row",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(F,"mm-board-row"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(F.content.cloneNode(!0)),this.onClick=this.onClick.bind(this),this.validateSend=this.validateSend.bind(this),this.validateCode=this.validateCode.bind(this),this.setResult=this.setResult.bind(this),this.items=a.querySelectorAll("mm-board-item"),this.result=a.querySelector("mm-board-result")}onClick(a){const b=a.target;if(b.active||b.dnd)return;let c=!1;this.items.forEach((a)=>{a.showingCircles&&(c=!0),a.setActive(!1),a.animate()}),b.setActive(!0),setTimeout(()=>{b.animate()},c?600:200)}setActive(a){this.style.flex=a?1.1:1,this.style.opacity=a||this.result.showResult?1:.2,a?(this.items.forEach((a)=>{a.addEventListener("click",this.onClick),a.addEventListener("selected",this.validateSend)}),this.result.addEventListener("send",this.validateCode)):(this.items.forEach((a)=>{a.removeEventListener("click",this.onClick),a.removeEventListener("selected",this.validateSend)}),this.result.removeEventListener("send",this.validateCode))}validateSend(){let a=!0;this.items.forEach((b)=>{b.getSelected()||(a=!1)}),a&&this.result.showSend(!0)}validateCode(){const a=[];this.items.forEach((b)=>{b.setActive(!1),b.animate(),a.push(b.getSelected().value)}),this.dispatchEvent(new CustomEvent("try",{detail:{code:a}}))}setResult(a){this.result.setResult(a)}});const G=document.createElement("template");G.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex-direction: column;
      flex: 1;
      align-items: center;
      justify-content: center;
    }

    mm-board-row {
      display: flex;
      flex: 1;
      width: 100%;
      max-width: 600px;
      transition: all .5s ease;
    }
  </style>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
  <mm-board-row></mm-board-row>
`,window.customElements.define("mm-board",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(G,"mm-board"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(G.content.cloneNode(!0)),this.try=this.try.bind(this),this.rows=a.querySelectorAll("mm-board-row")}setGame(a){this.master=a,this.setActive(a.tries-1)}setActive(a){this.rows.forEach((b,c)=>{a===c?b.addEventListener("try",this.try):b.removeEventListener("try",this.try),setTimeout(()=>{b.setActive(a===c)},0)})}try(a){const b=this.master.try({guess:a.detail.code});return this.rows[b.tries].setResult(b),4==b.hits?(this.rows[b.tries].setActive(!1),console.log("WIN :D")):b.tries?this.setActive(b.tries-1):(this.rows[b.tries].setActive(!1),console.log("Game over noob"))}});class H{constructor({tries:a=12}={}){this.solution=this.generate(),this.tries=a,this.try=this.try.bind(this),this.guess=this.guess}try({guess:a=[]}){return Object.assign(this.guess({guess:a}),{tries:--this.tries})}guess({guess:a=[]}){if(a.length!==this.solution.length)return{};const b={hits:0,pseudoHits:0},c=this.solution.slice(),d=Array(this.solution.length).fill(0);return a.forEach((a,e)=>{a===this.solution[e]?(b.hits+=1,c[e]=-1):d[a]++}),d.forEach((a,c)=>{0<a&&this.solution.includes(c)&&b.pseudoHits++}),b}generate(){return[,,,,].fill(0).map(()=>this.random())}random(){return g(5*Math.random())}}const I=document.createElement("template");I.innerHTML=w`
  <style>
    :host {
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
      flex: 1;
    }

    mm-toolbar.toolbar {
      max-height: 64px;
      font-size: 1.75em;
    }
    
  </style>
  <mm-toolbar class="toolbar">Mastermind</mm-toolbar>
  <!-- <mm-play></mm-play> -->
  <mm-board></mm-board>
`,window.customElements.define("mm-app",class extends HTMLElement{constructor(){super(),"undefined"!=typeof ShadyCSS&&(ShadyCSS.prepareTemplate(I,"mm-app"),ShadyCSS.styleElement(this));let a=this.attachShadow({mode:"open"});a.appendChild(I.content.cloneNode(!0)),this.toolbar=a.querySelector("mm-toolbar"),this.board=a.querySelector("mm-board"),this.newGame()}newGame(){this.master=new H,console.log(this.master.solution),this.board.setGame(this.master)}})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLm1qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc2l6ZS1vYnNlcnZlci1wb2x5ZmlsbC9kaXN0L1Jlc2l6ZU9ic2VydmVyLmVzLmpzIiwiLi4vLi4vc3JjL2h0bWwubWpzIiwiLi4vLi4vc3JjL21tLXRvb2xiYXIubWpzIiwiLi4vLi4vc3JjL21tLXBsYXkubWpzIiwiLi4vLi4vc3JjL21tLWNpcmNsZS5tanMiLCIuLi8uLi9zcmMvY29uZmlnLm1qcyIsIi4uLy4uL3NyYy9tbS1ib2FyZC1pdGVtLm1qcyIsIi4uLy4uL3NyYy9tbS1ib2FyZC1yZXN1bHQubWpzIiwiLi4vLi4vc3JjL21tLWJvYXJkLXJvdy5tanMiLCIuLi8uLi9zcmMvbW0tYm9hcmQubWpzIiwiLi4vLi4vc3JjL21hc3Rlci5tanMiLCIuLi8uLi9zcmMvbW0tYXBwLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQSBjb2xsZWN0aW9uIG9mIHNoaW1zIHRoYXQgcHJvdmlkZSBtaW5pbWFsIGZ1bmN0aW9uYWxpdHkgb2YgdGhlIEVTNiBjb2xsZWN0aW9ucy5cclxuICpcclxuICogVGhlc2UgaW1wbGVtZW50YXRpb25zIGFyZSBub3QgbWVhbnQgdG8gYmUgdXNlZCBvdXRzaWRlIG9mIHRoZSBSZXNpemVPYnNlcnZlclxyXG4gKiBtb2R1bGVzIGFzIHRoZXkgY292ZXIgb25seSBhIGxpbWl0ZWQgcmFuZ2Ugb2YgdXNlIGNhc2VzLlxyXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIHJlcXVpcmUtanNkb2MsIHZhbGlkLWpzZG9jICovXG52YXIgTWFwU2hpbSA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBNYXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBNYXA7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGluZGV4IGluIHByb3ZpZGVkIGFycmF5IHRoYXQgbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIGtleS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5PEFycmF5Pn0gYXJyXHJcbiAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEluZGV4KGFyciwga2V5KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSAtMTtcblxuICAgICAgICBhcnIuc29tZShmdW5jdGlvbiAoZW50cnksIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGluZGV4O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXR1cm4gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gYW5vbnltb3VzKCkge1xuICAgICAgICAgICAgdGhpcy5fX2VudHJpZXNfXyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgc2l6ZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICAgICAqL1xuICAgICAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2l6ZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fX2VudHJpZXNfXy5sZW5ndGg7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBrZXlcclxuICAgICAgICAgKiBAcmV0dXJucyB7Kn1cclxuICAgICAgICAgKi9cbiAgICAgICAgYW5vbnltb3VzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBnZXRJbmRleCh0aGlzLl9fZW50cmllc19fLCBrZXkpO1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy5fX2VudHJpZXNfX1tpbmRleF07XG5cbiAgICAgICAgICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeVsxXTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cbiAgICAgICAgYW5vbnltb3VzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXgodGhpcy5fX2VudHJpZXNfXywga2V5KTtcblxuICAgICAgICAgICAgaWYgKH5pbmRleCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX19baW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX19lbnRyaWVzX18ucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0ga2V5XHJcbiAgICAgICAgICogQHJldHVybnMge3ZvaWR9XHJcbiAgICAgICAgICovXG4gICAgICAgIGFub255bW91cy5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLl9fZW50cmllc19fO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXgoZW50cmllcywga2V5KTtcblxuICAgICAgICAgICAgaWYgKH5pbmRleCkge1xuICAgICAgICAgICAgICAgIGVudHJpZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0geyp9IGtleVxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xuICAgICAgICBhbm9ueW1vdXMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAhIX5nZXRJbmRleCh0aGlzLl9fZW50cmllc19fLCBrZXkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICAgICAqL1xuICAgICAgICBhbm9ueW1vdXMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fX2VudHJpZXNfXy5zcGxpY2UoMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICAgICAgICAgKiBAcGFyYW0geyp9IFtjdHg9bnVsbF1cclxuICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAgICAgKi9cbiAgICAgICAgYW5vbnltb3VzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBjdHgpIHtcbiAgICAgICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCBjdHggPT09IHZvaWQgMCApIGN0eCA9IG51bGw7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gdGhpcyQxLl9fZW50cmllc19fOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IGxpc3RbaV07XG5cbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKGN0eCwgZW50cnlbMV0sIGVudHJ5WzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggYW5vbnltb3VzLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICAgICAgcmV0dXJuIGFub255bW91cztcbiAgICB9KCkpO1xufSkoKTtcblxuLyoqXHJcbiAqIERldGVjdHMgd2hldGhlciB3aW5kb3cgYW5kIGRvY3VtZW50IG9iamVjdHMgYXJlIGF2YWlsYWJsZSBpbiBjdXJyZW50IGVudmlyb25tZW50LlxyXG4gKi9cbnZhciBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCA9PT0gZG9jdW1lbnQ7XG5cbi8vIFJldHVybnMgZ2xvYmFsIG9iamVjdCBvZiBhIGN1cnJlbnQgZW52aXJvbm1lbnQuXG52YXIgZ2xvYmFsJDEgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWwuTWF0aCA9PT0gTWF0aCkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09PSBNYXRoKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PT0gTWF0aCkge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xuICAgIHJldHVybiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xufSkoKTtcblxuLyoqXHJcbiAqIEEgc2hpbSBmb3IgdGhlIHJlcXVlc3RBbmltYXRpb25GcmFtZSB3aGljaCBmYWxscyBiYWNrIHRvIHRoZSBzZXRUaW1lb3V0IGlmXHJcbiAqIGZpcnN0IG9uZSBpcyBub3Qgc3VwcG9ydGVkLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXF1ZXN0cycgaWRlbnRpZmllci5cclxuICovXG52YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIEl0J3MgcmVxdWlyZWQgdG8gdXNlIGEgYm91bmRlZCBmdW5jdGlvbiBiZWNhdXNlIElFIHNvbWV0aW1lcyB0aHJvd3NcbiAgICAgICAgLy8gYW4gXCJJbnZhbGlkIGNhbGxpbmcgb2JqZWN0XCIgZXJyb3IgaWYgckFGIGlzIGludm9rZWQgd2l0aG91dCB0aGUgZ2xvYmFsXG4gICAgICAgIC8vIG9iamVjdCBvbiB0aGUgbGVmdCBoYW5kIHNpZGUuXG4gICAgICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYmluZChnbG9iYWwkMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykgeyByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFjayhEYXRlLm5vdygpKTsgfSwgMTAwMCAvIDYwKTsgfTtcbn0pKCk7XG5cbi8vIERlZmluZXMgbWluaW11bSB0aW1lb3V0IGJlZm9yZSBhZGRpbmcgYSB0cmFpbGluZyBjYWxsLlxudmFyIHRyYWlsaW5nVGltZW91dCA9IDI7XG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgd3JhcHBlciBmdW5jdGlvbiB3aGljaCBlbnN1cmVzIHRoYXQgcHJvdmlkZWQgY2FsbGJhY2sgd2lsbCBiZVxyXG4gKiBpbnZva2VkIG9ubHkgb25jZSBkdXJpbmcgdGhlIHNwZWNpZmllZCBkZWxheSBwZXJpb2QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciB0aGUgZGVsYXkgcGVyaW9kLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgLSBEZWxheSBhZnRlciB3aGljaCB0byBpbnZva2UgY2FsbGJhY2suXHJcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cclxuICovXG52YXIgdGhyb3R0bGUgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgdmFyIGxlYWRpbmdDYWxsID0gZmFsc2UsXG4gICAgICAgIHRyYWlsaW5nQ2FsbCA9IGZhbHNlLFxuICAgICAgICBsYXN0Q2FsbFRpbWUgPSAwO1xuXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2VzIHRoZSBvcmlnaW5hbCBjYWxsYmFjayBmdW5jdGlvbiBhbmQgc2NoZWR1bGVzIG5ldyBpbnZvY2F0aW9uIGlmXHJcbiAgICAgKiB0aGUgXCJwcm94eVwiIHdhcyBjYWxsZWQgZHVyaW5nIGN1cnJlbnQgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVQZW5kaW5nKCkge1xuICAgICAgICBpZiAobGVhZGluZ0NhbGwpIHtcbiAgICAgICAgICAgIGxlYWRpbmdDYWxsID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhaWxpbmdDYWxsKSB7XG4gICAgICAgICAgICBwcm94eSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsYmFjayBpbnZva2VkIGFmdGVyIHRoZSBzcGVjaWZpZWQgZGVsYXkuIEl0IHdpbGwgZnVydGhlciBwb3N0cG9uZVxyXG4gICAgICogaW52b2NhdGlvbiBvZiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gZGVsZWdhdGluZyBpdCB0byB0aGVcclxuICAgICAqIHJlcXVlc3RBbmltYXRpb25GcmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRpbWVvdXRDYWxsYmFjaygpIHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEocmVzb2x2ZVBlbmRpbmcpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogU2NoZWR1bGVzIGludm9jYXRpb24gb2YgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJveHkoKSB7XG4gICAgICAgIHZhciB0aW1lU3RhbXAgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIGlmIChsZWFkaW5nQ2FsbCkge1xuICAgICAgICAgICAgLy8gUmVqZWN0IGltbWVkaWF0ZWx5IGZvbGxvd2luZyBjYWxscy5cbiAgICAgICAgICAgIGlmICh0aW1lU3RhbXAgLSBsYXN0Q2FsbFRpbWUgPCB0cmFpbGluZ1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNjaGVkdWxlIG5ldyBjYWxsIHRvIGJlIGluIGludm9rZWQgd2hlbiB0aGUgcGVuZGluZyBvbmUgaXMgcmVzb2x2ZWQuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBmb3IgXCJ0cmFuc2l0aW9uc1wiIHdoaWNoIG5ldmVyIGFjdHVhbGx5IHN0YXJ0XG4gICAgICAgICAgICAvLyBpbW1lZGlhdGVseSBzbyB0aGVyZSBpcyBhIGNoYW5jZSB0aGF0IHdlIG1pZ2h0IG1pc3Mgb25lIGlmIGNoYW5nZVxuICAgICAgICAgICAgLy8gaGFwcGVucyBhbWlkcyB0aGUgcGVuZGluZyBpbnZvY2F0aW9uLlxuICAgICAgICAgICAgdHJhaWxpbmdDYWxsID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxlYWRpbmdDYWxsID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyYWlsaW5nQ2FsbCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRpbWVvdXRDYWxsYmFjaywgZGVsYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZVN0YW1wO1xuICAgIH1cblxuICAgIHJldHVybiBwcm94eTtcbn07XG5cbi8vIE1pbmltdW0gZGVsYXkgYmVmb3JlIGludm9raW5nIHRoZSB1cGRhdGUgb2Ygb2JzZXJ2ZXJzLlxudmFyIFJFRlJFU0hfREVMQVkgPSAyMDtcblxuLy8gQSBsaXN0IG9mIHN1YnN0cmluZ3Mgb2YgQ1NTIHByb3BlcnRpZXMgdXNlZCB0byBmaW5kIHRyYW5zaXRpb24gZXZlbnRzIHRoYXRcbi8vIG1pZ2h0IGFmZmVjdCBkaW1lbnNpb25zIG9mIG9ic2VydmVkIGVsZW1lbnRzLlxudmFyIHRyYW5zaXRpb25LZXlzID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnLCAnd2lkdGgnLCAnaGVpZ2h0JywgJ3NpemUnLCAnd2VpZ2h0J107XG5cbi8vIENoZWNrIGlmIE11dGF0aW9uT2JzZXJ2ZXIgaXMgYXZhaWxhYmxlLlxudmFyIG11dGF0aW9uT2JzZXJ2ZXJTdXBwb3J0ZWQgPSB0eXBlb2YgTXV0YXRpb25PYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCc7XG5cbi8qKlxyXG4gKiBTaW5nbGV0b24gY29udHJvbGxlciBjbGFzcyB3aGljaCBoYW5kbGVzIHVwZGF0ZXMgb2YgUmVzaXplT2JzZXJ2ZXIgaW5zdGFuY2VzLlxyXG4gKi9cbnZhciBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNvbm5lY3RlZF8gPSBmYWxzZTtcbiAgICB0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfID0gZmFsc2U7XG4gICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8gPSBudWxsO1xuICAgIHRoaXMub2JzZXJ2ZXJzXyA9IFtdO1xuXG4gICAgdGhpcy5vblRyYW5zaXRpb25FbmRfID0gdGhpcy5vblRyYW5zaXRpb25FbmRfLmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZWZyZXNoID0gdGhyb3R0bGUodGhpcy5yZWZyZXNoLmJpbmQodGhpcyksIFJFRlJFU0hfREVMQVkpO1xufTtcblxuLyoqXHJcbiAqIEFkZHMgb2JzZXJ2ZXIgdG8gb2JzZXJ2ZXJzIGxpc3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVzaXplT2JzZXJ2ZXJTUEl9IG9ic2VydmVyIC0gT2JzZXJ2ZXIgdG8gYmUgYWRkZWQuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblxuXG4vKipcclxuICogSG9sZHMgcmVmZXJlbmNlIHRvIHRoZSBjb250cm9sbGVyJ3MgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBwcml2YXRlIHtSZXNpemVPYnNlcnZlckNvbnRyb2xsZXJ9XHJcbiAqL1xuXG5cbi8qKlxyXG4gKiBLZWVwcyByZWZlcmVuY2UgdG8gdGhlIGluc3RhbmNlIG9mIE11dGF0aW9uT2JzZXJ2ZXIuXHJcbiAqXHJcbiAqIEBwcml2YXRlIHtNdXRhdGlvbk9ic2VydmVyfVxyXG4gKi9cblxuLyoqXHJcbiAqIEluZGljYXRlcyB3aGV0aGVyIERPTSBsaXN0ZW5lcnMgaGF2ZSBiZWVuIGFkZGVkLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZSB7Ym9vbGVhbn1cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLmFkZE9ic2VydmVyID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgaWYgKCF+dGhpcy5vYnNlcnZlcnNfLmluZGV4T2Yob2JzZXJ2ZXIpKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzXy5wdXNoKG9ic2VydmVyKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbGlzdGVuZXJzIGlmIHRoZXkgaGF2ZW4ndCBiZWVuIGFkZGVkIHlldC5cbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkXykge1xuICAgICAgICB0aGlzLmNvbm5lY3RfKCk7XG4gICAgfVxufTtcblxuLyoqXHJcbiAqIFJlbW92ZXMgb2JzZXJ2ZXIgZnJvbSBvYnNlcnZlcnMgbGlzdC5cclxuICpcclxuICogQHBhcmFtIHtSZXNpemVPYnNlcnZlclNQSX0gb2JzZXJ2ZXIgLSBPYnNlcnZlciB0byBiZSByZW1vdmVkLlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZU9ic2VydmVyID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzXztcbiAgICB2YXIgaW5kZXggPSBvYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcik7XG5cbiAgICAvLyBSZW1vdmUgb2JzZXJ2ZXIgaWYgaXQncyBwcmVzZW50IGluIHJlZ2lzdHJ5LlxuICAgIGlmICh+aW5kZXgpIHtcbiAgICAgICAgb2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGxpc3RlbmVycyBpZiBjb250cm9sbGVyIGhhcyBubyBjb25uZWN0ZWQgb2JzZXJ2ZXJzLlxuICAgIGlmICghb2JzZXJ2ZXJzLmxlbmd0aCAmJiB0aGlzLmNvbm5lY3RlZF8pIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0XygpO1xuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBJbnZva2VzIHRoZSB1cGRhdGUgb2Ygb2JzZXJ2ZXJzLiBJdCB3aWxsIGNvbnRpbnVlIHJ1bm5pbmcgdXBkYXRlcyBpbnNvZmFyXHJcbiAqIGl0IGRldGVjdHMgY2hhbmdlcy5cclxuICpcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGFuZ2VzRGV0ZWN0ZWQgPSB0aGlzLnVwZGF0ZU9ic2VydmVyc18oKTtcblxuICAgIC8vIENvbnRpbnVlIHJ1bm5pbmcgdXBkYXRlcyBpZiBjaGFuZ2VzIGhhdmUgYmVlbiBkZXRlY3RlZCBhcyB0aGVyZSBtaWdodFxuICAgIC8vIGJlIGZ1dHVyZSBvbmVzIGNhdXNlZCBieSBDU1MgdHJhbnNpdGlvbnMuXG4gICAgaWYgKGNoYW5nZXNEZXRlY3RlZCkge1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG59O1xuXG4vKipcclxuICogVXBkYXRlcyBldmVyeSBvYnNlcnZlciBmcm9tIG9ic2VydmVycyBsaXN0IGFuZCBub3RpZmllcyB0aGVtIG9mIHF1ZXVlZFxyXG4gKiBlbnRyaWVzLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBcInRydWVcIiBpZiBhbnkgb2JzZXJ2ZXIgaGFzIGRldGVjdGVkIGNoYW5nZXMgaW5cclxuICogIGRpbWVuc2lvbnMgb2YgaXQncyBlbGVtZW50cy5cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZU9ic2VydmVyc18gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gQ29sbGVjdCBvYnNlcnZlcnMgdGhhdCBoYXZlIGFjdGl2ZSBvYnNlcnZhdGlvbnMuXG4gICAgdmFyIGFjdGl2ZU9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzXy5maWx0ZXIoZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHJldHVybiBvYnNlcnZlci5nYXRoZXJBY3RpdmUoKSwgb2JzZXJ2ZXIuaGFzQWN0aXZlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBEZWxpdmVyIG5vdGlmaWNhdGlvbnMgaW4gYSBzZXBhcmF0ZSBjeWNsZSBpbiBvcmRlciB0byBhdm9pZCBhbnlcbiAgICAvLyBjb2xsaXNpb25zIGJldHdlZW4gb2JzZXJ2ZXJzLCBlLmcuIHdoZW4gbXVsdGlwbGUgaW5zdGFuY2VzIG9mXG4gICAgLy8gUmVzaXplT2JzZXJ2ZXIgYXJlIHRyYWNraW5nIHRoZSBzYW1lIGVsZW1lbnQgYW5kIHRoZSBjYWxsYmFjayBvZiBvbmVcbiAgICAvLyBvZiB0aGVtIGNoYW5nZXMgY29udGVudCBkaW1lbnNpb25zIG9mIHRoZSBvYnNlcnZlZCB0YXJnZXQuIFNvbWV0aW1lc1xuICAgIC8vIHRoaXMgbWF5IHJlc3VsdCBpbiBub3RpZmljYXRpb25zIGJlaW5nIGJsb2NrZWQgZm9yIHRoZSByZXN0IG9mIG9ic2VydmVycy5cbiAgICBhY3RpdmVPYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHsgcmV0dXJuIG9ic2VydmVyLmJyb2FkY2FzdEFjdGl2ZSgpOyB9KTtcblxuICAgIHJldHVybiBhY3RpdmVPYnNlcnZlcnMubGVuZ3RoID4gMDtcbn07XG5cbi8qKlxyXG4gKiBJbml0aWFsaXplcyBET00gbGlzdGVuZXJzLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLmNvbm5lY3RfID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIERvIG5vdGhpbmcgaWYgcnVubmluZyBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50IG9yIGlmIGxpc3RlbmVyc1xuICAgIC8vIGhhdmUgYmVlbiBhbHJlYWR5IGFkZGVkLlxuICAgIGlmICghaXNCcm93c2VyIHx8IHRoaXMuY29ubmVjdGVkXykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU3Vic2NyaXB0aW9uIHRvIHRoZSBcIlRyYW5zaXRpb25lbmRcIiBldmVudCBpcyB1c2VkIGFzIGEgd29ya2Fyb3VuZCBmb3JcbiAgICAvLyBkZWxheWVkIHRyYW5zaXRpb25zLiBUaGlzIHdheSBpdCdzIHBvc3NpYmxlIHRvIGNhcHR1cmUgYXQgbGVhc3QgdGhlXG4gICAgLy8gZmluYWwgc3RhdGUgb2YgYW4gZWxlbWVudC5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGhpcy5vblRyYW5zaXRpb25FbmRfKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlZnJlc2gpO1xuXG4gICAgaWYgKG11dGF0aW9uT2JzZXJ2ZXJTdXBwb3J0ZWQpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLnJlZnJlc2gpO1xuXG4gICAgICAgIHRoaXMubXV0YXRpb25zT2JzZXJ2ZXJfLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgICAgICAgc3VidHJlZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01TdWJ0cmVlTW9kaWZpZWQnLCB0aGlzLnJlZnJlc2gpO1xuXG4gICAgICAgIHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8gPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuY29ubmVjdGVkXyA9IHRydWU7XG59O1xuXG4vKipcclxuICogUmVtb3ZlcyBET00gbGlzdGVuZXJzLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlckNvbnRyb2xsZXIucHJvdG90eXBlLmRpc2Nvbm5lY3RfID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIERvIG5vdGhpbmcgaWYgcnVubmluZyBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50IG9yIGlmIGxpc3RlbmVyc1xuICAgIC8vIGhhdmUgYmVlbiBhbHJlYWR5IHJlbW92ZWQuXG4gICAgaWYgKCFpc0Jyb3dzZXIgfHwgIXRoaXMuY29ubmVjdGVkXykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRoaXMub25UcmFuc2l0aW9uRW5kXyk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVmcmVzaCk7XG5cbiAgICBpZiAodGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8pIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8uZGlzY29ubmVjdCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm11dGF0aW9uRXZlbnRzQWRkZWRfKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHRoaXMucmVmcmVzaCk7XG4gICAgfVxuXG4gICAgdGhpcy5tdXRhdGlvbnNPYnNlcnZlcl8gPSBudWxsO1xuICAgIHRoaXMubXV0YXRpb25FdmVudHNBZGRlZF8gPSBmYWxzZTtcbiAgICB0aGlzLmNvbm5lY3RlZF8gPSBmYWxzZTtcbn07XG5cbi8qKlxyXG4gKiBcIlRyYW5zaXRpb25lbmRcIiBldmVudCBoYW5kbGVyLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25FdmVudH0gZXZlbnRcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnByb3RvdHlwZS5vblRyYW5zaXRpb25FbmRfID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gcmVmLnByb3BlcnR5TmFtZTsgaWYgKCBwcm9wZXJ0eU5hbWUgPT09IHZvaWQgMCApIHByb3BlcnR5TmFtZSA9ICcnO1xuXG4gICAgLy8gRGV0ZWN0IHdoZXRoZXIgdHJhbnNpdGlvbiBtYXkgYWZmZWN0IGRpbWVuc2lvbnMgb2YgYW4gZWxlbWVudC5cbiAgICB2YXIgaXNSZWZsb3dQcm9wZXJ0eSA9IHRyYW5zaXRpb25LZXlzLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gISF+cHJvcGVydHlOYW1lLmluZGV4T2Yoa2V5KTtcbiAgICB9KTtcblxuICAgIGlmIChpc1JlZmxvd1Byb3BlcnR5KSB7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBSZXR1cm5zIGluc3RhbmNlIG9mIHRoZSBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtSZXNpemVPYnNlcnZlckNvbnRyb2xsZXJ9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5pbnN0YW5jZV8pIHtcbiAgICAgICAgdGhpcy5pbnN0YW5jZV8gPSBuZXcgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VfO1xufTtcblxuUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmluc3RhbmNlXyA9IG51bGw7XG5cbi8qKlxyXG4gKiBEZWZpbmVzIG5vbi13cml0YWJsZS9lbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgdGhlIHByb3ZpZGVkIHRhcmdldCBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgLSBPYmplY3QgZm9yIHdoaWNoIHRvIGRlZmluZSBwcm9wZXJ0aWVzLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgLSBQcm9wZXJ0aWVzIHRvIGJlIGRlZmluZWQuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRhcmdldCBvYmplY3QuXHJcbiAqL1xudmFyIGRlZmluZUNvbmZpZ3VyYWJsZSA9IChmdW5jdGlvbiAodGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gT2JqZWN0LmtleXMocHJvcHMpOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIga2V5ID0gbGlzdFtpXTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgICAgICAgICAgIHZhbHVlOiBwcm9wc1trZXldLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbn0pO1xuXG4vKipcclxuICogUmV0dXJucyB0aGUgZ2xvYmFsIG9iamVjdCBhc3NvY2lhdGVkIHdpdGggcHJvdmlkZWQgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gKi9cbnZhciBnZXRXaW5kb3dPZiA9IChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgLy8gQXNzdW1lIHRoYXQgdGhlIGVsZW1lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgTm9kZSwgd2hpY2ggbWVhbnMgdGhhdCBpdFxuICAgIC8vIGhhcyB0aGUgXCJvd25lckRvY3VtZW50XCIgcHJvcGVydHkgZnJvbSB3aGljaCB3ZSBjYW4gcmV0cmlldmUgYVxuICAgIC8vIGNvcnJlc3BvbmRpbmcgZ2xvYmFsIG9iamVjdC5cbiAgICB2YXIgb3duZXJHbG9iYWwgPSB0YXJnZXQgJiYgdGFyZ2V0Lm93bmVyRG9jdW1lbnQgJiYgdGFyZ2V0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cbiAgICAvLyBSZXR1cm4gdGhlIGxvY2FsIGdsb2JhbCBvYmplY3QgaWYgaXQncyBub3QgcG9zc2libGUgZXh0cmFjdCBvbmUgZnJvbVxuICAgIC8vIHByb3ZpZGVkIGVsZW1lbnQuXG4gICAgcmV0dXJuIG93bmVyR2xvYmFsIHx8IGdsb2JhbCQxO1xufSk7XG5cbi8vIFBsYWNlaG9sZGVyIG9mIGFuIGVtcHR5IGNvbnRlbnQgcmVjdGFuZ2xlLlxudmFyIGVtcHR5UmVjdCA9IGNyZWF0ZVJlY3RJbml0KDAsIDAsIDAsIDApO1xuXG4vKipcclxuICogQ29udmVydHMgcHJvdmlkZWQgc3RyaW5nIHRvIGEgbnVtYmVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHZhbHVlXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xuZnVuY3Rpb24gdG9GbG9hdCh2YWx1ZSkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xufVxuXG4vKipcclxuICogRXh0cmFjdHMgYm9yZGVycyBzaXplIGZyb20gcHJvdmlkZWQgc3R5bGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0NTU1N0eWxlRGVjbGFyYXRpb259IHN0eWxlc1xyXG4gKiBAcGFyYW0gey4uLnN0cmluZ30gcG9zaXRpb25zIC0gQm9yZGVycyBwb3NpdGlvbnMgKHRvcCwgcmlnaHQsIC4uLilcclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXG5mdW5jdGlvbiBnZXRCb3JkZXJzU2l6ZShzdHlsZXMpIHtcbiAgICB2YXIgcG9zaXRpb25zID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHdoaWxlICggbGVuLS0gPiAwICkgcG9zaXRpb25zWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgcmV0dXJuIHBvc2l0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKHNpemUsIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlc1snYm9yZGVyLScgKyBwb3NpdGlvbiArICctd2lkdGgnXTtcblxuICAgICAgICByZXR1cm4gc2l6ZSArIHRvRmxvYXQodmFsdWUpO1xuICAgIH0sIDApO1xufVxuXG4vKipcclxuICogRXh0cmFjdHMgcGFkZGluZ3Mgc2l6ZXMgZnJvbSBwcm92aWRlZCBzdHlsZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gc3R5bGVzXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFBhZGRpbmdzIGJveC5cclxuICovXG5mdW5jdGlvbiBnZXRQYWRkaW5ncyhzdHlsZXMpIHtcbiAgICB2YXIgcG9zaXRpb25zID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXTtcbiAgICB2YXIgcGFkZGluZ3MgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gcG9zaXRpb25zOyBpIDwgbGlzdC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBsaXN0W2ldO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlc1sncGFkZGluZy0nICsgcG9zaXRpb25dO1xuXG4gICAgICAgIHBhZGRpbmdzW3Bvc2l0aW9uXSA9IHRvRmxvYXQodmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBwYWRkaW5ncztcbn1cblxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgY29udGVudCByZWN0YW5nbGUgb2YgcHJvdmlkZWQgU1ZHIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U1ZHR3JhcGhpY3NFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHdoaWNoIG5lZWRzXHJcbiAqICAgICAgdG8gYmUgY2FsY3VsYXRlZC5cclxuICogQHJldHVybnMge0RPTVJlY3RJbml0fVxyXG4gKi9cbmZ1bmN0aW9uIGdldFNWR0NvbnRlbnRSZWN0KHRhcmdldCkge1xuICAgIHZhciBiYm94ID0gdGFyZ2V0LmdldEJCb3goKTtcblxuICAgIHJldHVybiBjcmVhdGVSZWN0SW5pdCgwLCAwLCBiYm94LndpZHRoLCBiYm94LmhlaWdodCk7XG59XG5cbi8qKlxyXG4gKiBDYWxjdWxhdGVzIGNvbnRlbnQgcmVjdGFuZ2xlIG9mIHByb3ZpZGVkIEhUTUxFbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXQgLSBFbGVtZW50IGZvciB3aGljaCB0byBjYWxjdWxhdGUgdGhlIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0SFRNTEVsZW1lbnRDb250ZW50UmVjdCh0YXJnZXQpIHtcbiAgICAvLyBDbGllbnQgd2lkdGggJiBoZWlnaHQgcHJvcGVydGllcyBjYW4ndCBiZVxuICAgIC8vIHVzZWQgZXhjbHVzaXZlbHkgYXMgdGhleSBwcm92aWRlIHJvdW5kZWQgdmFsdWVzLlxuICAgIHZhciBjbGllbnRXaWR0aCA9IHRhcmdldC5jbGllbnRXaWR0aDtcbiAgICB2YXIgY2xpZW50SGVpZ2h0ID0gdGFyZ2V0LmNsaWVudEhlaWdodDtcblxuICAgIC8vIEJ5IHRoaXMgY29uZGl0aW9uIHdlIGNhbiBjYXRjaCBhbGwgbm9uLXJlcGxhY2VkIGlubGluZSwgaGlkZGVuIGFuZFxuICAgIC8vIGRldGFjaGVkIGVsZW1lbnRzLiBUaG91Z2ggZWxlbWVudHMgd2l0aCB3aWR0aCAmIGhlaWdodCBwcm9wZXJ0aWVzIGxlc3NcbiAgICAvLyB0aGFuIDAuNSB3aWxsIGJlIGRpc2NhcmRlZCBhcyB3ZWxsLlxuICAgIC8vXG4gICAgLy8gV2l0aG91dCBpdCB3ZSB3b3VsZCBuZWVkIHRvIGltcGxlbWVudCBzZXBhcmF0ZSBtZXRob2RzIGZvciBlYWNoIG9mXG4gICAgLy8gdGhvc2UgY2FzZXMgYW5kIGl0J3Mgbm90IHBvc3NpYmxlIHRvIHBlcmZvcm0gYSBwcmVjaXNlIGFuZCBwZXJmb3JtYW5jZVxuICAgIC8vIGVmZmVjdGl2ZSB0ZXN0IGZvciBoaWRkZW4gZWxlbWVudHMuIEUuZy4gZXZlbiBqUXVlcnkncyAnOnZpc2libGUnIGZpbHRlclxuICAgIC8vIGdpdmVzIHdyb25nIHJlc3VsdHMgZm9yIGVsZW1lbnRzIHdpdGggd2lkdGggJiBoZWlnaHQgbGVzcyB0aGFuIDAuNS5cbiAgICBpZiAoIWNsaWVudFdpZHRoICYmICFjbGllbnRIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UmVjdDtcbiAgICB9XG5cbiAgICB2YXIgc3R5bGVzID0gZ2V0V2luZG93T2YodGFyZ2V0KS5nZXRDb21wdXRlZFN0eWxlKHRhcmdldCk7XG4gICAgdmFyIHBhZGRpbmdzID0gZ2V0UGFkZGluZ3Moc3R5bGVzKTtcbiAgICB2YXIgaG9yaXpQYWQgPSBwYWRkaW5ncy5sZWZ0ICsgcGFkZGluZ3MucmlnaHQ7XG4gICAgdmFyIHZlcnRQYWQgPSBwYWRkaW5ncy50b3AgKyBwYWRkaW5ncy5ib3R0b207XG5cbiAgICAvLyBDb21wdXRlZCBzdHlsZXMgb2Ygd2lkdGggJiBoZWlnaHQgYXJlIGJlaW5nIHVzZWQgYmVjYXVzZSB0aGV5IGFyZSB0aGVcbiAgICAvLyBvbmx5IGRpbWVuc2lvbnMgYXZhaWxhYmxlIHRvIEpTIHRoYXQgY29udGFpbiBub24tcm91bmRlZCB2YWx1ZXMuIEl0IGNvdWxkXG4gICAgLy8gYmUgcG9zc2libGUgdG8gdXRpbGl6ZSB0aGUgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGlmIG9ubHkgaXQncyBkYXRhIHdhc24ndFxuICAgIC8vIGFmZmVjdGVkIGJ5IENTUyB0cmFuc2Zvcm1hdGlvbnMgbGV0IGFsb25lIHBhZGRpbmdzLCBib3JkZXJzIGFuZCBzY3JvbGwgYmFycy5cbiAgICB2YXIgd2lkdGggPSB0b0Zsb2F0KHN0eWxlcy53aWR0aCksXG4gICAgICAgIGhlaWdodCA9IHRvRmxvYXQoc3R5bGVzLmhlaWdodCk7XG5cbiAgICAvLyBXaWR0aCAmIGhlaWdodCBpbmNsdWRlIHBhZGRpbmdzIGFuZCBib3JkZXJzIHdoZW4gdGhlICdib3JkZXItYm94JyBib3hcbiAgICAvLyBtb2RlbCBpcyBhcHBsaWVkIChleGNlcHQgZm9yIElFKS5cbiAgICBpZiAoc3R5bGVzLmJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgIC8vIEZvbGxvd2luZyBjb25kaXRpb25zIGFyZSByZXF1aXJlZCB0byBoYW5kbGUgSW50ZXJuZXQgRXhwbG9yZXIgd2hpY2hcbiAgICAgICAgLy8gZG9lc24ndCBpbmNsdWRlIHBhZGRpbmdzIGFuZCBib3JkZXJzIHRvIGNvbXB1dGVkIENTUyBkaW1lbnNpb25zLlxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBjYW4gc2F5IHRoYXQgaWYgQ1NTIGRpbWVuc2lvbnMgKyBwYWRkaW5ncyBhcmUgZXF1YWwgdG8gdGhlIFwiY2xpZW50XCJcbiAgICAgICAgLy8gcHJvcGVydGllcyB0aGVuIGl0J3MgZWl0aGVyIElFLCBhbmQgdGh1cyB3ZSBkb24ndCBuZWVkIHRvIHN1YnRyYWN0XG4gICAgICAgIC8vIGFueXRoaW5nLCBvciBhbiBlbGVtZW50IG1lcmVseSBkb2Vzbid0IGhhdmUgcGFkZGluZ3MvYm9yZGVycyBzdHlsZXMuXG4gICAgICAgIGlmIChNYXRoLnJvdW5kKHdpZHRoICsgaG9yaXpQYWQpICE9PSBjbGllbnRXaWR0aCkge1xuICAgICAgICAgICAgd2lkdGggLT0gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCAnbGVmdCcsICdyaWdodCcpICsgaG9yaXpQYWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTWF0aC5yb3VuZChoZWlnaHQgKyB2ZXJ0UGFkKSAhPT0gY2xpZW50SGVpZ2h0KSB7XG4gICAgICAgICAgICBoZWlnaHQgLT0gZ2V0Qm9yZGVyc1NpemUoc3R5bGVzLCAndG9wJywgJ2JvdHRvbScpICsgdmVydFBhZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZvbGxvd2luZyBzdGVwcyBjYW4ndCBiZSBhcHBsaWVkIHRvIHRoZSBkb2N1bWVudCdzIHJvb3QgZWxlbWVudCBhcyBpdHNcbiAgICAvLyBjbGllbnRbV2lkdGgvSGVpZ2h0XSBwcm9wZXJ0aWVzIHJlcHJlc2VudCB2aWV3cG9ydCBhcmVhIG9mIHRoZSB3aW5kb3cuXG4gICAgLy8gQmVzaWRlcywgaXQncyBhcyB3ZWxsIG5vdCBuZWNlc3NhcnkgYXMgdGhlIDxodG1sPiBpdHNlbGYgbmVpdGhlciBoYXNcbiAgICAvLyByZW5kZXJlZCBzY3JvbGwgYmFycyBub3IgaXQgY2FuIGJlIGNsaXBwZWQuXG4gICAgaWYgKCFpc0RvY3VtZW50RWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgIC8vIEluIHNvbWUgYnJvd3NlcnMgKG9ubHkgaW4gRmlyZWZveCwgYWN0dWFsbHkpIENTUyB3aWR0aCAmIGhlaWdodFxuICAgICAgICAvLyBpbmNsdWRlIHNjcm9sbCBiYXJzIHNpemUgd2hpY2ggY2FuIGJlIHJlbW92ZWQgYXQgdGhpcyBzdGVwIGFzIHNjcm9sbFxuICAgICAgICAvLyBiYXJzIGFyZSB0aGUgb25seSBkaWZmZXJlbmNlIGJldHdlZW4gcm91bmRlZCBkaW1lbnNpb25zICsgcGFkZGluZ3NcbiAgICAgICAgLy8gYW5kIFwiY2xpZW50XCIgcHJvcGVydGllcywgdGhvdWdoIHRoYXQgaXMgbm90IGFsd2F5cyB0cnVlIGluIENocm9tZS5cbiAgICAgICAgdmFyIHZlcnRTY3JvbGxiYXIgPSBNYXRoLnJvdW5kKHdpZHRoICsgaG9yaXpQYWQpIC0gY2xpZW50V2lkdGg7XG4gICAgICAgIHZhciBob3JpelNjcm9sbGJhciA9IE1hdGgucm91bmQoaGVpZ2h0ICsgdmVydFBhZCkgLSBjbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgLy8gQ2hyb21lIGhhcyBhIHJhdGhlciB3ZWlyZCByb3VuZGluZyBvZiBcImNsaWVudFwiIHByb3BlcnRpZXMuXG4gICAgICAgIC8vIEUuZy4gZm9yIGFuIGVsZW1lbnQgd2l0aCBjb250ZW50IHdpZHRoIG9mIDMxNC4ycHggaXQgc29tZXRpbWVzIGdpdmVzXG4gICAgICAgIC8vIHRoZSBjbGllbnQgd2lkdGggb2YgMzE1cHggYW5kIGZvciB0aGUgd2lkdGggb2YgMzE0LjdweCBpdCBtYXkgZ2l2ZVxuICAgICAgICAvLyAzMTRweC4gQW5kIGl0IGRvZXNuJ3QgaGFwcGVuIGFsbCB0aGUgdGltZS4gU28ganVzdCBpZ25vcmUgdGhpcyBkZWx0YVxuICAgICAgICAvLyBhcyBhIG5vbi1yZWxldmFudC5cbiAgICAgICAgaWYgKE1hdGguYWJzKHZlcnRTY3JvbGxiYXIpICE9PSAxKSB7XG4gICAgICAgICAgICB3aWR0aCAtPSB2ZXJ0U2Nyb2xsYmFyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGhvcml6U2Nyb2xsYmFyKSAhPT0gMSkge1xuICAgICAgICAgICAgaGVpZ2h0IC09IGhvcml6U2Nyb2xsYmFyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZVJlY3RJbml0KHBhZGRpbmdzLmxlZnQsIHBhZGRpbmdzLnRvcCwgd2lkdGgsIGhlaWdodCk7XG59XG5cbi8qKlxyXG4gKiBDaGVja3Mgd2hldGhlciBwcm92aWRlZCBlbGVtZW50IGlzIGFuIGluc3RhbmNlIG9mIHRoZSBTVkdHcmFwaGljc0VsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBiZSBjaGVja2VkLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXG52YXIgaXNTVkdHcmFwaGljc0VsZW1lbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIFNvbWUgYnJvd3NlcnMsIG5hbWVseSBJRSBhbmQgRWRnZSwgZG9uJ3QgaGF2ZSB0aGUgU1ZHR3JhcGhpY3NFbGVtZW50XG4gICAgLy8gaW50ZXJmYWNlLlxuICAgIGlmICh0eXBlb2YgU1ZHR3JhcGhpY3NFbGVtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkgeyByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5TVkdHcmFwaGljc0VsZW1lbnQ7IH07XG4gICAgfVxuXG4gICAgLy8gSWYgaXQncyBzbywgdGhlbiBjaGVjayB0aGF0IGVsZW1lbnQgaXMgYXQgbGVhc3QgYW4gaW5zdGFuY2Ugb2YgdGhlXG4gICAgLy8gU1ZHRWxlbWVudCBhbmQgdGhhdCBpdCBoYXMgdGhlIFwiZ2V0QkJveFwiIG1ldGhvZC5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXh0cmEtcGFyZW5zXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQpIHsgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuU1ZHRWxlbWVudCAmJiB0eXBlb2YgdGFyZ2V0LmdldEJCb3ggPT09ICdmdW5jdGlvbic7IH07XG59KSgpO1xuXG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgcHJvdmlkZWQgZWxlbWVudCBpcyBhIGRvY3VtZW50IGVsZW1lbnQgKDxodG1sPikuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBiZSBjaGVja2VkLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXG5mdW5jdGlvbiBpc0RvY3VtZW50RWxlbWVudCh0YXJnZXQpIHtcbiAgICByZXR1cm4gdGFyZ2V0ID09PSBnZXRXaW5kb3dPZih0YXJnZXQpLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbn1cblxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgYW4gYXBwcm9wcmlhdGUgY29udGVudCByZWN0YW5nbGUgZm9yIHByb3ZpZGVkIGh0bWwgb3Igc3ZnIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCBjb250ZW50IHJlY3RhbmdsZSBvZiB3aGljaCBuZWVkcyB0byBiZSBjYWxjdWxhdGVkLlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0Q29udGVudFJlY3QodGFyZ2V0KSB7XG4gICAgaWYgKCFpc0Jyb3dzZXIpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UmVjdDtcbiAgICB9XG5cbiAgICBpZiAoaXNTVkdHcmFwaGljc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gZ2V0U1ZHQ29udGVudFJlY3QodGFyZ2V0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0SFRNTEVsZW1lbnRDb250ZW50UmVjdCh0YXJnZXQpO1xufVxuXG4vKipcclxuICogQ3JlYXRlcyByZWN0YW5nbGUgd2l0aCBhbiBpbnRlcmZhY2Ugb2YgdGhlIERPTVJlY3RSZWFkT25seS5cclxuICogU3BlYzogaHR0cHM6Ly9kcmFmdHMuZnh0Zi5vcmcvZ2VvbWV0cnkvI2RvbXJlY3RyZWFkb25seVxyXG4gKlxyXG4gKiBAcGFyYW0ge0RPTVJlY3RJbml0fSByZWN0SW5pdCAtIE9iamVjdCB3aXRoIHJlY3RhbmdsZSdzIHgveSBjb29yZGluYXRlcyBhbmQgZGltZW5zaW9ucy5cclxuICogQHJldHVybnMge0RPTVJlY3RSZWFkT25seX1cclxuICovXG5mdW5jdGlvbiBjcmVhdGVSZWFkT25seVJlY3QocmVmKSB7XG4gICAgdmFyIHggPSByZWYueDtcbiAgICB2YXIgeSA9IHJlZi55O1xuICAgIHZhciB3aWR0aCA9IHJlZi53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gcmVmLmhlaWdodDtcblxuICAgIC8vIElmIERPTVJlY3RSZWFkT25seSBpcyBhdmFpbGFibGUgdXNlIGl0IGFzIGEgcHJvdG90eXBlIGZvciB0aGUgcmVjdGFuZ2xlLlxuICAgIHZhciBDb25zdHIgPSB0eXBlb2YgRE9NUmVjdFJlYWRPbmx5ICE9PSAndW5kZWZpbmVkJyA/IERPTVJlY3RSZWFkT25seSA6IE9iamVjdDtcbiAgICB2YXIgcmVjdCA9IE9iamVjdC5jcmVhdGUoQ29uc3RyLnByb3RvdHlwZSk7XG5cbiAgICAvLyBSZWN0YW5nbGUncyBwcm9wZXJ0aWVzIGFyZSBub3Qgd3JpdGFibGUgYW5kIG5vbi1lbnVtZXJhYmxlLlxuICAgIGRlZmluZUNvbmZpZ3VyYWJsZShyZWN0LCB7XG4gICAgICAgIHg6IHgsIHk6IHksIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIHRvcDogeSxcbiAgICAgICAgcmlnaHQ6IHggKyB3aWR0aCxcbiAgICAgICAgYm90dG9tOiBoZWlnaHQgKyB5LFxuICAgICAgICBsZWZ0OiB4XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVjdDtcbn1cblxuLyoqXHJcbiAqIENyZWF0ZXMgRE9NUmVjdEluaXQgb2JqZWN0IGJhc2VkIG9uIHRoZSBwcm92aWRlZCBkaW1lbnNpb25zIGFuZCB0aGUgeC95IGNvb3JkaW5hdGVzLlxyXG4gKiBTcGVjOiBodHRwczovL2RyYWZ0cy5meHRmLm9yZy9nZW9tZXRyeS8jZGljdGRlZi1kb21yZWN0aW5pdFxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFggY29vcmRpbmF0ZS5cclxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBZIGNvb3JkaW5hdGUuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFJlY3RhbmdsZSdzIHdpZHRoLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gUmVjdGFuZ2xlJ3MgaGVpZ2h0LlxyXG4gKiBAcmV0dXJucyB7RE9NUmVjdEluaXR9XHJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUmVjdEluaXQoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgIHJldHVybiB7IHg6IHgsIHk6IHksIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbn1cblxuLyoqXHJcbiAqIENsYXNzIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIGNvbXB1dGF0aW9ucyBvZiB0aGUgY29udGVudCByZWN0YW5nbGUgb2ZcclxuICogcHJvdmlkZWQgRE9NIGVsZW1lbnQgYW5kIGZvciBrZWVwaW5nIHRyYWNrIG9mIGl0J3MgY2hhbmdlcy5cclxuICovXG52YXIgUmVzaXplT2JzZXJ2YXRpb24gPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB0aGlzLmJyb2FkY2FzdFdpZHRoID0gMDtcbiAgICB0aGlzLmJyb2FkY2FzdEhlaWdodCA9IDA7XG4gICAgdGhpcy5jb250ZW50UmVjdF8gPSBjcmVhdGVSZWN0SW5pdCgwLCAwLCAwLCAwKTtcblxuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xufTtcblxuLyoqXHJcbiAqIFVwZGF0ZXMgY29udGVudCByZWN0YW5nbGUgYW5kIHRlbGxzIHdoZXRoZXIgaXQncyB3aWR0aCBvciBoZWlnaHQgcHJvcGVydGllc1xyXG4gKiBoYXZlIGNoYW5nZWQgc2luY2UgdGhlIGxhc3QgYnJvYWRjYXN0LlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXG5cblxuLyoqXHJcbiAqIFJlZmVyZW5jZSB0byB0aGUgbGFzdCBvYnNlcnZlZCBjb250ZW50IHJlY3RhbmdsZS5cclxuICpcclxuICogQHByaXZhdGUge0RPTVJlY3RJbml0fVxyXG4gKi9cblxuXG4vKipcclxuICogQnJvYWRjYXN0ZWQgd2lkdGggb2YgY29udGVudCByZWN0YW5nbGUuXHJcbiAqXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqL1xuUmVzaXplT2JzZXJ2YXRpb24ucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZWN0ID0gZ2V0Q29udGVudFJlY3QodGhpcy50YXJnZXQpO1xuXG4gICAgdGhpcy5jb250ZW50UmVjdF8gPSByZWN0O1xuXG4gICAgcmV0dXJuIHJlY3Qud2lkdGggIT09IHRoaXMuYnJvYWRjYXN0V2lkdGggfHwgcmVjdC5oZWlnaHQgIT09IHRoaXMuYnJvYWRjYXN0SGVpZ2h0O1xufTtcblxuLyoqXHJcbiAqIFVwZGF0ZXMgJ2Jyb2FkY2FzdFdpZHRoJyBhbmQgJ2Jyb2FkY2FzdEhlaWdodCcgcHJvcGVydGllcyB3aXRoIGEgZGF0YVxyXG4gKiBmcm9tIHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnRpZXMgb2YgdGhlIGxhc3Qgb2JzZXJ2ZWQgY29udGVudCByZWN0YW5nbGUuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtET01SZWN0SW5pdH0gTGFzdCBvYnNlcnZlZCBjb250ZW50IHJlY3RhbmdsZS5cclxuICovXG5SZXNpemVPYnNlcnZhdGlvbi5wcm90b3R5cGUuYnJvYWRjYXN0UmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVjdCA9IHRoaXMuY29udGVudFJlY3RfO1xuXG4gICAgdGhpcy5icm9hZGNhc3RXaWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgdGhpcy5icm9hZGNhc3RIZWlnaHQgPSByZWN0LmhlaWdodDtcblxuICAgIHJldHVybiByZWN0O1xufTtcblxudmFyIFJlc2l6ZU9ic2VydmVyRW50cnkgPSBmdW5jdGlvbih0YXJnZXQsIHJlY3RJbml0KSB7XG4gICAgdmFyIGNvbnRlbnRSZWN0ID0gY3JlYXRlUmVhZE9ubHlSZWN0KHJlY3RJbml0KTtcblxuICAgIC8vIEFjY29yZGluZyB0byB0aGUgc3BlY2lmaWNhdGlvbiBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgbm90IHdyaXRhYmxlXG4gICAgLy8gYW5kIGFyZSBhbHNvIG5vdCBlbnVtZXJhYmxlIGluIHRoZSBuYXRpdmUgaW1wbGVtZW50YXRpb24uXG4gICAgLy9cbiAgICAvLyBQcm9wZXJ0eSBhY2Nlc3NvcnMgYXJlIG5vdCBiZWluZyB1c2VkIGFzIHRoZXknZCByZXF1aXJlIHRvIGRlZmluZSBhXG4gICAgLy8gcHJpdmF0ZSBXZWFrTWFwIHN0b3JhZ2Ugd2hpY2ggbWF5IGNhdXNlIG1lbW9yeSBsZWFrcyBpbiBicm93c2VycyB0aGF0XG4gICAgLy8gZG9uJ3Qgc3VwcG9ydCB0aGlzIHR5cGUgb2YgY29sbGVjdGlvbnMuXG4gICAgZGVmaW5lQ29uZmlndXJhYmxlKHRoaXMsIHsgdGFyZ2V0OiB0YXJnZXQsIGNvbnRlbnRSZWN0OiBjb250ZW50UmVjdCB9KTtcbn07XG5cbnZhciBSZXNpemVPYnNlcnZlclNQSSA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBjb250cm9sbGVyLCBjYWxsYmFja0N0eCkge1xuICAgIHRoaXMuYWN0aXZlT2JzZXJ2YXRpb25zXyA9IFtdO1xuICAgIHRoaXMub2JzZXJ2YXRpb25zXyA9IG5ldyBNYXBTaGltKCk7XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjYWxsYmFjayBwcm92aWRlZCBhcyBwYXJhbWV0ZXIgMSBpcyBub3QgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbGxiYWNrXyA9IGNhbGxiYWNrO1xuICAgIHRoaXMuY29udHJvbGxlcl8gPSBjb250cm9sbGVyO1xuICAgIHRoaXMuY2FsbGJhY2tDdHhfID0gY2FsbGJhY2tDdHg7XG59O1xuXG4vKipcclxuICogU3RhcnRzIG9ic2VydmluZyBwcm92aWRlZCBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIEVsZW1lbnQgdG8gYmUgb2JzZXJ2ZWQuXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblxuXG4vKipcclxuICogUmVnaXN0cnkgb2YgdGhlIFJlc2l6ZU9ic2VydmF0aW9uIGluc3RhbmNlcy5cclxuICpcclxuICogQHByaXZhdGUge01hcDxFbGVtZW50LCBSZXNpemVPYnNlcnZhdGlvbj59XHJcbiAqL1xuXG5cbi8qKlxyXG4gKiBQdWJsaWMgUmVzaXplT2JzZXJ2ZXIgaW5zdGFuY2Ugd2hpY2ggd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrXHJcbiAqIGZ1bmN0aW9uIGFuZCB1c2VkIGFzIGEgdmFsdWUgb2YgaXQncyBcInRoaXNcIiBiaW5kaW5nLlxyXG4gKlxyXG4gKiBAcHJpdmF0ZSB7UmVzaXplT2JzZXJ2ZXJ9XHJcbiAqL1xuXG4vKipcclxuICogQ29sbGVjdGlvbiBvZiByZXNpemUgb2JzZXJ2YXRpb25zIHRoYXQgaGF2ZSBkZXRlY3RlZCBjaGFuZ2VzIGluIGRpbWVuc2lvbnNcclxuICogb2YgZWxlbWVudHMuXHJcbiAqXHJcbiAqIEBwcml2YXRlIHtBcnJheTxSZXNpemVPYnNlcnZhdGlvbj59XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJzEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC4nKTtcbiAgICB9XG5cbiAgICAvLyBEbyBub3RoaW5nIGlmIGN1cnJlbnQgZW52aXJvbm1lbnQgZG9lc24ndCBoYXZlIHRoZSBFbGVtZW50IGludGVyZmFjZS5cbiAgICBpZiAodHlwZW9mIEVsZW1lbnQgPT09ICd1bmRlZmluZWQnIHx8ICEoRWxlbWVudCBpbnN0YW5jZW9mIE9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIGdldFdpbmRvd09mKHRhcmdldCkuRWxlbWVudCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgXCJFbGVtZW50XCIuJyk7XG4gICAgfVxuXG4gICAgdmFyIG9ic2VydmF0aW9ucyA9IHRoaXMub2JzZXJ2YXRpb25zXztcblxuICAgIC8vIERvIG5vdGhpbmcgaWYgZWxlbWVudCBpcyBhbHJlYWR5IGJlaW5nIG9ic2VydmVkLlxuICAgIGlmIChvYnNlcnZhdGlvbnMuaGFzKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9ic2VydmF0aW9ucy5zZXQodGFyZ2V0LCBuZXcgUmVzaXplT2JzZXJ2YXRpb24odGFyZ2V0KSk7XG5cbiAgICB0aGlzLmNvbnRyb2xsZXJfLmFkZE9ic2VydmVyKHRoaXMpO1xuXG4gICAgLy8gRm9yY2UgdGhlIHVwZGF0ZSBvZiBvYnNlcnZhdGlvbnMuXG4gICAgdGhpcy5jb250cm9sbGVyXy5yZWZyZXNoKCk7XG59O1xuXG4vKipcclxuICogU3RvcHMgb2JzZXJ2aW5nIHByb3ZpZGVkIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IC0gRWxlbWVudCB0byBzdG9wIG9ic2VydmluZy5cclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xuUmVzaXplT2JzZXJ2ZXJTUEkucHJvdG90eXBlLnVub2JzZXJ2ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LicpO1xuICAgIH1cblxuICAgIC8vIERvIG5vdGhpbmcgaWYgY3VycmVudCBlbnZpcm9ubWVudCBkb2Vzbid0IGhhdmUgdGhlIEVsZW1lbnQgaW50ZXJmYWNlLlxuICAgIGlmICh0eXBlb2YgRWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgIShFbGVtZW50IGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgZ2V0V2luZG93T2YodGFyZ2V0KS5FbGVtZW50KSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJhbWV0ZXIgMSBpcyBub3Qgb2YgdHlwZSBcIkVsZW1lbnRcIi4nKTtcbiAgICB9XG5cbiAgICB2YXIgb2JzZXJ2YXRpb25zID0gdGhpcy5vYnNlcnZhdGlvbnNfO1xuXG4gICAgLy8gRG8gbm90aGluZyBpZiBlbGVtZW50IGlzIG5vdCBiZWluZyBvYnNlcnZlZC5cbiAgICBpZiAoIW9ic2VydmF0aW9ucy5oYXModGFyZ2V0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb2JzZXJ2YXRpb25zLmRlbGV0ZSh0YXJnZXQpO1xuXG4gICAgaWYgKCFvYnNlcnZhdGlvbnMuc2l6ZSkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXJfLnJlbW92ZU9ic2VydmVyKHRoaXMpO1xuICAgIH1cbn07XG5cbi8qKlxyXG4gKiBTdG9wcyBvYnNlcnZpbmcgYWxsIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmNsZWFyQWN0aXZlKCk7XG4gICAgdGhpcy5vYnNlcnZhdGlvbnNfLmNsZWFyKCk7XG4gICAgdGhpcy5jb250cm9sbGVyXy5yZW1vdmVPYnNlcnZlcih0aGlzKTtcbn07XG5cbi8qKlxyXG4gKiBDb2xsZWN0cyBvYnNlcnZhdGlvbiBpbnN0YW5jZXMgdGhlIGFzc29jaWF0ZWQgZWxlbWVudCBvZiB3aGljaCBoYXMgY2hhbmdlZFxyXG4gKiBpdCdzIGNvbnRlbnQgcmVjdGFuZ2xlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuZ2F0aGVyQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHRoaXMuY2xlYXJBY3RpdmUoKTtcblxuICAgIHRoaXMub2JzZXJ2YXRpb25zXy5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZhdGlvbikge1xuICAgICAgICBpZiAob2JzZXJ2YXRpb24uaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgdGhpcyQxLmFjdGl2ZU9ic2VydmF0aW9uc18ucHVzaChvYnNlcnZhdGlvbik7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8qKlxyXG4gKiBJbnZva2VzIGluaXRpYWwgY2FsbGJhY2sgZnVuY3Rpb24gd2l0aCBhIGxpc3Qgb2YgUmVzaXplT2JzZXJ2ZXJFbnRyeVxyXG4gKiBpbnN0YW5jZXMgY29sbGVjdGVkIGZyb20gYWN0aXZlIHJlc2l6ZSBvYnNlcnZhdGlvbnMuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cblJlc2l6ZU9ic2VydmVyU1BJLnByb3RvdHlwZS5icm9hZGNhc3RBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gRG8gbm90aGluZyBpZiBvYnNlcnZlciBkb2Vzbid0IGhhdmUgYWN0aXZlIG9ic2VydmF0aW9ucy5cbiAgICBpZiAoIXRoaXMuaGFzQWN0aXZlKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjdHggPSB0aGlzLmNhbGxiYWNrQ3R4XztcblxuICAgIC8vIENyZWF0ZSBSZXNpemVPYnNlcnZlckVudHJ5IGluc3RhbmNlIGZvciBldmVyeSBhY3RpdmUgb2JzZXJ2YXRpb24uXG4gICAgdmFyIGVudHJpZXMgPSB0aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18ubWFwKGZ1bmN0aW9uIChvYnNlcnZhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFJlc2l6ZU9ic2VydmVyRW50cnkob2JzZXJ2YXRpb24udGFyZ2V0LCBvYnNlcnZhdGlvbi5icm9hZGNhc3RSZWN0KCkpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jYWxsYmFja18uY2FsbChjdHgsIGVudHJpZXMsIGN0eCk7XG4gICAgdGhpcy5jbGVhckFjdGl2ZSgpO1xufTtcblxuLyoqXHJcbiAqIENsZWFycyB0aGUgY29sbGVjdGlvbiBvZiBhY3RpdmUgb2JzZXJ2YXRpb25zLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7dm9pZH1cclxuICovXG5SZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuY2xlYXJBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hY3RpdmVPYnNlcnZhdGlvbnNfLnNwbGljZSgwKTtcbn07XG5cbi8qKlxyXG4gKiBUZWxscyB3aGV0aGVyIG9ic2VydmVyIGhhcyBhY3RpdmUgb2JzZXJ2YXRpb25zLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXG5SZXNpemVPYnNlcnZlclNQSS5wcm90b3R5cGUuaGFzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZU9ic2VydmF0aW9uc18ubGVuZ3RoID4gMDtcbn07XG5cbi8vIFJlZ2lzdHJ5IG9mIGludGVybmFsIG9ic2VydmVycy4gSWYgV2Vha01hcCBpcyBub3QgYXZhaWxhYmxlIHVzZSBjdXJyZW50IHNoaW1cbi8vIGZvciB0aGUgTWFwIGNvbGxlY3Rpb24gYXMgaXQgaGFzIGFsbCByZXF1aXJlZCBtZXRob2RzIGFuZCBiZWNhdXNlIFdlYWtNYXBcbi8vIGNhbid0IGJlIGZ1bGx5IHBvbHlmaWxsZWQgYW55d2F5LlxudmFyIG9ic2VydmVycyA9IHR5cGVvZiBXZWFrTWFwICE9PSAndW5kZWZpbmVkJyA/IG5ldyBXZWFrTWFwKCkgOiBuZXcgTWFwU2hpbSgpO1xuXG4vKipcclxuICogUmVzaXplT2JzZXJ2ZXIgQVBJLiBFbmNhcHN1bGF0ZXMgdGhlIFJlc2l6ZU9ic2VydmVyIFNQSSBpbXBsZW1lbnRhdGlvblxyXG4gKiBleHBvc2luZyBvbmx5IHRob3NlIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgdGhhdCBhcmUgZGVmaW5lZCBpbiB0aGUgc3BlYy5cclxuICovXG52YXIgUmVzaXplT2JzZXJ2ZXIgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXNpemVPYnNlcnZlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uLicpO1xuICAgIH1cbiAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LicpO1xuICAgIH1cblxuICAgIHZhciBjb250cm9sbGVyID0gUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmdldEluc3RhbmNlKCk7XG4gICAgdmFyIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyU1BJKGNhbGxiYWNrLCBjb250cm9sbGVyLCB0aGlzKTtcblxuICAgIG9ic2VydmVycy5zZXQodGhpcywgb2JzZXJ2ZXIpO1xufTtcblxuLy8gRXhwb3NlIHB1YmxpYyBtZXRob2RzIG9mIFJlc2l6ZU9ic2VydmVyLlxuWydvYnNlcnZlJywgJ3Vub2JzZXJ2ZScsICdkaXNjb25uZWN0J10uZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAocmVmID0gb2JzZXJ2ZXJzLmdldCh0aGlzKSlbbWV0aG9kXS5hcHBseShyZWYsIGFyZ3VtZW50cyk7XG4gICAgICAgIHZhciByZWY7XG4gICAgfTtcbn0pO1xuXG52YXIgaW5kZXggPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIEV4cG9ydCBleGlzdGluZyBpbXBsZW1lbnRhdGlvbiBpZiBhdmFpbGFibGUuXG4gICAgaWYgKHR5cGVvZiBnbG9iYWwkMS5SZXNpemVPYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbCQxLlJlc2l6ZU9ic2VydmVyO1xuICAgIH1cblxuICAgIHJldHVybiBSZXNpemVPYnNlcnZlcjtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGluZGV4O1xuIiwiLy8gSGFjayB0byBnZXQgaHRtbCBzeW50YXggaGlnaGxpZ2h0aW5nIHdpdGhpbiB0ZW1wbGF0ZSBsaXRlcmFsc1xuZXhwb3J0IGRlZmF1bHQgU3RyaW5nLnJhdztcbiIsImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5tanMnO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbnRtcGwuaW5uZXJIVE1MID0gaHRtbGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgICAgZGlzcGxheTogLW1vei1ib3g7XG4gICAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGZsZXg6IDE7XG4gICAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICAgICAgYmFja2dyb3VuZDogdmFyKC0tYWNjZW50LWNvbG9yLCAjZWQxYTU5KTtcbiAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yLCAjMjEyMTIxKTtcbiAgICAgIGZvbnQtc2l6ZTogMi43NWVtO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgYm9yZGVyLXJhZGl1czogMCAwIDE1cHggMTVweDtcbiAgICAgIHRyYW5zaXRpb246IG1heC1oZWlnaHQgMXMgZWFzZSwgZm9udC1zaXplIC43cyBlYXNlLWluLW91dCAuM3M7XG4gICAgfVxuICA8L3N0eWxlPlxuICA8c2xvdD48L3Nsb3Q+XG5gO1xuXG5jbGFzcyBNbVRvb2xiYXIgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS10b29sYmFyJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS10b29sYmFyJywgTW1Ub29sYmFyKTtcbiIsImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5tanMnO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbnRtcGwuaW5uZXJIVE1MID0gaHRtbGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgICAgZGlzcGxheTogLW1vei1ib3g7XG4gICAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcbiAgICAgIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgZmxleDogMTtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB9XG5cbiAgICAucGxheSB7XG4gICAgICBjb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yLCAjZWQxYTU5KTtcbiAgICAgIGZvbnQtc2l6ZTogMi41ZW07XG4gICAgICBwYWRkaW5nOiAxZW07XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICBib3JkZXI6IDFweCB2YXIoLS1hY2NlbnQtY29sb3IsICNlZDFhNTkpIHNvbGlkO1xuICAgICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAuNXMgZWFzZTtcbiAgICB9XG5cbiAgICAuaGlkZSB7IFxuICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG5cbiAgICAucGxheTpob3ZlciB7XG4gICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvciwgIzIxMjEyMSk7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IsICNlZDFhNTkpO1xuICAgIH1cblxuICA8L3N0eWxlPlxuICA8c3BhbiBpZD1cInBsYXlCdXR0b25cIiBjbGFzcz1cInBsYXlcIj5QbGF5PC9zcGFuPlxuYDtcblxuY2xhc3MgTW1QbGF5IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgU2hhZHlDU1MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCAnbW0tcGxheScpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5zdHlsZUVsZW1lbnQodGhpcyk7XG4gICAgfVxuICAgIC8vIEF0dGFjaCBhIHNoYWRvdyByb290IHRvIHRoZSBlbGVtZW50LlxuICAgIGxldCBzaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0bXBsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcblxuICAgIHRoaXMucGxheSA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignI3BsYXlCdXR0b24nKTtcbiAgfVxuXG4gIHNldFBsYXlMaXN0ZW5lcihjKSB7XG4gICAgdGhpcy5wbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYyk7XG4gIH1cblxuICBoaWRlKCkge1xuICAgIHRoaXMucGxheS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7XG4gIH1cbn1cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21tLXBsYXknLCBNbVBsYXkpO1xuIiwiaW1wb3J0IGh0bWwgZnJvbSAnLi9odG1sLm1qcyc7XG5cbmNvbnN0IHRtcGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xudG1wbC5pbm5lckhUTUwgPSBodG1sYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgYmFja2dyb3VuZDogIzM0MzQzNDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIG9wYWNpdHk6IC4yO1xuICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAuM3MgZWFzZS1pbi1vdXQsIG9wYWNpdHkgLjNzIGVhc2UtaW4tb3V0O1xuICAgIH1cbiAgPC9zdHlsZT5cbmA7XG5cbmNsYXNzIE1tQ2lyY2xlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgU2hhZHlDU1MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCAnbW0tY2lyY2xlJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG5cbiAgc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0LCBzcGFjaW5nKSB7XG4gICAgY29uc3Qgc2l6ZSA9IGAke3dpZHRoID4gaGVpZ2h0ID8gaGVpZ2h0IC0gc3BhY2luZyA6IHdpZHRoIC0gc3BhY2luZ31weGA7XG4gICAgdGhpcy5zdHlsZS53aWR0aCA9IHNpemU7XG4gICAgdGhpcy5zdHlsZS5oZWlnaHQgPSBzaXplO1xuICB9XG5cbiAgc2V0Q29sb3IoY29sb3IpIHtcbiAgICB0aGlzLnN0eWxlLmJhY2tncm91bmQgPSBjb2xvcjtcbiAgfVxuXG4gIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgc2V0U2VsZWN0ZWQoYm9vbCkge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBib29sO1xuICAgIHRoaXMuc2V0QWN0aXZlKHRoaXMuc2VsZWN0ZWQpO1xuICB9XG5cbiAgc2V0QWN0aXZlKGJvb2wpIHtcbiAgICB0aGlzLnN0eWxlLm9wYWNpdHkgPSBib29sID8gMSA6IDAuMjtcbiAgfVxufVxud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbW0tY2lyY2xlJywgTW1DaXJjbGUpO1xuIiwiY29uc3QgY29sb3JzID0gW1xuICAnI0ZBRkFGQScsXG4gICcjRjQ0MzM2JyxcbiAgJyMyMTk2RjMnLFxuICAnIzRDQUY1MCcsXG4gICcjRkZFQjNCJyxcbiAgJyNGRjk4MDAnXG5dO1xuXG5jb25zdCB0cmllcyA9IDEyO1xuXG5leHBvcnQgeyBjb2xvcnMsIHRyaWVzIH07XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcbmltcG9ydCAnLi9tbS1jaXJjbGUubWpzJztcbmltcG9ydCBSZXNpemVPYnNlcnZlciBmcm9tICcuLy4uL25vZGVfbW9kdWxlcy9yZXNpemUtb2JzZXJ2ZXItcG9seWZpbGwvZGlzdC9SZXNpemVPYnNlcnZlci5lcy5qcyc7XG5pbXBvcnQgeyBjb2xvcnMgfSBmcm9tICcuL2NvbmZpZy5tanMnO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbnRtcGwuaW5uZXJIVE1MID0gaHRtbGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBmbGV4OiAxO1xuICAgICAgbWFyZ2luOiAycHg7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgLjdzIGVhc2UtaW4tb3V0O1xuICAgIH1cblxuICAgIC50cmFuc2l0aW9uIHtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAuNXMgZWFzZS1pbi1vdXQsIG1hcmdpbiAxcyBlYXNlLWluLW91dDtcbiAgICB9XG5cbiAgICAuaGlkZGVuIHtcbiAgICAgIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICAgICAgd2lkdGg6IDAgIWltcG9ydGFudDtcbiAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxuXG4gIDwvc3R5bGU+XG4gIDxtbS1jaXJjbGU+PC9tbS1jaXJjbGU+XG4gIDxtbS1jaXJjbGUgY2xhc3M9XCJoaWRkZW5cIj48L21tLWNpcmNsZT5cbiAgPG1tLWNpcmNsZSBjbGFzcz1cImhpZGRlblwiPjwvbW0tY2lyY2xlPlxuICA8bW0tY2lyY2xlIGNsYXNzPVwiaGlkZGVuXCI+PC9tbS1jaXJjbGU+XG4gIDxtbS1jaXJjbGUgY2xhc3M9XCJoaWRkZW5cIj48L21tLWNpcmNsZT5cbiAgPG1tLWNpcmNsZSBjbGFzcz1cImhpZGRlblwiPjwvbW0tY2lyY2xlPlxuYDtcblxuY2xhc3MgTW1Cb2FyZEl0ZW0gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1ib2FyZC1pdGVtJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZG5kID0gZmFsc2U7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmNpcmNsZXMgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ21tLWNpcmNsZScpO1xuICAgIHRoaXMuY2lyY2xlcy5mb3JFYWNoKChjLCBpKSA9PiB7XG4gICAgICBjLnNldFZhbHVlKGkpO1xuICAgICAgYy5zZXRDb2xvcihjb2xvcnNbaV0pO1xuICAgICAgaWYgKCFjLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIGMuYWN0aXZlID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJvID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZW50cnkuY29udGVudFJlY3Q7XG4gICAgICAgIHRoaXMuY2lyY2xlcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnNob3dpbmdDaXJjbGVzIHx8IHRoaXMuYW5pbWF0aW5nKSB7XG4gICAgICAgICAgICBjLnNldFNpemUod2lkdGggLyAxLjIsIGhlaWdodCAvIDEuMiwgNSk7XG4gICAgICAgICAgICBjLnN0eWxlLm1hcmdpbiA9ICcwIDJweCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0LCA1KTtcbiAgICAgICAgICAgIGMuc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcm8ub2JzZXJ2ZSh0aGlzKTtcbiAgfVxuXG4gIHNldEFjdGl2ZShib29sKSB7XG4gICAgdGhpcy5hY3RpdmUgPSBib29sO1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZTtcbiAgfVxuXG4gIGFuaW1hdGUoKSB7XG4gICAgdGhpcy5zdHlsZS5mbGV4ID0gdGhpcy5hY3RpdmUgPyAxMCA6IDE7XG4gICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICB0aGlzLnNob3dDaXJjbGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGlkZUNpcmNsZXMoKTtcbiAgICB9XG4gIH1cblxuICBzaG93Q2lyY2xlcygpIHtcbiAgICB0aGlzLnNob3dpbmdDaXJjbGVzID0gdHJ1ZTtcbiAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaCgoYywgaSkgPT4ge1xuICAgICAgYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljaywgdHJ1ZSk7XG4gICAgICBjLnNldEFjdGl2ZSh0cnVlKTtcbiAgICAgIGMuY2xhc3NMaXN0LmFkZCgndHJhbnNpdGlvbicpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICB9LCAxMDAgKiBpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGhpZGVDaXJjbGVzKCkge1xuICAgIGlmICghdGhpcy5zaG93aW5nQ2lyY2xlcykgcmV0dXJuO1xuICAgIHRoaXMuYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICB0aGlzLmRuZCA9IHRydWU7XG4gICAgdGhpcy5jaXJjbGVzLmZvckVhY2goKGMsIGkpID0+IHtcbiAgICAgIGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2ssIHRydWUpO1xuICAgICAgYy5zZXRBY3RpdmUoYy5zZWxlY3RlZCk7XG4gICAgICBpZiAoIWMuYWN0aXZlKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjLmNsYXNzTGlzdC5yZW1vdmUoJ3RyYW5zaXRpb24nKTtcbiAgICAgICAgICB9LCA2MDApO1xuICAgICAgICB9LCAxMDAgKiBpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGMuY2xhc3NMaXN0LnJlbW92ZSgndHJhbnNpdGlvbicpO1xuICAgICAgICAgIHRoaXMuZG5kID0gZmFsc2U7XG4gICAgICAgIH0sIDYwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zaG93aW5nQ2lyY2xlcyA9IGZhbHNlO1xuICB9XG5cbiAgb25DbGljayhlKSB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaChjID0+IHtcbiAgICAgIGMuYWN0aXZlID0gYyA9PT0gZS50YXJnZXQ7XG4gICAgICBjLnNldFNlbGVjdGVkKGMgPT09IGUudGFyZ2V0KTtcbiAgICB9KTtcbiAgICB0aGlzLnNldEFjdGl2ZShmYWxzZSk7XG4gICAgdGhpcy5hbmltYXRlKCk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnc2VsZWN0ZWQnLCB7fSkpO1xuICB9XG5cbiAgZ2V0U2VsZWN0ZWQoKSB7XG4gICAgbGV0IHNlbGVjdGVkID0gbnVsbDtcbiAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaChjID0+IHtcbiAgICAgIGlmIChjLnNlbGVjdGVkKSBzZWxlY3RlZCA9IGM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGVjdGVkO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1ib2FyZC1pdGVtJywgTW1Cb2FyZEl0ZW0pO1xuIiwiaW1wb3J0IGh0bWwgZnJvbSAnLi9odG1sLm1qcyc7XG5pbXBvcnQgJy4vbW0tY2lyY2xlLm1qcyc7XG5pbXBvcnQgUmVzaXplT2JzZXJ2ZXIgZnJvbSAnLi8uLi9ub2RlX21vZHVsZXMvcmVzaXplLW9ic2VydmVyLXBvbHlmaWxsL2Rpc3QvUmVzaXplT2JzZXJ2ZXIuZXMuanMnO1xuXG5jb25zdCB0bXBsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbnRtcGwuaW5uZXJIVE1MID0gaHRtbGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgZmxleDogMDtcbiAgICAgIG1hcmdpbjogMnB4O1xuICAgICAgdHJhbnNpdGlvbjogYWxsIC41cyBlYXNlLWluLW91dDtcbiAgICB9XG5cbiAgICAua2V5cy1yb3cge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXg6IDA7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIHRyYW5zaXRpb246IGFsbCAuNXMgZWFzZS1pbi1vdXQ7XG4gICAgfVxuXG4gICAgLnNlbmQtY29udGFpbmVyIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4OiAwO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB0cmFuc2l0aW9uOiBhbGwgLjVzIGVhc2UtaW4tb3V0O1xuICAgIH1cblxuICAgIC5zZW5kIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4OiAwO1xuICAgICAgaGVpZ2h0OiB1bnNldDtcbiAgICAgIHdpZHRoOiAwO1xuICAgICAgdHJhbnNpdGlvbjogYWxsIC41cyBlYXNlLWluLW91dDtcbiAgICB9XG5cbiAgICAjYXJyb3cge1xuICAgICAgZmlsbDogI0ZBRkFGQTtcbiAgICB9XG5cbiAgPC9zdHlsZT5cbiAgPGRpdiBjbGFzcz1cImtleXMtcm93XCI+XG4gICAgPG1tLWNpcmNsZT48L21tLWNpcmNsZT5cbiAgICA8bW0tY2lyY2xlPjwvbW0tY2lyY2xlPlxuICA8L2Rpdj5cbiAgPGRpdiBjbGFzcz1cInNlbmQtY29udGFpbmVyXCI+XG4gIDxzdmcgY2xhc3M9XCJzZW5kXCIgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHdpZHRoPVwiMjRweFwiIGhlaWdodD1cIjI0cHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDI0IDI0XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbiAgICA8ZyBpZD1cImJveGVzXCI+IDxnIGlkPVwidWlfeDVGX3NwZWNfeDVGX2hlYWRlcl9jb3B5XzNcIiBkaXNwbGF5PVwibm9uZVwiPiA8L2c+IDxwYXRoIGZpbGw9XCJub25lXCIgZD1cIk0wLDBoMjR2MjRIMFYwelwiLz4gPC9nPiA8ZyBpZD1cImFycm93XCI+IDxnIGlkPVwidWlfeDVGX3NwZWNfeDVGX2hlYWRlcl9jb3B5XzZcIiBkaXNwbGF5PVwibm9uZVwiPiA8L2c+IDxwYXRoIGQ9XCJNMy40LDIwLjRsMTcuNDUtNy40OGMwLjgxLTAuMzUsMC44MS0xLjQ5LDAtMS44NEwzLjQsMy42QzIuNzQsMy4zMSwyLjAxLDMuOCwyLjAxLDQuNTFMMiw5LjEyYzAsMC41LDAuMzcsMC45MywwLjg3LDAuOTkgTDE3LDEyTDIuODcsMTMuODhDMi4zNywxMy45NSwyLDE0LjM4LDIsMTQuODhsMC4wMSw0LjYxQzIuMDEsMjAuMiwyLjc0LDIwLjY5LDMuNCwyMC40elwiLz4gPC9nPlxuICA8L3N2Zz5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJrZXlzLXJvd1wiPlxuICAgIDxtbS1jaXJjbGU+PC9tbS1jaXJjbGU+XG4gICAgPG1tLWNpcmNsZT48L21tLWNpcmNsZT5cbiAgPC9kaXY+XG5gO1xuXG5jbGFzcyBNbUJvYXJkUmVzdWx0IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgU2hhZHlDU1MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCAnbW0tYm9hcmQtcmVzdWx0Jyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgdGhpcy5zaG93UmVzdWx0ID0gZmFsc2U7XG5cbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcblxuICAgIHRoaXMuc2VuZENvbnRhaW5lciA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnNlbmQtY29udGFpbmVyJyk7XG4gICAgdGhpcy5zZW5kID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcuc2VuZCcpO1xuICAgIHRoaXMuc2VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG5cbiAgICB0aGlzLmtleXNSb3dzID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCcua2V5cy1yb3cnKTtcblxuICAgIHRoaXMuY2lyY2xlcyA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnbW0tY2lyY2xlJyk7XG5cbiAgICBjb25zdCBybyA9IG5ldyBSZXNpemVPYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgZW50cmllcykge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGVudHJ5LmNvbnRlbnRSZWN0O1xuICAgICAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5zaG93UmVzdWx0KSBjLnNldFNpemUod2lkdGgsIGhlaWdodCwgNSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMua2V5c1Jvd3MuZm9yRWFjaChyID0+IHtcbiAgICAgIHJvLm9ic2VydmUocik7XG4gICAgfSk7XG4gIH1cblxuICBzaG93U2VuZChib29sKSB7XG4gICAgaWYgKGJvb2wgJiYgIXRoaXMuc2hvd1Jlc3VsdCkge1xuICAgICAgdGhpcy5zdHlsZS5mbGV4ID0gMTtcbiAgICAgIHRoaXMuc2VuZENvbnRhaW5lci5zdHlsZS5mbGV4ID0gMTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gKHRoaXMuc2VuZC5zdHlsZS5mbGV4ID0gMSksIDEwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvd1Jlc3VsdCA9IHRydWU7XG4gICAgICB0aGlzLnNlbmRDb250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnZmxleC1lbmQnO1xuICAgICAgdGhpcy5zZW5kLnN0eWxlLmZsZXggPSAwO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2VuZENvbnRhaW5lci5zdHlsZS5mbGV4ID0gMDtcbiAgICAgICAgdGhpcy5rZXlzUm93cy5mb3JFYWNoKHIgPT4ge1xuICAgICAgICAgIHIuc3R5bGUuZmxleCA9IDE7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICBjLnN0eWxlLm1hcmdpbiA9ICcycHgnO1xuICAgICAgICB9KTtcbiAgICAgIH0sIDE1MCk7XG4gICAgfVxuICB9XG5cbiAgc2V0UmVzdWx0KHsgaGl0cywgcHNldWRvSGl0cyB9KSB7XG4gICAgdGhpcy5rZXlzUm93cy5mb3JFYWNoKHIgPT4gKHIuc3R5bGUuZmxleCA9IDEpKTtcbiAgICB0aGlzLmNpcmNsZXMuZm9yRWFjaCgoYywgaSkgPT4ge1xuICAgICAgYy5zZXRBY3RpdmUodHJ1ZSk7XG4gICAgICBpZiAoaGl0cy0tID4gMCkgc2V0VGltZW91dCgoKSA9PiBjLnNldENvbG9yKCdyZWQnKSwgMzAwICogaSk7XG4gICAgICBlbHNlIGlmIChwc2V1ZG9IaXRzLS0gPiAwKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGMuc2V0Q29sb3IoJyNGQUZBRkEnKSwgMzAwICogaSk7XG4gICAgICByZXR1cm47XG4gICAgfSk7XG4gIH1cblxuICBvbkNsaWNrKCkge1xuICAgIHRoaXMuc2hvd1NlbmQoZmFsc2UpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NlbmQnLCB7fSkpO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1ib2FyZC1yZXN1bHQnLCBNbUJvYXJkUmVzdWx0KTtcbiIsImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5tanMnO1xuaW1wb3J0ICcuL21tLWJvYXJkLWl0ZW0ubWpzJztcbmltcG9ydCAnLi9tbS1ib2FyZC1yZXN1bHQubWpzJztcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG50bXBsLmlubmVySFRNTCA9IGh0bWxgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tb3otYm94O1xuICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAuM3MgZWFzZS1pbi1vdXQ7XG4gICAgfVxuXG4gIDwvc3R5bGU+XG4gIDxtbS1ib2FyZC1pdGVtPjwvbW0tYm9hcmQtaXRlbT5cbiAgPG1tLWJvYXJkLWl0ZW0+PC9tbS1ib2FyZC1pdGVtPlxuICA8bW0tYm9hcmQtaXRlbT48L21tLWJvYXJkLWl0ZW0+XG4gIDxtbS1ib2FyZC1pdGVtPjwvbW0tYm9hcmQtaXRlbT5cbiAgPG1tLWJvYXJkLXJlc3VsdD48L21tLWJvYXJkLXJlc3VsdD5cbmA7XG5cbmNsYXNzIE1tQm9hcmRSb3cgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1ib2FyZC1yb3cnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggYSBzaGFkb3cgcm9vdCB0byB0aGUgZWxlbWVudC5cbiAgICBsZXQgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgIHNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodG1wbC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG5cbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTtcbiAgICB0aGlzLnZhbGlkYXRlU2VuZCA9IHRoaXMudmFsaWRhdGVTZW5kLmJpbmQodGhpcyk7XG4gICAgdGhpcy52YWxpZGF0ZUNvZGUgPSB0aGlzLnZhbGlkYXRlQ29kZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2V0UmVzdWx0ID0gdGhpcy5zZXRSZXN1bHQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuaXRlbXMgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ21tLWJvYXJkLWl0ZW0nKTtcbiAgICB0aGlzLnJlc3VsdCA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignbW0tYm9hcmQtcmVzdWx0Jyk7XG4gIH1cblxuICBvbkNsaWNrKGUpIHtcbiAgICBjb25zdCBpID0gZS50YXJnZXQ7XG4gICAgaWYgKGkuYWN0aXZlIHx8IGkuZG5kKSByZXR1cm47XG4gICAgbGV0IHdhaXQgPSBmYWxzZTtcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goaSA9PiB7XG4gICAgICBpZiAoaS5zaG93aW5nQ2lyY2xlcykgd2FpdCA9IHRydWU7XG4gICAgICBpLnNldEFjdGl2ZShmYWxzZSk7XG4gICAgICBpLmFuaW1hdGUoKTtcbiAgICB9KTtcbiAgICBpLnNldEFjdGl2ZSh0cnVlKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGkuYW5pbWF0ZSgpO1xuICAgIH0sIHdhaXQgPyA2MDAgOiAyMDApO1xuICB9XG5cbiAgc2V0QWN0aXZlKGJvb2wpIHtcbiAgICB0aGlzLnN0eWxlLmZsZXggPSBib29sID8gMS4xIDogMTtcbiAgICB0aGlzLnN0eWxlLm9wYWNpdHkgPSBib29sIHx8IHRoaXMucmVzdWx0LnNob3dSZXN1bHQgPyAxIDogMC4yO1xuICAgIGlmIChib29sKSB7XG4gICAgICB0aGlzLml0ZW1zLmZvckVhY2goaSA9PiB7XG4gICAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICBpLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVkJywgdGhpcy52YWxpZGF0ZVNlbmQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJlc3VsdC5hZGRFdmVudExpc3RlbmVyKCdzZW5kJywgdGhpcy52YWxpZGF0ZUNvZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLml0ZW1zLmZvckVhY2goaSA9PiB7XG4gICAgICAgIGkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2spO1xuICAgICAgICBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVkJywgdGhpcy52YWxpZGF0ZVNlbmQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJlc3VsdC5yZW1vdmVFdmVudExpc3RlbmVyKCdzZW5kJywgdGhpcy52YWxpZGF0ZUNvZGUpO1xuICAgIH1cbiAgfVxuXG4gIHZhbGlkYXRlU2VuZCgpIHtcbiAgICBsZXQgYWxsU2VsZWN0ZWQgPSB0cnVlO1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpID0+IHtcbiAgICAgIGlmICghaS5nZXRTZWxlY3RlZCgpKSBhbGxTZWxlY3RlZCA9IGZhbHNlO1xuICAgIH0pO1xuICAgIGlmIChhbGxTZWxlY3RlZCkgdGhpcy5yZXN1bHQuc2hvd1NlbmQodHJ1ZSk7XG4gIH1cblxuICB2YWxpZGF0ZUNvZGUoKSB7XG4gICAgY29uc3QgY29kZSA9IFtdO1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaChpID0+IHtcbiAgICAgIGkuc2V0QWN0aXZlKGZhbHNlKTtcbiAgICAgIGkuYW5pbWF0ZSgpO1xuICAgICAgY29kZS5wdXNoKGkuZ2V0U2VsZWN0ZWQoKS52YWx1ZSk7XG4gICAgfSk7XG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndHJ5JywgeyBkZXRhaWw6IHsgY29kZSB9IH0pKTtcbiAgfVxuXG4gIHNldFJlc3VsdChyZXN1bHQpIHtcbiAgICB0aGlzLnJlc3VsdC5zZXRSZXN1bHQocmVzdWx0KTtcbiAgfVxufVxud2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbW0tYm9hcmQtcm93JywgTW1Cb2FyZFJvdyk7XG4iLCJpbXBvcnQgaHRtbCBmcm9tICcuL2h0bWwubWpzJztcbmltcG9ydCAnLi9tbS1ib2FyZC1yb3cubWpzJztcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG50bXBsLmlubmVySFRNTCA9IGh0bWxgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tb3otYm94O1xuICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGZsZXg6IDE7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgfVxuXG4gICAgbW0tYm9hcmQtcm93IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4OiAxO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBtYXgtd2lkdGg6IDYwMHB4O1xuICAgICAgdHJhbnNpdGlvbjogYWxsIC41cyBlYXNlO1xuICAgIH1cbiAgPC9zdHlsZT5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbiAgPG1tLWJvYXJkLXJvdz48L21tLWJvYXJkLXJvdz5cbmA7XG5cbmNsYXNzIE1tQm9hcmQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBTaGFkeUNTUyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlKHRtcGwsICdtbS1ib2FyZCcpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICBTaGFkeUNTUy5zdHlsZUVsZW1lbnQodGhpcyk7XG4gICAgfVxuICAgIC8vIEF0dGFjaCBhIHNoYWRvdyByb290IHRvIHRoZSBlbGVtZW50LlxuICAgIGxldCBzaGFkb3dSb290ID0gdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgc2hhZG93Um9vdC5hcHBlbmRDaGlsZCh0bXBsLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcblxuICAgIHRoaXMudHJ5ID0gdGhpcy50cnkuYmluZCh0aGlzKTtcblxuICAgIHRoaXMucm93cyA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbCgnbW0tYm9hcmQtcm93Jyk7XG4gIH1cblxuICBzZXRHYW1lKG1hc3Rlcikge1xuICAgIHRoaXMubWFzdGVyID0gbWFzdGVyO1xuICAgIHRoaXMuc2V0QWN0aXZlKG1hc3Rlci50cmllcyAtIDEpO1xuICB9XG5cbiAgc2V0QWN0aXZlKGkpIHtcbiAgICB0aGlzLnJvd3MuZm9yRWFjaCgociwgYykgPT4ge1xuICAgICAgaSA9PT0gY1xuICAgICAgICA/IHIuYWRkRXZlbnRMaXN0ZW5lcigndHJ5JywgdGhpcy50cnkpXG4gICAgICAgIDogci5yZW1vdmVFdmVudExpc3RlbmVyKCd0cnknLCB0aGlzLnRyeSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgci5zZXRBY3RpdmUoaSA9PT0gYyk7XG4gICAgICB9LCAwKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRyeShlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5tYXN0ZXIudHJ5KHsgZ3Vlc3M6IGUuZGV0YWlsLmNvZGUgfSk7XG4gICAgdGhpcy5yb3dzW3Jlc3VsdC50cmllc10uc2V0UmVzdWx0KHJlc3VsdCk7XG4gICAgaWYgKHJlc3VsdC5oaXRzID09IDQpIHtcbiAgICAgIHRoaXMucm93c1tyZXN1bHQudHJpZXNdLnNldEFjdGl2ZShmYWxzZSk7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ1dJTiA6RCcpO1xuICAgIH1cbiAgICBpZiAoIXJlc3VsdC50cmllcykge1xuICAgICAgdGhpcy5yb3dzW3Jlc3VsdC50cmllc10uc2V0QWN0aXZlKGZhbHNlKTtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnR2FtZSBvdmVyIG5vb2InKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2V0QWN0aXZlKHJlc3VsdC50cmllcyAtIDEpO1xuICB9XG59XG53aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtbS1ib2FyZCcsIE1tQm9hcmQpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFzdGVyIHtcbiAgY29uc3RydWN0b3IoeyB0cmllcyA9IDEyIH0gPSB7fSkge1xuICAgIHRoaXMuc29sdXRpb24gPSB0aGlzLmdlbmVyYXRlKCk7XG4gICAgdGhpcy50cmllcyA9IHRyaWVzO1xuICAgIHRoaXMudHJ5ID0gdGhpcy50cnkuYmluZCh0aGlzKTtcbiAgICB0aGlzLmd1ZXNzID0gdGhpcy5ndWVzcztcbiAgfVxuXG4gIHRyeSh7IGd1ZXNzID0gW10gfSkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHRoaXMuZ3Vlc3MoeyBndWVzcyB9KSwgeyB0cmllczogLS10aGlzLnRyaWVzIH0pO1xuICB9XG5cbiAgZ3Vlc3MoeyBndWVzcyA9IFtdIH0pIHtcbiAgICBpZiAoZ3Vlc3MubGVuZ3RoICE9PSB0aGlzLnNvbHV0aW9uLmxlbmd0aCkgcmV0dXJuIHt9O1xuXG4gICAgY29uc3Qgb2JqID0geyBoaXRzOiAwLCBwc2V1ZG9IaXRzOiAwIH07XG4gICAgY29uc3Qgc29sdXRpb24gPSB0aGlzLnNvbHV0aW9uLnNsaWNlKCk7IC8vIENvcHlcbiAgICBjb25zdCBmcmVxID0gbmV3IEFycmF5KHRoaXMuc29sdXRpb24ubGVuZ3RoKS5maWxsKDApO1xuXG4gICAgZ3Vlc3MuZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgaWYgKHYgPT09IHRoaXMuc29sdXRpb25baV0pIHtcbiAgICAgICAgb2JqLmhpdHMgKz0gMTtcbiAgICAgICAgc29sdXRpb25baV0gPSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyZXFbdl0rKztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZyZXEuZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgaWYgKHYgPiAwICYmIHRoaXMuc29sdXRpb24uaW5jbHVkZXMoaSkpIG9iai5wc2V1ZG9IaXRzKys7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZ2VuZXJhdGUoKSB7XG4gICAgcmV0dXJuIG5ldyBBcnJheSg0KS5maWxsKDApLm1hcCgoKSA9PiB0aGlzLnJhbmRvbSgpKTtcbiAgfVxuXG4gIHJhbmRvbSgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogNSk7XG4gIH1cbn1cbiIsImltcG9ydCBodG1sIGZyb20gJy4vaHRtbC5tanMnO1xuaW1wb3J0ICcuL21tLXRvb2xiYXIubWpzJztcbmltcG9ydCAnLi9tbS1wbGF5Lm1qcyc7XG5pbXBvcnQgJy4vbW0tYm9hcmQubWpzJztcbmltcG9ydCBNYXN0ZXIgZnJvbSAnLi9tYXN0ZXIubWpzJztcblxuY29uc3QgdG1wbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG50bXBsLmlubmVySFRNTCA9IGh0bWxgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgIGRpc3BsYXk6IC1tb3otYm94O1xuICAgICAgZGlzcGxheTogLW1zLWZsZXhib3g7XG4gICAgICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleDogMTtcbiAgICB9XG5cbiAgICBtbS10b29sYmFyLnRvb2xiYXIge1xuICAgICAgbWF4LWhlaWdodDogNjRweDtcbiAgICAgIGZvbnQtc2l6ZTogMS43NWVtO1xuICAgIH1cbiAgICBcbiAgPC9zdHlsZT5cbiAgPG1tLXRvb2xiYXIgY2xhc3M9XCJ0b29sYmFyXCI+TWFzdGVybWluZDwvbW0tdG9vbGJhcj5cbiAgPCEtLSA8bW0tcGxheT48L21tLXBsYXk+IC0tPlxuICA8bW0tYm9hcmQ+PC9tbS1ib2FyZD5cbmA7XG5cbmNsYXNzIE1tQXBwIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmICh0eXBlb2YgU2hhZHlDU1MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZSh0bXBsLCAnbW0tYXBwJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICAgIFNoYWR5Q1NTLnN0eWxlRWxlbWVudCh0aGlzKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoIGEgc2hhZG93IHJvb3QgdG8gdGhlIGVsZW1lbnQuXG4gICAgbGV0IHNoYWRvd1Jvb3QgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHRtcGwuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgdGhpcy50b29sYmFyID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdtbS10b29sYmFyJyk7XG4gICAgLy8gdGhpcy5wbGF5ID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdtbS1wbGF5Jyk7XG4gICAgLy8gdGhpcy5wbGF5LnNldFBsYXlMaXN0ZW5lcigoKSA9PiB7XG4gICAgLy8gICB0aGlzLnRvb2xiYXIuY2xhc3NMaXN0LmFkZCgndG9vbGJhcicpO1xuICAgIC8vICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnBsYXkuaGlkZSgpLCA1MDApO1xuICAgIC8vIH0pO1xuICAgIHRoaXMuYm9hcmQgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ21tLWJvYXJkJyk7XG5cbiAgICB0aGlzLm5ld0dhbWUoKTtcbiAgfVxuXG4gIG5ld0dhbWUoKSB7XG4gICAgdGhpcy5tYXN0ZXIgPSBuZXcgTWFzdGVyKCk7XG4gICAgY29uc29sZS5sb2codGhpcy5tYXN0ZXIuc29sdXRpb24pO1xuICAgIHRoaXMuYm9hcmQuc2V0R2FtZSh0aGlzLm1hc3Rlcik7XG4gIH1cbn1cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21tLWFwcCcsIE1tQXBwKTtcbiJdLCJuYW1lcyI6WyJwYXJzZUZsb2F0IiwicG9zaXRpb25zIiwibGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicmVkdWNlIiwic2l6ZSIsInRvRmxvYXQiLCJzdHlsZXMiLCJNYXRoIiwiYWJzIiwiY2xpZW50V2lkdGgiLCJ0YXJnZXQiLCJjbGllbnRIZWlnaHQiLCJnZXRXaW5kb3dPZiIsImdldENvbXB1dGVkU3R5bGUiLCJwYWRkaW5ncyIsImkiLCJsaXN0IiwicG9zaXRpb24iLCJ2YWx1ZSIsImdldFBhZGRpbmdzIiwiaG9yaXpQYWQiLCJsZWZ0IiwicmlnaHQiLCJ2ZXJ0UGFkIiwidG9wIiwiYm90dG9tIiwid2lkdGgiLCJoZWlnaHQiLCJib3hTaXppbmciLCJnZXRCb3JkZXJzU2l6ZSIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiaXNEb2N1bWVudEVsZW1lbnQiLCJ2ZXJ0U2Nyb2xsYmFyIiwiaG9yaXpTY3JvbGxiYXIiLCJjcmVhdGVSZWN0SW5pdCIsImlzQnJvd3NlciIsImlzU1ZHR3JhcGhpY3NFbGVtZW50IiwiYmJveCIsImdldEJCb3giLCJnZXRTVkdDb250ZW50UmVjdCIsImdldEhUTUxFbGVtZW50Q29udGVudFJlY3QiLCJ4IiwieSIsInJvdW5kIiwiU3RyaW5nIiwicmF3IiwidG1wbCIsImlubmVySFRNTCIsImh0bWwiLCJ3aW5kb3ciLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsIkhUTUxFbGVtZW50IiwiU2hhZHlDU1MiLCJwcmVwYXJlVGVtcGxhdGUiLCJzdHlsZUVsZW1lbnQiLCJ0aGlzIiwiYXR0YWNoU2hhZG93IiwibW9kZSIsImFwcGVuZENoaWxkIiwiY29udGVudCIsImNsb25lTm9kZSIsInNoYWRvd1Jvb3QiLCJwbGF5IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJzdHlsZSIsImJhY2tncm91bmQiLCJzZWxlY3RlZCIsInNldEFjdGl2ZSIsIm9wYWNpdHkiLCJib29sIiwiTWFwU2hpbSIsInJlc3VsdCIsImFyciIsInNvbWUiLCJlbnRyeSIsIk1hcCIsIl9fZW50cmllc19fIiwicHJvdG90eXBlQWNjZXNzb3JzIiwiY29uZmlndXJhYmxlIiwiZ2V0IiwiYW5vbnltb3VzIiwicHJvdG90eXBlIiwiaW5kZXgiLCJnZXRJbmRleCIsInNldCIsInB1c2giLCJkZWxldGUiLCJlbnRyaWVzIiwic3BsaWNlIiwiaGFzIiwiY2xlYXIiLCJmb3JFYWNoIiwiY3R4IiwiY2FsbGJhY2siLCJjYWxsIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydGllcyIsImdsb2JhbCQxIiwiZ2xvYmFsIiwic2VsZiIsIkZ1bmN0aW9uIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lJDEiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJiaW5kIiwic2V0VGltZW91dCIsIkRhdGUiLCJub3ciLCJ0cmFuc2l0aW9uS2V5cyIsIm11dGF0aW9uT2JzZXJ2ZXJTdXBwb3J0ZWQiLCJNdXRhdGlvbk9ic2VydmVyIiwiUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyIiwiY29ubmVjdGVkXyIsIm11dGF0aW9uRXZlbnRzQWRkZWRfIiwibXV0YXRpb25zT2JzZXJ2ZXJfIiwib2JzZXJ2ZXJzXyIsIm9uVHJhbnNpdGlvbkVuZF8iLCJyZWZyZXNoIiwibGVhZGluZ0NhbGwiLCJ0cmFpbGluZ0NhbGwiLCJwcm94eSIsInRpbWVTdGFtcCIsImxhc3RDYWxsVGltZSIsInRocm90dGxlIiwiYWRkT2JzZXJ2ZXIiLCJpbmRleE9mIiwiY29ubmVjdF8iLCJyZW1vdmVPYnNlcnZlciIsIm9ic2VydmVycyIsImRpc2Nvbm5lY3RfIiwidXBkYXRlT2JzZXJ2ZXJzXyIsImFjdGl2ZU9ic2VydmVycyIsImZpbHRlciIsIm9ic2VydmVyIiwiZ2F0aGVyQWN0aXZlIiwiaGFzQWN0aXZlIiwiYnJvYWRjYXN0QWN0aXZlIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJjaGlsZExpc3QiLCJjaGFyYWN0ZXJEYXRhIiwic3VidHJlZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0IiwicHJvcGVydHlOYW1lIiwicmVmIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZV8iLCJkZWZpbmVDb25maWd1cmFibGUiLCJrZXlzIiwiZGVmaW5lUHJvcGVydHkiLCJwcm9wcyIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsImVtcHR5UmVjdCIsIlNWR0dyYXBoaWNzRWxlbWVudCIsIlNWR0VsZW1lbnQiLCJSZXNpemVPYnNlcnZhdGlvbiIsImJyb2FkY2FzdFdpZHRoIiwiYnJvYWRjYXN0SGVpZ2h0IiwiY29udGVudFJlY3RfIiwiaXNBY3RpdmUiLCJyZWN0IiwiZ2V0Q29udGVudFJlY3QiLCJicm9hZGNhc3RSZWN0IiwiUmVzaXplT2JzZXJ2ZXJFbnRyeSIsIkNvbnN0ciIsImNvbnRlbnRSZWN0IiwiRE9NUmVjdFJlYWRPbmx5IiwiY3JlYXRlIiwiUmVzaXplT2JzZXJ2ZXJTUEkiLCJhY3RpdmVPYnNlcnZhdGlvbnNfIiwib2JzZXJ2YXRpb25zXyIsIlR5cGVFcnJvciIsImNhbGxiYWNrXyIsImNvbnRyb2xsZXJfIiwiY2FsbGJhY2tDdHhfIiwiRWxlbWVudCIsIm9ic2VydmF0aW9ucyIsInVub2JzZXJ2ZSIsImNsZWFyQWN0aXZlIiwidGhpcyQxIiwib2JzZXJ2YXRpb24iLCJtYXAiLCJXZWFrTWFwIiwiUmVzaXplT2JzZXJ2ZXIiLCJjb250cm9sbGVyIiwiYXBwbHkiLCJjb2xvcnMiLCJjcmVhdGVFbGVtZW50IiwiYWN0aXZlIiwiYW5pbWF0aW5nIiwiZG5kIiwib25DbGljayIsImNpcmNsZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2V0VmFsdWUiLCJzZXRDb2xvciIsImMiLCJjb250YWlucyIsInNob3dpbmdDaXJjbGVzIiwic2V0U2l6ZSIsIm1hcmdpbiIsImZsZXgiLCJzaG93Q2lyY2xlcyIsImhpZGVDaXJjbGVzIiwicmVtb3ZlIiwic3RvcFByb3BhZ2F0aW9uIiwiZSIsInNldFNlbGVjdGVkIiwiYW5pbWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsInNob3dSZXN1bHQiLCJzZW5kQ29udGFpbmVyIiwic2VuZCIsImtleXNSb3dzIiwicm8iLCJyIiwianVzdGlmeUNvbnRlbnQiLCJoaXRzIiwicHNldWRvSGl0cyIsInNob3dTZW5kIiwidmFsaWRhdGVTZW5kIiwidmFsaWRhdGVDb2RlIiwic2V0UmVzdWx0IiwiaXRlbXMiLCJ3YWl0IiwiYWxsU2VsZWN0ZWQiLCJnZXRTZWxlY3RlZCIsImNvZGUiLCJkZXRhaWwiLCJ0cnkiLCJyb3dzIiwibWFzdGVyIiwidHJpZXMiLCJndWVzcyIsImNvbnNvbGUiLCJsb2ciLCJzb2x1dGlvbiIsImdlbmVyYXRlIiwiYXNzaWduIiwib2JqIiwic2xpY2UiLCJmcmVxIiwiQXJyYXkiLCJmaWxsIiwidiIsImluY2x1ZGVzIiwicmFuZG9tIiwidG9vbGJhciIsImJvYXJkIiwibmV3R2FtZSIsInNldEdhbWUiXSwibWFwcGluZ3MiOiJ5QkFpZ0JBLGNBQ0ksTUFBT0EsZ0JBQXFCLENBVWhDLGVBRUksSUFEQSxHQUFJQyxLQUFKLENBQW9CQyxFQUFNQyxVQUFVQyxNQUFWRCxDQUFtQixDQUM3QyxDQUFnQixDQUFSRCxJQUFSLEVBQW9CRCxLQUFtQkUsVUFBV0QsRUFBTSxDQUFqQkMsQ0FBbkJGLENBRXBCLE1BQU9BLEdBQVVJLE1BQVZKLENBQWlCLGNBR3BCLE1BQU9LLEdBQU9DLEVBRkZDLEVBQU8sWUFBdUIsUUFBOUJBLENBRUVELEVBSFhOLENBSUosQ0FKSUEsQ0ErQ1gscUJBaUVZUSxLQUFLQyxJQTlEVEMsRUFBY0MsRUFBT0QsWUFDckJFLEVBQWVELEVBQU9DLGFBVTFCLFNBQUEsQ0FDSSxTQUdKLEdBQUlMLEdBQVNNLEtBQW9CQyxnQkFBcEJELEdBQWIsQ0FDSUUsRUFyRFIsWUFJSSxJQUhBLEdBQ0lBLEtBREosQ0FHU0MsRUFBSSxDQUhiLENBR2dCQyxHQUhDLE1BQU8sUUFBUyxTQUFVLE9BRzNDLENBQWtDRCxFQUFJQyxFQUFLZCxNQUEzQyxDQUFtRGEsR0FBSyxDQUF4RCxDQUEyRCxDQUN2RCxHQUFJRSxHQUFXRCxJQUFmLENBRUlFLEVBQVFaLEVBQU8sWUFBUEEsQ0FGWixDQUlBUSxLQUFxQlQsSUFHekIsU0F5Q2VjLENBckRuQixHQW9ESSxDQUVJQyxFQUFXTixFQUFTTyxJQUFUUCxDQUFnQkEsRUFBU1EsS0FGeEMsQ0FHSUMsRUFBVVQsRUFBU1UsR0FBVFYsQ0FBZUEsRUFBU1csTUFIdEMsQ0FTSUMsRUFBUXJCLEVBQVFDLEVBQU9vQixLQUFmckIsQ0FUWixDQVVJ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
